var wi=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var b=(e,n,t)=>(wi(e,n,"read from private field"),t?t.call(e):n.get(e)),D=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},B=(e,n,t,r)=>(wi(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t);var I=(e,n,t)=>(wi(e,n,"access private method"),t);var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l0(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var vs={exports:{}};(function(e){(function(n,t){e.exports?e.exports=t():n.log=t()})(Gl,function(){var n=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(y,h){var g=y[h];if(typeof g.bind=="function")return g.bind(y);try{return Function.prototype.bind.call(g,y)}catch{return function(){return Function.prototype.apply.apply(g,[y,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(y){return y==="debug"&&(y="log"),typeof console===t?!1:y==="trace"&&r?s:console[y]!==void 0?a(console,y):console.log!==void 0?a(console,"log"):n}function u(y,h){for(var g=0;g<i.length;g++){var m=i[g];this[m]=g<y?n:this.methodFactory(m,y,h)}this.log=this.debug}function l(y,h,g){return function(){typeof console!==t&&(u.call(this,h,g),this[y].apply(this,arguments))}}function c(y,h,g){return o(y)||l.apply(this,arguments)}function w(y,h,g){var m=this,A;h=h??"WARN";var f="loglevel";typeof y=="string"?f+=":"+y:typeof y=="symbol"&&(f=void 0);function S(x){var O=(i[x]||"silent").toUpperCase();if(!(typeof window===t||!f)){try{window.localStorage[f]=O;return}catch{}try{window.document.cookie=encodeURIComponent(f)+"="+O+";"}catch{}}}function E(){var x;if(!(typeof window===t||!f)){try{x=window.localStorage[f]}catch{}if(typeof x===t)try{var O=window.document.cookie,k=O.indexOf(encodeURIComponent(f)+"=");k!==-1&&(x=/^([^;]+)/.exec(O.slice(k))[1])}catch{}return m.levels[x]===void 0&&(x=void 0),x}}function T(){if(!(typeof window===t||!f)){try{window.localStorage.removeItem(f);return}catch{}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}m.name=y,m.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},m.methodFactory=g||c,m.getLevel=function(){return A},m.setLevel=function(x,O){if(typeof x=="string"&&m.levels[x.toUpperCase()]!==void 0&&(x=m.levels[x.toUpperCase()]),typeof x=="number"&&x>=0&&x<=m.levels.SILENT){if(A=x,O!==!1&&S(x),u.call(m,x,y),typeof console===t&&x<m.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+x},m.setDefaultLevel=function(x){h=x,E()||m.setLevel(x,!1)},m.resetLevel=function(){m.setLevel(h,!1),T()},m.enableAll=function(x){m.setLevel(m.levels.TRACE,x)},m.disableAll=function(x){m.setLevel(m.levels.SILENT,x)};var L=E();L==null&&(L=h),m.setLevel(L,!1)}var p=new w,d={};p.getLogger=function(h){if(typeof h!="symbol"&&typeof h!="string"||h==="")throw new TypeError("You must supply a name when creating a logger.");var g=d[h];return g||(g=d[h]=new w(h,p.getLevel(),p.methodFactory)),g};var v=typeof window!==t?window.log:void 0;return p.noConflict=function(){return typeof window!==t&&window.log===p&&(window.log=v),p},p.getLoggers=function(){return d},p.default=p,p})})(vs);var za=vs.exports;const Kl=(e,n,t)=>new Map(Object.entries(e).map(([r,i])=>[n(r,i),t(r,i)])),Vl=e=>typeof e=="string"?e:typeof e=="symbol"?Symbol.keyFor(e)??null:typeof e=="function"?e.name:null,Wl=(e,n)=>{if(e==null)throw n();return e},wa=(e,n)=>{if(!e.has(n)){const t=JSON.stringify(Array.from(e.keys()));throw new TypeError(`Could not find key '${String(n)}' in map keys '${t}'.`)}return e.get(n)},xa=e=>{const n=Vl(e);if(n==null)throw new TypeError(`Cannot find name for consumer: '${String(e)}'`);const t=za.getLogger(n);return t.setLevel(za.levels.WARN),t};var on=(e=>(e.DEFAULT="DEFAULT",e.YGOPRODECK="YGOPRODECK",e))(on||{});const pe={UNLIMITED:{name:"Unlimited",count:3},SEMI_LIMITED:{name:"Semi-Limited",count:2},LIMITED:{name:"Limited",count:1},BANNED:{name:"Banned",count:0}},f0=[pe.UNLIMITED,pe.SEMI_LIMITED,pe.LIMITED,pe.BANNED];var at=(e=>(e.MAIN="main",e.EXTRA="extra",e.SIDE="side",e))(at||{});const On=Object.values(at),c0={[at.MAIN]:{name:"Main",indicator:"#main",min:40,max:60,recommended:40},[at.EXTRA]:{name:"Extra",indicator:"#extra",min:0,max:15,recommended:15},[at.SIDE]:{name:"Side",indicator:"!side",min:0,max:15,recommended:15}};var Z=(e=>(e.OCG="OCG",e.TCG="TCG",e.GOAT="GOAT",e.OCG_GOAT="OCG GOAT",e.SPEED_DUEL="Speed Duel",e.RUSH_DUEL="Rush Duel",e.DUEL_LINKS="Duel Links",e.COMMON_CHARITY="Common Charity",e.EDISON="Edison",e))(Z||{});const Rr={USD:{id:"USD"},EUR:{id:"EUR"}};var G=(e=>(e.MONSTER="Monster",e.SPELL="Spell",e.TRAP="Trap",e.SKILL="Skill",e))(G||{});const Rn={CARD_MARKET:{name:"Cardmarket",id:"cardmarket",currency:Rr.EUR},TCG_PLAYER:{name:"TCGPlayer",id:"tcgplayer",currency:Rr.USD},COOL_STUFF_INC:{name:"CoolStuffInc",id:"coolstuffinc",currency:Rr.USD},CUSTOM:{name:"Pesos: ",id:"custom",currency:Rr.USD}},Yl=[Rn.CUSTOM];var ue=(e=>(e.NAME="name",e.PASSCODE="passcode",e))(ue||{}),Xl=typeof global=="object"&&global&&global.Object===Object&&global;const bs=Xl;var ql=typeof self=="object"&&self&&self.Object===Object&&self,Jl=bs||ql||Function("return this")();const Ke=Jl;var Ql=Ke.Symbol;const sn=Ql;var ms=Object.prototype,ef=ms.hasOwnProperty,tf=ms.toString,Sn=sn?sn.toStringTag:void 0;function nf(e){var n=ef.call(e,Sn),t=e[Sn];try{e[Sn]=void 0;var r=!0}catch{}var i=tf.call(e);return r&&(n?e[Sn]=t:delete e[Sn]),i}var rf=Object.prototype,af=rf.toString;function of(e){return af.call(e)}var sf="[object Null]",lf="[object Undefined]",Ba=sn?sn.toStringTag:void 0;function hr(e){return e==null?e===void 0?lf:sf:Ba&&Ba in Object(e)?nf(e):of(e)}function Bn(e){return e!=null&&typeof e=="object"}var ff=Array.isArray;const Gr=ff;function ys(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var cf="[object AsyncFunction]",uf="[object Function]",df="[object GeneratorFunction]",pf="[object Proxy]";function ws(e){if(!ys(e))return!1;var n=hr(e);return n==uf||n==df||n==cf||n==pf}var hf=Ke["__core-js_shared__"];const xi=hf;var ja=function(){var e=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _f(e){return!!ja&&ja in e}var gf=Function.prototype,vf=gf.toString;function Ut(e){if(e!=null){try{return vf.call(e)}catch{}try{return e+""}catch{}}return""}var bf=/[\\^$.*+?()[\]{}|]/g,mf=/^\[object .+?Constructor\]$/,yf=Function.prototype,wf=Object.prototype,xf=yf.toString,Ef=wf.hasOwnProperty,Af=RegExp("^"+xf.call(Ef).replace(bf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tf(e){if(!ys(e)||_f(e))return!1;var n=ws(e)?Af:mf;return n.test(Ut(e))}function Of(e,n){return e==null?void 0:e[n]}function gn(e,n){var t=Of(e,n);return Tf(t)?t:void 0}var Sf=gn(Ke,"WeakMap");const Gi=Sf;var kf=9007199254740991,Cf=/^(?:0|[1-9]\d*)$/;function Df(e,n){var t=typeof e;return n=n??kf,!!n&&(t=="number"||t!="symbol"&&Cf.test(e))&&e>-1&&e%1==0&&e<n}function xs(e,n){return e===n||e!==e&&n!==n}var Lf=9007199254740991;function Es(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Lf}function Rf(e){return e!=null&&Es(e.length)&&!ws(e)}var If=Object.prototype;function Mf(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||If;return e===t}function $f(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var Pf="[object Arguments]";function Fa(e){return Bn(e)&&hr(e)==Pf}var As=Object.prototype,Nf=As.hasOwnProperty,Uf=As.propertyIsEnumerable,zf=Fa(function(){return arguments}())?Fa:function(e){return Bn(e)&&Nf.call(e,"callee")&&!Uf.call(e,"callee")};const Bf=zf;function jf(){return!1}var Ts=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ha=Ts&&typeof module=="object"&&module&&!module.nodeType&&module,Ff=Ha&&Ha.exports===Ts,Za=Ff?Ke.Buffer:void 0,Hf=Za?Za.isBuffer:void 0,Zf=Hf||jf;const Ki=Zf;var Gf="[object Arguments]",Kf="[object Array]",Vf="[object Boolean]",Wf="[object Date]",Yf="[object Error]",Xf="[object Function]",qf="[object Map]",Jf="[object Number]",Qf="[object Object]",ec="[object RegExp]",tc="[object Set]",nc="[object String]",rc="[object WeakMap]",ic="[object ArrayBuffer]",ac="[object DataView]",oc="[object Float32Array]",sc="[object Float64Array]",lc="[object Int8Array]",fc="[object Int16Array]",cc="[object Int32Array]",uc="[object Uint8Array]",dc="[object Uint8ClampedArray]",pc="[object Uint16Array]",hc="[object Uint32Array]",F={};F[oc]=F[sc]=F[lc]=F[fc]=F[cc]=F[uc]=F[dc]=F[pc]=F[hc]=!0;F[Gf]=F[Kf]=F[ic]=F[Vf]=F[ac]=F[Wf]=F[Yf]=F[Xf]=F[qf]=F[Jf]=F[Qf]=F[ec]=F[tc]=F[nc]=F[rc]=!1;function _c(e){return Bn(e)&&Es(e.length)&&!!F[hr(e)]}function gc(e){return function(n){return e(n)}}var Os=typeof exports=="object"&&exports&&!exports.nodeType&&exports,In=Os&&typeof module=="object"&&module&&!module.nodeType&&module,vc=In&&In.exports===Os,Ei=vc&&bs.process,bc=function(){try{var e=In&&In.require&&In.require("util").types;return e||Ei&&Ei.binding&&Ei.binding("util")}catch{}}();const Ga=bc;var Ka=Ga&&Ga.isTypedArray,mc=Ka?gc(Ka):_c;const Ss=mc;var yc=Object.prototype,wc=yc.hasOwnProperty;function xc(e,n){var t=Gr(e),r=!t&&Bf(e),i=!t&&!r&&Ki(e),a=!t&&!r&&!i&&Ss(e),s=t||r||i||a,o=s?$f(e.length,String):[],u=o.length;for(var l in e)(n||wc.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Df(l,u)))&&o.push(l);return o}function Ec(e,n){return function(t){return e(n(t))}}var Ac=Ec(Object.keys,Object);const Tc=Ac;var Oc=Object.prototype,Sc=Oc.hasOwnProperty;function kc(e){if(!Mf(e))return Tc(e);var n=[];for(var t in Object(e))Sc.call(e,t)&&t!="constructor"&&n.push(t);return n}function Cc(e){return Rf(e)?xc(e):kc(e)}var Dc=gn(Object,"create");const jn=Dc;function Lc(){this.__data__=jn?jn(null):{},this.size=0}function Rc(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var Ic="__lodash_hash_undefined__",Mc=Object.prototype,$c=Mc.hasOwnProperty;function Pc(e){var n=this.__data__;if(jn){var t=n[e];return t===Ic?void 0:t}return $c.call(n,e)?n[e]:void 0}var Nc=Object.prototype,Uc=Nc.hasOwnProperty;function zc(e){var n=this.__data__;return jn?n[e]!==void 0:Uc.call(n,e)}var Bc="__lodash_hash_undefined__";function jc(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=jn&&n===void 0?Bc:n,this}function Mt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Mt.prototype.clear=Lc;Mt.prototype.delete=Rc;Mt.prototype.get=Pc;Mt.prototype.has=zc;Mt.prototype.set=jc;function Fc(){this.__data__=[],this.size=0}function di(e,n){for(var t=e.length;t--;)if(xs(e[t][0],n))return t;return-1}var Hc=Array.prototype,Zc=Hc.splice;function Gc(e){var n=this.__data__,t=di(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Zc.call(n,t,1),--this.size,!0}function Kc(e){var n=this.__data__,t=di(n,e);return t<0?void 0:n[t][1]}function Vc(e){return di(this.__data__,e)>-1}function Wc(e,n){var t=this.__data__,r=di(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Ve(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Ve.prototype.clear=Fc;Ve.prototype.delete=Gc;Ve.prototype.get=Kc;Ve.prototype.has=Vc;Ve.prototype.set=Wc;var Yc=gn(Ke,"Map");const Fn=Yc;function Xc(){this.size=0,this.__data__={hash:new Mt,map:new(Fn||Ve),string:new Mt}}function qc(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function pi(e,n){var t=e.__data__;return qc(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Jc(e){var n=pi(this,e).delete(e);return this.size-=n?1:0,n}function Qc(e){return pi(this,e).get(e)}function eu(e){return pi(this,e).has(e)}function tu(e,n){var t=pi(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function zt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}zt.prototype.clear=Xc;zt.prototype.delete=Jc;zt.prototype.get=Qc;zt.prototype.has=eu;zt.prototype.set=tu;function nu(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}function ru(){this.__data__=new Ve,this.size=0}function iu(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function au(e){return this.__data__.get(e)}function ou(e){return this.__data__.has(e)}var su=200;function lu(e,n){var t=this.__data__;if(t instanceof Ve){var r=t.__data__;if(!Fn||r.length<su-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new zt(r)}return t.set(e,n),this.size=t.size,this}function ot(e){var n=this.__data__=new Ve(e);this.size=n.size}ot.prototype.clear=ru;ot.prototype.delete=iu;ot.prototype.get=au;ot.prototype.has=ou;ot.prototype.set=lu;function fu(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function cu(){return[]}var uu=Object.prototype,du=uu.propertyIsEnumerable,Va=Object.getOwnPropertySymbols,pu=Va?function(e){return e==null?[]:(e=Object(e),fu(Va(e),function(n){return du.call(e,n)}))}:cu;const hu=pu;function _u(e,n,t){var r=n(e);return Gr(e)?r:nu(r,t(e))}function Wa(e){return _u(e,Cc,hu)}var gu=gn(Ke,"DataView");const Vi=gu;var vu=gn(Ke,"Promise");const Wi=vu;var bu=gn(Ke,"Set");const Yi=bu;var Ya="[object Map]",mu="[object Object]",Xa="[object Promise]",qa="[object Set]",Ja="[object WeakMap]",Qa="[object DataView]",yu=Ut(Vi),wu=Ut(Fn),xu=Ut(Wi),Eu=Ut(Yi),Au=Ut(Gi),_t=hr;(Vi&&_t(new Vi(new ArrayBuffer(1)))!=Qa||Fn&&_t(new Fn)!=Ya||Wi&&_t(Wi.resolve())!=Xa||Yi&&_t(new Yi)!=qa||Gi&&_t(new Gi)!=Ja)&&(_t=function(e){var n=hr(e),t=n==mu?e.constructor:void 0,r=t?Ut(t):"";if(r)switch(r){case yu:return Qa;case wu:return Ya;case xu:return Xa;case Eu:return qa;case Au:return Ja}return n});const eo=_t;var Tu=Ke.Uint8Array;const to=Tu;var Ou="__lodash_hash_undefined__";function Su(e){return this.__data__.set(e,Ou),this}function ku(e){return this.__data__.has(e)}function Kr(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new zt;++n<t;)this.add(e[n])}Kr.prototype.add=Kr.prototype.push=Su;Kr.prototype.has=ku;function Cu(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function Du(e,n){return e.has(n)}var Lu=1,Ru=2;function ks(e,n,t,r,i,a){var s=t&Lu,o=e.length,u=n.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(e),c=a.get(n);if(l&&c)return l==n&&c==e;var w=-1,p=!0,d=t&Ru?new Kr:void 0;for(a.set(e,n),a.set(n,e);++w<o;){var v=e[w],y=n[w];if(r)var h=s?r(y,v,w,n,e,a):r(v,y,w,e,n,a);if(h!==void 0){if(h)continue;p=!1;break}if(d){if(!Cu(n,function(g,m){if(!Du(d,m)&&(v===g||i(v,g,t,r,a)))return d.push(m)})){p=!1;break}}else if(!(v===y||i(v,y,t,r,a))){p=!1;break}}return a.delete(e),a.delete(n),p}function Iu(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function Mu(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var $u=1,Pu=2,Nu="[object Boolean]",Uu="[object Date]",zu="[object Error]",Bu="[object Map]",ju="[object Number]",Fu="[object RegExp]",Hu="[object Set]",Zu="[object String]",Gu="[object Symbol]",Ku="[object ArrayBuffer]",Vu="[object DataView]",no=sn?sn.prototype:void 0,Ai=no?no.valueOf:void 0;function Wu(e,n,t,r,i,a,s){switch(t){case Vu:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ku:return!(e.byteLength!=n.byteLength||!a(new to(e),new to(n)));case Nu:case Uu:case ju:return xs(+e,+n);case zu:return e.name==n.name&&e.message==n.message;case Fu:case Zu:return e==n+"";case Bu:var o=Iu;case Hu:var u=r&$u;if(o||(o=Mu),e.size!=n.size&&!u)return!1;var l=s.get(e);if(l)return l==n;r|=Pu,s.set(e,n);var c=ks(o(e),o(n),r,i,a,s);return s.delete(e),c;case Gu:if(Ai)return Ai.call(e)==Ai.call(n)}return!1}var Yu=1,Xu=Object.prototype,qu=Xu.hasOwnProperty;function Ju(e,n,t,r,i,a){var s=t&Yu,o=Wa(e),u=o.length,l=Wa(n),c=l.length;if(u!=c&&!s)return!1;for(var w=u;w--;){var p=o[w];if(!(s?p in n:qu.call(n,p)))return!1}var d=a.get(e),v=a.get(n);if(d&&v)return d==n&&v==e;var y=!0;a.set(e,n),a.set(n,e);for(var h=s;++w<u;){p=o[w];var g=e[p],m=n[p];if(r)var A=s?r(m,g,p,n,e,a):r(g,m,p,e,n,a);if(!(A===void 0?g===m||i(g,m,t,r,a):A)){y=!1;break}h||(h=p=="constructor")}if(y&&!h){var f=e.constructor,S=n.constructor;f!=S&&"constructor"in e&&"constructor"in n&&!(typeof f=="function"&&f instanceof f&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(e),a.delete(n),y}var Qu=1,ro="[object Arguments]",io="[object Array]",Ir="[object Object]",ed=Object.prototype,ao=ed.hasOwnProperty;function td(e,n,t,r,i,a){var s=Gr(e),o=Gr(n),u=s?io:eo(e),l=o?io:eo(n);u=u==ro?Ir:u,l=l==ro?Ir:l;var c=u==Ir,w=l==Ir,p=u==l;if(p&&Ki(e)){if(!Ki(n))return!1;s=!0,c=!1}if(p&&!c)return a||(a=new ot),s||Ss(e)?ks(e,n,t,r,i,a):Wu(e,n,u,t,r,i,a);if(!(t&Qu)){var d=c&&ao.call(e,"__wrapped__"),v=w&&ao.call(n,"__wrapped__");if(d||v){var y=d?e.value():e,h=v?n.value():n;return a||(a=new ot),i(y,h,t,r,a)}}return p?(a||(a=new ot),Ju(e,n,t,r,i,a)):!1}function Cs(e,n,t,r,i){return e===n?!0:e==null||n==null||!Bn(e)&&!Bn(n)?e!==e&&n!==n:td(e,n,t,r,Cs,i)}function nd(e,n){return Cs(e,n)}class rd{formatPrice(n,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.id}).format(n)}getPrice(n,t){let r=0;const i=[];for(const a of n)if(a.prices.has(t)){const s=a.prices.get(t);r+=s}else i.push(a);return{price:r,missing:i}}}var Jr;const Qr=class Qr{hasBanlist(n){return b(Qr,Jr).has(n)}getBanStateByFormat(n,t){return t==null?pe.UNLIMITED:n.formats.includes(t)?this.hasBanlist(t)?n.banlist[t]:pe.UNLIMITED:pe.BANNED}};Jr=new WeakMap,D(Qr,Jr,new Set([Z.OCG,Z.TCG,Z.GOAT]));let oo=Qr;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const id=4,so=0,lo=1,ad=2;function vn(e){let n=e.length;for(;--n>=0;)e[n]=0}const od=0,Ds=1,sd=2,ld=3,fd=258,Ea=29,_r=256,Hn=_r+1+Ea,Jt=30,Aa=19,Ls=2*Hn+1,bt=15,Ti=16,cd=7,Ta=256,Rs=16,Is=17,Ms=18,Xi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Hr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ud=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dd=512,He=new Array((Hn+2)*2);vn(He);const Mn=new Array(Jt*2);vn(Mn);const Zn=new Array(dd);vn(Zn);const Gn=new Array(fd-ld+1);vn(Gn);const Oa=new Array(Ea);vn(Oa);const Vr=new Array(Jt);vn(Vr);function Oi(e,n,t,r,i){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Ps,Ns,Us;function Si(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const zs=e=>e<256?Zn[e]:Zn[256+(e>>>7)],Kn=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},te=(e,n,t)=>{e.bi_valid>Ti-t?(e.bi_buf|=n<<e.bi_valid&65535,Kn(e,e.bi_buf),e.bi_buf=n>>Ti-e.bi_valid,e.bi_valid+=t-Ti):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Le=(e,n,t)=>{te(e,t[n*2],t[n*2+1])},Bs=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},pd=e=>{e.bi_valid===16?(Kn(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},hd=(e,n)=>{const t=n.dyn_tree,r=n.max_code,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,u=n.stat_desc.max_length;let l,c,w,p,d,v,y=0;for(p=0;p<=bt;p++)e.bl_count[p]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Ls;l++)c=e.heap[l],p=t[t[c*2+1]*2+1]+1,p>u&&(p=u,y++),t[c*2+1]=p,!(c>r)&&(e.bl_count[p]++,d=0,c>=o&&(d=s[c-o]),v=t[c*2],e.opt_len+=v*(p+d),a&&(e.static_len+=v*(i[c*2+1]+d)));if(y!==0){do{for(p=u-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[u]--,y-=2}while(y>0);for(p=u;p!==0;p--)for(c=e.bl_count[p];c!==0;)w=e.heap[--l],!(w>r)&&(t[w*2+1]!==p&&(e.opt_len+=(p-t[w*2+1])*t[w*2],t[w*2+1]=p),c--)}},js=(e,n,t)=>{const r=new Array(bt+1);let i=0,a,s;for(a=1;a<=bt;a++)i=i+t[a-1]<<1,r[a]=i;for(s=0;s<=n;s++){let o=e[s*2+1];o!==0&&(e[s*2]=Bs(r[o]++,o))}},_d=()=>{let e,n,t,r,i;const a=new Array(bt+1);for(t=0,r=0;r<Ea-1;r++)for(Oa[r]=t,e=0;e<1<<Xi[r];e++)Gn[t++]=r;for(Gn[t-1]=r,i=0,r=0;r<16;r++)for(Vr[r]=i,e=0;e<1<<Hr[r];e++)Zn[i++]=r;for(i>>=7;r<Jt;r++)for(Vr[r]=i<<7,e=0;e<1<<Hr[r]-7;e++)Zn[256+i++]=r;for(n=0;n<=bt;n++)a[n]=0;for(e=0;e<=143;)He[e*2+1]=8,e++,a[8]++;for(;e<=255;)He[e*2+1]=9,e++,a[9]++;for(;e<=279;)He[e*2+1]=7,e++,a[7]++;for(;e<=287;)He[e*2+1]=8,e++,a[8]++;for(js(He,Hn+1,a),e=0;e<Jt;e++)Mn[e*2+1]=5,Mn[e*2]=Bs(e,5);Ps=new Oi(He,Xi,_r+1,Hn,bt),Ns=new Oi(Mn,Hr,0,Jt,bt),Us=new Oi(new Array(0),ud,0,Aa,cd)},Fs=e=>{let n;for(n=0;n<Hn;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Jt;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Aa;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Ta*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Hs=e=>{e.bi_valid>8?Kn(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},fo=(e,n,t,r)=>{const i=n*2,a=t*2;return e[i]<e[a]||e[i]===e[a]&&r[n]<=r[t]},ki=(e,n,t)=>{const r=e.heap[t];let i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&fo(n,e.heap[i+1],e.heap[i],e.depth)&&i++,!fo(n,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r},co=(e,n,t)=>{let r,i,a=0,s,o;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?Le(e,i,n):(s=Gn[i],Le(e,s+_r+1,n),o=Xi[s],o!==0&&(i-=Oa[s],te(e,i,o)),r--,s=zs(r),Le(e,s,t),o=Hr[s],o!==0&&(r-=Vr[s],te(e,r,o)));while(a<e.sym_next);Le(e,Ta,n)},qi=(e,n)=>{const t=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,a=n.stat_desc.elems;let s,o,u=-1,l;for(e.heap_len=0,e.heap_max=Ls,s=0;s<a;s++)t[s*2]!==0?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(n.max_code=u,s=e.heap_len>>1;s>=1;s--)ki(e,t,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ki(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,ki(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],hd(e,n),js(t,u,e.bl_count)},uo=(e,n,t)=>{let r,i=-1,a,s=n[0*2+1],o=0,u=7,l=4;for(s===0&&(u=138,l=3),n[(t+1)*2+1]=65535,r=0;r<=t;r++)a=s,s=n[(r+1)*2+1],!(++o<u&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[Rs*2]++):o<=10?e.bl_tree[Is*2]++:e.bl_tree[Ms*2]++,o=0,i=a,s===0?(u=138,l=3):a===s?(u=6,l=3):(u=7,l=4))},po=(e,n,t)=>{let r,i=-1,a,s=n[0*2+1],o=0,u=7,l=4;for(s===0&&(u=138,l=3),r=0;r<=t;r++)if(a=s,s=n[(r+1)*2+1],!(++o<u&&a===s)){if(o<l)do Le(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Le(e,a,e.bl_tree),o--),Le(e,Rs,e.bl_tree),te(e,o-3,2)):o<=10?(Le(e,Is,e.bl_tree),te(e,o-3,3)):(Le(e,Ms,e.bl_tree),te(e,o-11,7));o=0,i=a,s===0?(u=138,l=3):a===s?(u=6,l=3):(u=7,l=4)}},gd=e=>{let n;for(uo(e,e.dyn_ltree,e.l_desc.max_code),uo(e,e.dyn_dtree,e.d_desc.max_code),qi(e,e.bl_desc),n=Aa-1;n>=3&&e.bl_tree[$s[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},vd=(e,n,t,r)=>{let i;for(te(e,n-257,5),te(e,t-1,5),te(e,r-4,4),i=0;i<r;i++)te(e,e.bl_tree[$s[i]*2+1],3);po(e,e.dyn_ltree,n-1),po(e,e.dyn_dtree,t-1)},bd=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return so;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return lo;for(t=32;t<_r;t++)if(e.dyn_ltree[t*2]!==0)return lo;return so};let ho=!1;const md=e=>{ho||(_d(),ho=!0),e.l_desc=new Si(e.dyn_ltree,Ps),e.d_desc=new Si(e.dyn_dtree,Ns),e.bl_desc=new Si(e.bl_tree,Us),e.bi_buf=0,e.bi_valid=0,Fs(e)},Zs=(e,n,t,r)=>{te(e,(od<<1)+(r?1:0),3),Hs(e),Kn(e,t),Kn(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},yd=e=>{te(e,Ds<<1,3),Le(e,Ta,He),pd(e)},wd=(e,n,t,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===ad&&(e.strm.data_type=bd(e)),qi(e,e.l_desc),qi(e,e.d_desc),s=gd(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=t+5,t+4<=i&&n!==-1?Zs(e,n,t,r):e.strategy===id||a===i?(te(e,(Ds<<1)+(r?1:0),3),co(e,He,Mn)):(te(e,(sd<<1)+(r?1:0),3),vd(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),co(e,e.dyn_ltree,e.dyn_dtree)),Fs(e),r&&Hs(e)},xd=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Gn[t]+_r+1)*2]++,e.dyn_dtree[zs(n)*2]++),e.sym_next===e.sym_end);var Ed=md,Ad=Zs,Td=wd,Od=xd,Sd=yd,kd={_tr_init:Ed,_tr_stored_block:Ad,_tr_flush_block:Td,_tr_tally:Od,_tr_align:Sd};const Cd=(e,n,t,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+n[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Vn=Cd;const Dd=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Ld=new Uint32Array(Dd()),Rd=(e,n,t,r)=>{const i=Ld,a=r+t;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^n[s])&255];return e^-1};var W=Rd,ln={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Id,_tr_stored_block:Ji,_tr_flush_block:Md,_tr_tally:st,_tr_align:$d}=kd,{Z_NO_FLUSH:lt,Z_PARTIAL_FLUSH:Pd,Z_FULL_FLUSH:Nd,Z_FINISH:de,Z_BLOCK:_o,Z_OK:X,Z_STREAM_END:go,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Ud,Z_BUF_ERROR:Ci,Z_DEFAULT_COMPRESSION:zd,Z_FILTERED:Bd,Z_HUFFMAN_ONLY:Mr,Z_RLE:jd,Z_FIXED:Fd,Z_DEFAULT_STRATEGY:Hd,Z_UNKNOWN:Zd,Z_DEFLATED:hi}=gr,Gd=9,Kd=15,Vd=8,Wd=29,Yd=256,Qi=Yd+1+Wd,Xd=30,qd=19,Jd=2*Qi+1,Qd=15,M=3,rt=258,Me=rt+M+1,ep=32,fn=42,Sa=57,ea=69,ta=73,na=91,ra=103,mt=113,Dn=666,ee=1,bn=2,$t=3,mn=4,tp=3,yt=(e,n)=>(e.msg=ln[n],n),vo=e=>e*2-(e>4?9:0),qe=e=>{let n=e.length;for(;--n>=0;)e[n]=0},np=e=>{let n,t,r,i=e.w_size;n=e.hash_size,r=n;do t=e.head[--r],e.head[r]=t>=i?t-i:0;while(--n);n=i,r=n;do t=e.prev[--r],e.prev[r]=t>=i?t-i:0;while(--n)};let rp=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,ft=rp;const ae=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},oe=(e,n)=>{Md(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,ae(e.strm)},N=(e,n)=>{e.pending_buf[e.pending++]=n},kn=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},ia=(e,n,t,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,n.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=Vn(e.adler,n,i,t):e.state.wrap===2&&(e.adler=W(e.adler,n,i,t)),e.next_in+=i,e.total_in+=i,i)},Gs=(e,n)=>{let t=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-Me?e.strstart-(e.w_size-Me):0,l=e.window,c=e.w_mask,w=e.prev,p=e.strstart+rt;let d=l[r+s-1],v=l[r+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=n,!(l[i+s]!==v||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<p);if(a=rt-(p-r),r=p-rt,a>s){if(e.match_start=n,s=a,a>=o)break;d=l[r+s-1],v=l[r+s]}}while((n=w[n&c])>u&&--t!==0);return s<=e.lookahead?s:e.lookahead},cn=e=>{const n=e.w_size;let t,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-Me)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),np(e),r+=n),e.strm.avail_in===0)break;if(t=ia(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=M)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ft(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ft(e,e.ins_h,e.window[i+M-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<M)););}while(e.lookahead<Me&&e.strm.avail_in!==0)},Ks=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,s=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<t&&(r===0&&n!==de||n===lt||r!==i+e.strm.avail_in)))break;s=n===de&&r===i+e.strm.avail_in?1:0,Ji(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ae(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(ia(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?mn:n!==lt&&n!==de&&e.strm.avail_in===0&&e.strstart===e.block_start?bn:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(ia(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=t||(i||n===de)&&n!==lt&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,s=n===de&&e.strm.avail_in===0&&r===i?1:0,Ji(e,e.block_start,r,s),e.block_start+=r,ae(e.strm)),s?$t:ee)},Di=(e,n)=>{let t,r;for(;;){if(e.lookahead<Me){if(cn(e),e.lookahead<Me&&n===lt)return ee;if(e.lookahead===0)break}if(t=0,e.lookahead>=M&&(e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Me&&(e.match_length=Gs(e,t)),e.match_length>=M)if(r=st(e,e.strstart-e.match_start,e.match_length-M),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=M){e.match_length--;do e.strstart++,e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ft(e,e.ins_h,e.window[e.strstart+1]);else r=st(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(oe(e,!1),e.strm.avail_out===0))return ee}return e.insert=e.strstart<M-1?e.strstart:M-1,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn},Kt=(e,n)=>{let t,r,i;for(;;){if(e.lookahead<Me){if(cn(e),e.lookahead<Me&&n===lt)return ee;if(e.lookahead===0)break}if(t=0,e.lookahead>=M&&(e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=M-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Me&&(e.match_length=Gs(e,t),e.match_length<=5&&(e.strategy===Bd||e.match_length===M&&e.strstart-e.match_start>4096)&&(e.match_length=M-1)),e.prev_length>=M&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-M,r=st(e,e.strstart-1-e.prev_match,e.prev_length-M),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=M-1,e.strstart++,r&&(oe(e,!1),e.strm.avail_out===0))return ee}else if(e.match_available){if(r=st(e,0,e.window[e.strstart-1]),r&&oe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ee}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=st(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<M-1?e.strstart:M-1,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn},ip=(e,n)=>{let t,r,i,a;const s=e.window;for(;;){if(e.lookahead<=rt){if(cn(e),e.lookahead<=rt&&n===lt)return ee;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=M&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+rt;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=rt-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=M?(t=st(e,1,e.match_length-M),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=st(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(oe(e,!1),e.strm.avail_out===0))return ee}return e.insert=0,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn},ap=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(cn(e),e.lookahead===0)){if(n===lt)return ee;break}if(e.match_length=0,t=st(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(oe(e,!1),e.strm.avail_out===0))return ee}return e.insert=0,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn};function Ee(e,n,t,r,i){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=i}const Ln=[new Ee(0,0,0,0,Ks),new Ee(4,4,8,4,Di),new Ee(4,5,16,8,Di),new Ee(4,6,32,32,Di),new Ee(4,4,16,16,Kt),new Ee(8,16,32,32,Kt),new Ee(8,16,128,128,Kt),new Ee(8,32,128,256,Kt),new Ee(32,128,258,1024,Kt),new Ee(32,258,258,4096,Kt)],op=e=>{e.window_size=2*e.w_size,qe(e.head),e.max_lazy_match=Ln[e.level].max_lazy,e.good_match=Ln[e.level].good_length,e.nice_match=Ln[e.level].nice_length,e.max_chain_length=Ln[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=M-1,e.match_available=0,e.ins_h=0};function sp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=hi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jd*2),this.dyn_dtree=new Uint16Array((2*Xd+1)*2),this.bl_tree=new Uint16Array((2*qd+1)*2),qe(this.dyn_ltree),qe(this.dyn_dtree),qe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Qd+1),this.heap=new Uint16Array(2*Qi+1),qe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Qi+1),qe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vr=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==fn&&n.status!==Sa&&n.status!==ea&&n.status!==ta&&n.status!==na&&n.status!==ra&&n.status!==mt&&n.status!==Dn?1:0},Vs=e=>{if(vr(e))return yt(e,Ie);e.total_in=e.total_out=0,e.data_type=Zd;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?Sa:n.wrap?fn:mt,e.adler=n.wrap===2?0:1,n.last_flush=-2,Id(n),X},Ws=e=>{const n=Vs(e);return n===X&&op(e.state),n},lp=(e,n)=>vr(e)||e.state.wrap!==2?Ie:(e.state.gzhead=n,X),Ys=(e,n,t,r,i,a)=>{if(!e)return Ie;let s=1;if(n===zd&&(n=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>Gd||t!==hi||r<8||r>15||n<0||n>9||a<0||a>Fd||r===8&&s!==1)return yt(e,Ie);r===8&&(r=9);const o=new sp;return e.state=o,o.strm=e,o.status=fn,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+M-1)/M),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=n,o.strategy=a,o.method=t,Ws(e)},fp=(e,n)=>Ys(e,n,hi,Kd,Vd,Hd),cp=(e,n)=>{if(vr(e)||n>_o||n<0)return e?yt(e,Ie):Ie;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Dn&&n!==de)return yt(e,e.avail_out===0?Ci:Ie);const r=t.last_flush;if(t.last_flush=n,t.pending!==0){if(ae(e),e.avail_out===0)return t.last_flush=-1,X}else if(e.avail_in===0&&vo(n)<=vo(r)&&n!==de)return yt(e,Ci);if(t.status===Dn&&e.avail_in!==0)return yt(e,Ci);if(t.status===fn&&t.wrap===0&&(t.status=mt),t.status===fn){let i=hi+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Mr||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,i|=a<<6,t.strstart!==0&&(i|=ep),i+=31-i%31,kn(t,i),t.strstart!==0&&(kn(t,e.adler>>>16),kn(t,e.adler&65535)),e.adler=1,t.status=mt,ae(e),t.pending!==0)return t.last_flush=-1,X}if(t.status===Sa){if(e.adler=0,N(t,31),N(t,139),N(t,8),t.gzhead)N(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),N(t,t.gzhead.time&255),N(t,t.gzhead.time>>8&255),N(t,t.gzhead.time>>16&255),N(t,t.gzhead.time>>24&255),N(t,t.level===9?2:t.strategy>=Mr||t.level<2?4:0),N(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(N(t,t.gzhead.extra.length&255),N(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=W(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=ea;else if(N(t,0),N(t,0),N(t,0),N(t,0),N(t,0),N(t,t.level===9?2:t.strategy>=Mr||t.level<2?4:0),N(t,tp),t.status=mt,ae(e),t.pending!==0)return t.last_flush=-1,X}if(t.status===ea){if(t.gzhead.extra){let i=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=o,ae(e),t.pending!==0)return t.last_flush=-1,X;i=0,a-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=ta}if(t.status===ta){if(t.gzhead.name){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),ae(e),t.pending!==0)return t.last_flush=-1,X;i=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,N(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=na}if(t.status===na){if(t.gzhead.comment){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),ae(e),t.pending!==0)return t.last_flush=-1,X;i=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,N(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i))}t.status=ra}if(t.status===ra){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(ae(e),t.pending!==0))return t.last_flush=-1,X;N(t,e.adler&255),N(t,e.adler>>8&255),e.adler=0}if(t.status=mt,ae(e),t.pending!==0)return t.last_flush=-1,X}if(e.avail_in!==0||t.lookahead!==0||n!==lt&&t.status!==Dn){let i=t.level===0?Ks(t,n):t.strategy===Mr?ap(t,n):t.strategy===jd?ip(t,n):Ln[t.level].func(t,n);if((i===$t||i===mn)&&(t.status=Dn),i===ee||i===$t)return e.avail_out===0&&(t.last_flush=-1),X;if(i===bn&&(n===Pd?$d(t):n!==_o&&(Ji(t,0,0,!1),n===Nd&&(qe(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),ae(e),e.avail_out===0))return t.last_flush=-1,X}return n!==de?X:t.wrap<=0?go:(t.wrap===2?(N(t,e.adler&255),N(t,e.adler>>8&255),N(t,e.adler>>16&255),N(t,e.adler>>24&255),N(t,e.total_in&255),N(t,e.total_in>>8&255),N(t,e.total_in>>16&255),N(t,e.total_in>>24&255)):(kn(t,e.adler>>>16),kn(t,e.adler&65535)),ae(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?X:go)},up=e=>{if(vr(e))return Ie;const n=e.state.status;return e.state=null,n===mt?yt(e,Ud):X},dp=(e,n)=>{let t=n.length;if(vr(e))return Ie;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==fn||r.lookahead)return Ie;if(i===1&&(e.adler=Vn(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){i===0&&(qe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(n.subarray(t-r.w_size,t),0),n=u,t=r.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,cn(r);r.lookahead>=M;){let u=r.strstart,l=r.lookahead-(M-1);do r.ins_h=ft(r,r.ins_h,r.window[u+M-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--l);r.strstart=u,r.lookahead=M-1,cn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=M-1,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,r.wrap=i,X};var pp=fp,hp=Ys,_p=Ws,gp=Vs,vp=lp,bp=cp,mp=up,yp=dp,wp="pako deflate (from Nodeca project)",$n={deflateInit:pp,deflateInit2:hp,deflateReset:_p,deflateResetKeep:gp,deflateSetHeader:vp,deflate:bp,deflateEnd:mp,deflateSetDictionary:yp,deflateInfo:wp};const xp=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Ep=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)xp(t,r)&&(e[r]=t[r])}}return e},Ap=e=>{let n=0;for(let r=0,i=e.length;r<i;r++)n+=e[r].length;const t=new Uint8Array(n);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];t.set(s,i),i+=s.length}return t},_i={assign:Ep,flattenChunks:Ap};let Xs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xs=!1}const Wn=new Uint8Array(256);for(let e=0;e<256;e++)Wn[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Wn[254]=Wn[254]=1;var Tp=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),a=0,i=0;a<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const Op=(e,n)=>{if(n<65534&&e.subarray&&Xs)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t};var Sp=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let s=e[r++];if(s<128){a[i++]=s;continue}let o=Wn[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<t;)s=s<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Op(a,i)},kp=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Wn[e[t]]>n?t:n},Yn={string2buf:Tp,buf2string:Sp,utf8border:kp};function Cp(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qs=Cp;const Js=Object.prototype.toString,{Z_NO_FLUSH:Dp,Z_SYNC_FLUSH:Lp,Z_FULL_FLUSH:Rp,Z_FINISH:Ip,Z_OK:Wr,Z_STREAM_END:Mp,Z_DEFAULT_COMPRESSION:$p,Z_DEFAULT_STRATEGY:Pp,Z_DEFLATED:Np}=gr;function ka(e){this.options=_i.assign({level:$p,method:Np,chunkSize:16384,windowBits:15,memLevel:8,strategy:Pp},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qs,this.strm.avail_out=0;let t=$n.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Wr)throw new Error(ln[t]);if(n.header&&$n.deflateSetHeader(this.strm,n.header),n.dictionary){let r;if(typeof n.dictionary=="string"?r=Yn.string2buf(n.dictionary):Js.call(n.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(n.dictionary):r=n.dictionary,t=$n.deflateSetDictionary(this.strm,r),t!==Wr)throw new Error(ln[t]);this._dict_set=!0}}ka.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?Ip:Dp,typeof e=="string"?t.input=Yn.string2buf(e):Js.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(a===Lp||a===Rp)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=$n.deflate(t,a),i===Mp)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=$n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Wr;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};ka.prototype.onData=function(e){this.chunks.push(e)};ka.prototype.onEnd=function(e){e===Wr&&(this.result=_i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const $r=16209,Up=16191;var zp=function(n,t){let r,i,a,s,o,u,l,c,w,p,d,v,y,h,g,m,A,f,S,E,T,L,x,O;const k=n.state;r=n.next_in,x=n.input,i=r+(n.avail_in-5),a=n.next_out,O=n.output,s=a-(t-n.avail_out),o=a+(n.avail_out-257),u=k.dmax,l=k.wsize,c=k.whave,w=k.wnext,p=k.window,d=k.hold,v=k.bits,y=k.lencode,h=k.distcode,g=(1<<k.lenbits)-1,m=(1<<k.distbits)-1;e:do{v<15&&(d+=x[r++]<<v,v+=8,d+=x[r++]<<v,v+=8),A=y[d&g];t:for(;;){if(f=A>>>24,d>>>=f,v-=f,f=A>>>16&255,f===0)O[a++]=A&65535;else if(f&16){S=A&65535,f&=15,f&&(v<f&&(d+=x[r++]<<v,v+=8),S+=d&(1<<f)-1,d>>>=f,v-=f),v<15&&(d+=x[r++]<<v,v+=8,d+=x[r++]<<v,v+=8),A=h[d&m];n:for(;;){if(f=A>>>24,d>>>=f,v-=f,f=A>>>16&255,f&16){if(E=A&65535,f&=15,v<f&&(d+=x[r++]<<v,v+=8,v<f&&(d+=x[r++]<<v,v+=8)),E+=d&(1<<f)-1,E>u){n.msg="invalid distance too far back",k.mode=$r;break e}if(d>>>=f,v-=f,f=a-s,E>f){if(f=E-f,f>c&&k.sane){n.msg="invalid distance too far back",k.mode=$r;break e}if(T=0,L=p,w===0){if(T+=l-f,f<S){S-=f;do O[a++]=p[T++];while(--f);T=a-E,L=O}}else if(w<f){if(T+=l+w-f,f-=w,f<S){S-=f;do O[a++]=p[T++];while(--f);if(T=0,w<S){f=w,S-=f;do O[a++]=p[T++];while(--f);T=a-E,L=O}}}else if(T+=w-f,f<S){S-=f;do O[a++]=p[T++];while(--f);T=a-E,L=O}for(;S>2;)O[a++]=L[T++],O[a++]=L[T++],O[a++]=L[T++],S-=3;S&&(O[a++]=L[T++],S>1&&(O[a++]=L[T++]))}else{T=a-E;do O[a++]=O[T++],O[a++]=O[T++],O[a++]=O[T++],S-=3;while(S>2);S&&(O[a++]=O[T++],S>1&&(O[a++]=O[T++]))}}else if(f&64){n.msg="invalid distance code",k.mode=$r;break e}else{A=h[(A&65535)+(d&(1<<f)-1)];continue n}break}}else if(f&64)if(f&32){k.mode=Up;break e}else{n.msg="invalid literal/length code",k.mode=$r;break e}else{A=y[(A&65535)+(d&(1<<f)-1)];continue t}break}}while(r<i&&a<o);S=v>>3,r-=S,v-=S<<3,d&=(1<<v)-1,n.next_in=r,n.next_out=a,n.avail_in=r<i?5+(i-r):5-(r-i),n.avail_out=a<o?257+(o-a):257-(a-o),k.hold=d,k.bits=v};const Vt=15,bo=852,mo=592,yo=0,Li=1,wo=2,Bp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fp=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hp=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Zp=(e,n,t,r,i,a,s,o)=>{const u=o.bits;let l=0,c=0,w=0,p=0,d=0,v=0,y=0,h=0,g=0,m=0,A,f,S,E,T,L=null,x;const O=new Uint16Array(Vt+1),k=new Uint16Array(Vt+1);let P=null,j,K,V;for(l=0;l<=Vt;l++)O[l]=0;for(c=0;c<r;c++)O[n[t+c]]++;for(d=u,p=Vt;p>=1&&O[p]===0;p--);if(d>p&&(d=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(w=1;w<p&&O[w]===0;w++);for(d<w&&(d=w),h=1,l=1;l<=Vt;l++)if(h<<=1,h-=O[l],h<0)return-1;if(h>0&&(e===yo||p!==1))return-1;for(k[1]=0,l=1;l<Vt;l++)k[l+1]=k[l]+O[l];for(c=0;c<r;c++)n[t+c]!==0&&(s[k[n[t+c]]++]=c);if(e===yo?(L=P=s,x=20):e===Li?(L=Bp,P=jp,x=257):(L=Fp,P=Hp,x=0),m=0,c=0,l=w,T=a,v=d,y=0,S=-1,g=1<<d,E=g-1,e===Li&&g>bo||e===wo&&g>mo)return 1;for(;;){j=l-y,s[c]+1<x?(K=0,V=s[c]):s[c]>=x?(K=P[s[c]-x],V=L[s[c]-x]):(K=96,V=0),A=1<<l-y,f=1<<v,w=f;do f-=A,i[T+(m>>y)+f]=j<<24|K<<16|V|0;while(f!==0);for(A=1<<l-1;m&A;)A>>=1;if(A!==0?(m&=A-1,m+=A):m=0,c++,--O[l]===0){if(l===p)break;l=n[t+s[c]]}if(l>d&&(m&E)!==S){for(y===0&&(y=d),T+=w,v=l-y,h=1<<v;v+y<p&&(h-=O[v+y],!(h<=0));)v++,h<<=1;if(g+=1<<v,e===Li&&g>bo||e===wo&&g>mo)return 1;S=m&E,i[S]=d<<24|v<<16|T-a|0}}return m!==0&&(i[T+m]=l-y<<24|64<<16|0),o.bits=d,0};var Pn=Zp;const Gp=0,Qs=1,el=2,{Z_FINISH:xo,Z_BLOCK:Kp,Z_TREES:Pr,Z_OK:Pt,Z_STREAM_END:Vp,Z_NEED_DICT:Wp,Z_STREAM_ERROR:ge,Z_DATA_ERROR:tl,Z_MEM_ERROR:nl,Z_BUF_ERROR:Yp,Z_DEFLATED:Eo}=gr,gi=16180,Ao=16181,To=16182,Oo=16183,So=16184,ko=16185,Co=16186,Do=16187,Lo=16188,Ro=16189,Yr=16190,je=16191,Ri=16192,Io=16193,Ii=16194,Mo=16195,$o=16196,Po=16197,No=16198,Nr=16199,Ur=16200,Uo=16201,zo=16202,Bo=16203,jo=16204,Fo=16205,Mi=16206,Ho=16207,Zo=16208,H=16209,rl=16210,il=16211,Xp=852,qp=592,Jp=15,Qp=Jp,Go=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function eh(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bt=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<gi||n.mode>il?1:0},al=e=>{if(Bt(e))return ge;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=gi,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Xp),n.distcode=n.distdyn=new Int32Array(qp),n.sane=1,n.back=-1,Pt},ol=e=>{if(Bt(e))return ge;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,al(e)},sl=(e,n)=>{let t;if(Bt(e))return ge;const r=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?ge:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,ol(e))},ll=(e,n)=>{if(!e)return ge;const t=new eh;e.state=t,t.strm=e,t.window=null,t.mode=gi;const r=sl(e,n);return r!==Pt&&(e.state=null),r},th=e=>ll(e,Qp);let Ko=!0,$i,Pi;const nh=e=>{if(Ko){$i=new Int32Array(512),Pi=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Pn(Qs,e.lens,0,288,$i,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Pn(el,e.lens,0,32,Pi,0,e.work,{bits:5}),Ko=!1}e.lencode=$i,e.lenbits=9,e.distcode=Pi,e.distbits=5},fl=(e,n,t,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(n.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(n.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},rh=(e,n)=>{let t,r,i,a,s,o,u,l,c,w,p,d,v,y,h=0,g,m,A,f,S,E,T,L;const x=new Uint8Array(4);let O,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bt(e)||!e.output||!e.input&&e.avail_in!==0)return ge;t=e.state,t.mode===je&&(t.mode=Ri),s=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=t.hold,c=t.bits,w=o,p=u,L=Pt;e:for(;;)switch(t.mode){case gi:if(t.wrap===0){t.mode=Ri;break}for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0),l=0,c=0,t.mode=Ao;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=H;break}if((l&15)!==Eo){e.msg="unknown compression method",t.mode=H;break}if(l>>>=4,c-=4,T=(l&15)+8,t.wbits===0&&(t.wbits=T),T>15||T>t.wbits){e.msg="invalid window size",t.mode=H;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?Ro:je,l=0,c=0;break;case Ao:for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.flags=l,(t.flags&255)!==Eo){e.msg="unknown compression method",t.mode=H;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=H;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0)),l=0,c=0,t.mode=To;case To:for(;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,x[2]=l>>>16&255,x[3]=l>>>24&255,t.check=W(t.check,x,4,0)),l=0,c=0,t.mode=Oo;case Oo:for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0)),l=0,c=0,t.mode=So;case So:if(t.flags&1024){for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=ko;case ko:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(T=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+d),T)),t.flags&512&&t.wrap&4&&(t.check=W(t.check,r,d,a)),o-=d,a+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Co;case Co:if(t.flags&2048){if(o===0)break e;d=0;do T=r[a+d++],t.head&&T&&t.length<65536&&(t.head.name+=String.fromCharCode(T));while(T&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=W(t.check,r,d,a)),o-=d,a+=d,T)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Do;case Do:if(t.flags&4096){if(o===0)break e;d=0;do T=r[a+d++],t.head&&T&&t.length<65536&&(t.head.comment+=String.fromCharCode(T));while(T&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=W(t.check,r,d,a)),o-=d,a+=d,T)break e}else t.head&&(t.head.comment=null);t.mode=Lo;case Lo:if(t.flags&512){for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=H;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=je;break;case Ro:for(;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}e.adler=t.check=Go(l),l=0,c=0,t.mode=Yr;case Yr:if(t.havedict===0)return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,Wp;e.adler=t.check=1,t.mode=je;case je:if(n===Kp||n===Pr)break e;case Ri:if(t.last){l>>>=c&7,c-=c&7,t.mode=Mi;break}for(;c<3;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}switch(t.last=l&1,l>>>=1,c-=1,l&3){case 0:t.mode=Io;break;case 1:if(nh(t),t.mode=Nr,n===Pr){l>>>=2,c-=2;break e}break;case 2:t.mode=$o;break;case 3:e.msg="invalid block type",t.mode=H}l>>>=2,c-=2;break;case Io:for(l>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=H;break}if(t.length=l&65535,l=0,c=0,t.mode=Ii,n===Pr)break e;case Ii:t.mode=Mo;case Mo:if(d=t.length,d){if(d>o&&(d=o),d>u&&(d=u),d===0)break e;i.set(r.subarray(a,a+d),s),o-=d,a+=d,u-=d,s+=d,t.length-=d;break}t.mode=je;break;case $o:for(;c<14;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.nlen=(l&31)+257,l>>>=5,c-=5,t.ndist=(l&31)+1,l>>>=5,c-=5,t.ncode=(l&15)+4,l>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=H;break}t.have=0,t.mode=Po;case Po:for(;t.have<t.ncode;){for(;c<3;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.lens[P[t.have++]]=l&7,l>>>=3,c-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,O={bits:t.lenbits},L=Pn(Gp,t.lens,0,19,t.lencode,0,t.work,O),t.lenbits=O.bits,L){e.msg="invalid code lengths set",t.mode=H;break}t.have=0,t.mode=No;case No:for(;t.have<t.nlen+t.ndist;){for(;h=t.lencode[l&(1<<t.lenbits)-1],g=h>>>24,m=h>>>16&255,A=h&65535,!(g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(A<16)l>>>=g,c-=g,t.lens[t.have++]=A;else{if(A===16){for(k=g+2;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(l>>>=g,c-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=H;break}T=t.lens[t.have-1],d=3+(l&3),l>>>=2,c-=2}else if(A===17){for(k=g+3;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=g,c-=g,T=0,d=3+(l&7),l>>>=3,c-=3}else{for(k=g+7;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=g,c-=g,T=0,d=11+(l&127),l>>>=7,c-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=H;break}for(;d--;)t.lens[t.have++]=T}}if(t.mode===H)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=H;break}if(t.lenbits=9,O={bits:t.lenbits},L=Pn(Qs,t.lens,0,t.nlen,t.lencode,0,t.work,O),t.lenbits=O.bits,L){e.msg="invalid literal/lengths set",t.mode=H;break}if(t.distbits=6,t.distcode=t.distdyn,O={bits:t.distbits},L=Pn(el,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,O),t.distbits=O.bits,L){e.msg="invalid distances set",t.mode=H;break}if(t.mode=Nr,n===Pr)break e;case Nr:t.mode=Ur;case Ur:if(o>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,zp(e,p),s=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=t.hold,c=t.bits,t.mode===je&&(t.back=-1);break}for(t.back=0;h=t.lencode[l&(1<<t.lenbits)-1],g=h>>>24,m=h>>>16&255,A=h&65535,!(g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(m&&!(m&240)){for(f=g,S=m,E=A;h=t.lencode[E+((l&(1<<f+S)-1)>>f)],g=h>>>24,m=h>>>16&255,A=h&65535,!(f+g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=f,c-=f,t.back+=f}if(l>>>=g,c-=g,t.back+=g,t.length=A,m===0){t.mode=Fo;break}if(m&32){t.back=-1,t.mode=je;break}if(m&64){e.msg="invalid literal/length code",t.mode=H;break}t.extra=m&15,t.mode=Uo;case Uo:if(t.extra){for(k=t.extra;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=zo;case zo:for(;h=t.distcode[l&(1<<t.distbits)-1],g=h>>>24,m=h>>>16&255,A=h&65535,!(g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(!(m&240)){for(f=g,S=m,E=A;h=t.distcode[E+((l&(1<<f+S)-1)>>f)],g=h>>>24,m=h>>>16&255,A=h&65535,!(f+g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=f,c-=f,t.back+=f}if(l>>>=g,c-=g,t.back+=g,m&64){e.msg="invalid distance code",t.mode=H;break}t.offset=A,t.extra=m&15,t.mode=Bo;case Bo:if(t.extra){for(k=t.extra;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=H;break}t.mode=jo;case jo:if(u===0)break e;if(d=p-u,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=H;break}d>t.wnext?(d-=t.wnext,v=t.wsize-d):v=t.wnext-d,d>t.length&&(d=t.length),y=t.window}else y=i,v=s-t.offset,d=t.length;d>u&&(d=u),u-=d,t.length-=d;do i[s++]=y[v++];while(--d);t.length===0&&(t.mode=Ur);break;case Fo:if(u===0)break e;i[s++]=t.length,u--,t.mode=Ur;break;case Mi:if(t.wrap){for(;c<32;){if(o===0)break e;o--,l|=r[a++]<<c,c+=8}if(p-=u,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?W(t.check,i,p,s-p):Vn(t.check,i,p,s-p)),p=u,t.wrap&4&&(t.flags?l:Go(l))!==t.check){e.msg="incorrect data check",t.mode=H;break}l=0,c=0}t.mode=Ho;case Ho:if(t.wrap&&t.flags){for(;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=H;break}l=0,c=0}t.mode=Zo;case Zo:L=Vp;break e;case H:L=tl;break e;case rl:return nl;case il:default:return ge}return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,(t.wsize||p!==e.avail_out&&t.mode<H&&(t.mode<Mi||n!==xo))&&fl(e,e.output,e.next_out,p-e.avail_out),w-=e.avail_in,p-=e.avail_out,e.total_in+=w,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?W(t.check,i,p,e.next_out-p):Vn(t.check,i,p,e.next_out-p)),e.data_type=t.bits+(t.last?64:0)+(t.mode===je?128:0)+(t.mode===Nr||t.mode===Ii?256:0),(w===0&&p===0||n===xo)&&L===Pt&&(L=Yp),L},ih=e=>{if(Bt(e))return ge;let n=e.state;return n.window&&(n.window=null),e.state=null,Pt},ah=(e,n)=>{if(Bt(e))return ge;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Pt):ge},oh=(e,n)=>{const t=n.length;let r,i,a;return Bt(e)||(r=e.state,r.wrap!==0&&r.mode!==Yr)?ge:r.mode===Yr&&(i=1,i=Vn(i,n,t,0),i!==r.check)?tl:(a=fl(e,n,t,t),a?(r.mode=rl,nl):(r.havedict=1,Pt))};var sh=ol,lh=sl,fh=al,ch=th,uh=ll,dh=rh,ph=ih,hh=ah,_h=oh,gh="pako inflate (from Nodeca project)",Ze={inflateReset:sh,inflateReset2:lh,inflateResetKeep:fh,inflateInit:ch,inflateInit2:uh,inflate:dh,inflateEnd:ph,inflateGetHeader:hh,inflateSetDictionary:_h,inflateInfo:gh};function vh(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bh=vh;const cl=Object.prototype.toString,{Z_NO_FLUSH:mh,Z_FINISH:yh,Z_OK:Xn,Z_STREAM_END:Ni,Z_NEED_DICT:Ui,Z_STREAM_ERROR:wh,Z_DATA_ERROR:Vo,Z_MEM_ERROR:xh}=gr;function br(e){this.options=_i.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qs,this.strm.avail_out=0;let t=Ze.inflateInit2(this.strm,n.windowBits);if(t!==Xn)throw new Error(ln[t]);if(this.header=new bh,Ze.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Yn.string2buf(n.dictionary):cl.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Ze.inflateSetDictionary(this.strm,n.dictionary),t!==Xn)))throw new Error(ln[t])}br.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?yh:mh,cl.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=Ze.inflate(t,s),a===Ui&&i&&(a=Ze.inflateSetDictionary(t,i),a===Xn?a=Ze.inflate(t,s):a===Vo&&(a=Ui));t.avail_in>0&&a===Ni&&t.state.wrap>0&&e[t.next_in]!==0;)Ze.inflateReset(t),a=Ze.inflate(t,s);switch(a){case wh:case Vo:case Ui:case xh:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===Ni))if(this.options.to==="string"){let u=Yn.utf8border(t.output,t.next_out),l=t.next_out-u,c=Yn.buf2string(t.output,u);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(u,u+l),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Xn&&o===0)){if(a===Ni)return a=Ze.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};br.prototype.onData=function(e){this.chunks.push(e)};br.prototype.onEnd=function(e){e===Xn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ca(e,n){const t=new br(n);if(t.push(e),t.err)throw t.msg||ln[t.err];return t.result}function Eh(e,n){return n=n||{},n.raw=!0,Ca(e,n)}var Ah=br,Th=Ca,Oh=Eh,Sh=Ca,kh=gr,Ch={Inflate:Ah,inflate:Th,inflateRaw:Oh,ungzip:Sh,constants:kh};const{Inflate:u0,inflate:d0,inflateRaw:Dh,ungzip:p0}=Ch;var Lh=Dh,Wo=Nh,Rh=Bh,Re=[],ce=[],Ih=typeof Uint8Array<"u"?Uint8Array:Array,zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wt=0,Mh=zi.length;Wt<Mh;++Wt)Re[Wt]=zi[Wt],ce[zi.charCodeAt(Wt)]=Wt;ce[45]=62;ce[95]=63;function $h(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function Ph(e,n,t){return(n+t)*3/4-t}function Nh(e){var n,t=$h(e),r=t[0],i=t[1],a=new Ih(Ph(e,r,i)),s=0,o=i>0?r-4:r,u;for(u=0;u<o;u+=4)n=ce[e.charCodeAt(u)]<<18|ce[e.charCodeAt(u+1)]<<12|ce[e.charCodeAt(u+2)]<<6|ce[e.charCodeAt(u+3)],a[s++]=n>>16&255,a[s++]=n>>8&255,a[s++]=n&255;return i===2&&(n=ce[e.charCodeAt(u)]<<2|ce[e.charCodeAt(u+1)]>>4,a[s++]=n&255),i===1&&(n=ce[e.charCodeAt(u)]<<10|ce[e.charCodeAt(u+1)]<<4|ce[e.charCodeAt(u+2)]>>2,a[s++]=n>>8&255,a[s++]=n&255),a}function Uh(e){return Re[e>>18&63]+Re[e>>12&63]+Re[e>>6&63]+Re[e&63]}function zh(e,n,t){for(var r,i=[],a=n;a<t;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Uh(r));return i.join("")}function Bh(e){for(var n,t=e.length,r=t%3,i=[],a=16383,s=0,o=t-r;s<o;s+=a)i.push(zh(e,s,s+a>o?o:s+a));return r===1?(n=e[t-1],i.push(Re[n>>2]+Re[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(Re[n>>10]+Re[n>>4&63]+Re[n<<2&63]+"=")),i.join("")}var Te,Qn,ei,er,tr,xt,Qt,en,tn,nr,aa,rr,oa,ti,ul,ni,dl,ir,sa,ri,pl,ii,hl;const U=class U{constructor(n,t){D(this,nr);D(this,rr);D(this,ti);D(this,ni);D(this,ir);D(this,ri);D(this,ii);D(this,en,void 0);D(this,tn,void 0);B(this,tn,t),B(this,en,n)}toUri(n){return new URL(b(U,tr)+I(this,nr,aa).call(this,n))}toUrlQueryParamValue(n){return`${I(this,nr,aa).call(this,n)}${n.name??""}`}fromUri(n){return I(this,rr,oa).call(this,n.slice(b(U,tr).length))}fromUrlQueryParamValue(n){const t=I(this,ti,ul).call(this,n,b(U,xt),b(U,Qt))+1,r=n.substring(0,t),i=n.substring(t),a=I(this,rr,oa).call(this,r);return i.length>0&&(a.name=i),a}fromLegacyUrlQueryParamValue(n){const t=b(this,tn).createEmptyDeck(),r=Wo(n),i=Lh(r);let a=0,s=null;for(let o=0;o<i.length;o+=b(U,Te)){const u=o+b(U,Te),l=i.slice(o,u);if(nd(l,b(U,ei))){if(a===On.length-1){s=u;break}a++}else t.parts[On[a]].push(I(this,ir,sa).call(this,l))}return s!=null&&s<i.length&&(t.name=new TextDecoder().decode(i.subarray(s))),t}};Te=new WeakMap,Qn=new WeakMap,ei=new WeakMap,er=new WeakMap,tr=new WeakMap,xt=new WeakMap,Qt=new WeakMap,en=new WeakMap,tn=new WeakMap,nr=new WeakSet,aa=function(n){const t=[];for(const r of On){const i=[];for(const a of n.parts[r])i.push(...I(this,ni,dl).call(this,a));t.push(Rh(Uint8Array.from(i)))}return t.join(b(U,xt))+b(U,xt)},rr=new WeakSet,oa=function(n){const t=n.split(b(U,xt));if(t.pop(),t.length!==b(U,Qt))throw new Error(`Expected URI to have ${b(U,Qt)} delimiters but found ${t.length}.`);const r=b(this,tn).createEmptyDeck();for(let i=0;i<t.length;i++){const a=r.parts[On[i]],s=Wo(t[i]);for(let o=0;o<s.length;o+=b(U,Te)){const u=s.slice(o,o+b(U,Te));a.push(I(this,ir,sa).call(this,u))}}return r},ti=new WeakSet,ul=function(n,t,r){let i=0;for(let a=0;a<n.length;a++)if(n[a]==t&&i++,i==r)return a;return-1},ni=new WeakSet,dl=function(n){return I(this,ri,pl).call(this,Number(n.passcode))},ir=new WeakSet,sa=function(n){const t=String(I(this,ii,hl).call(this,n));if(!b(this,en).hasCard(t,ue.PASSCODE))throw new TypeError(`Could not find card for passcode '${t}'.`);return b(this,en).getCard(t,ue.PASSCODE)},ri=new WeakSet,pl=function(n){if(n<=0||n>=b(U,Qn))throw new TypeError(`Number '${n} is of range (has to be > 0 and < ${b(U,Qn)})'.`);const t=new ArrayBuffer(b(U,Te));return new DataView(t).setUint32(0,n,b(U,er)),new Uint8Array(t)},ii=new WeakSet,hl=function(n){return new DataView(n.buffer).getUint32(0,b(U,er))},D(U,Te,Uint32Array.BYTES_PER_ELEMENT),D(U,Qn,2**(b(U,Te)*8)),D(U,ei,new Uint8Array(b(U,Te)).fill(0)),D(U,er,!0),D(U,tr,"ydke://"),D(U,xt,"!"),D(U,Qt,On.length);let Yo=U;var re="top",ve="bottom",be="right",ie="left",Da="auto",mr=[re,ve,be,ie],un="start",qn="end",jh="clippingParents",_l="viewport",Cn="popper",Fh="reference",Xo=mr.reduce(function(e,n){return e.concat([n+"-"+un,n+"-"+qn])},[]),gl=[].concat(mr,[Da]).reduce(function(e,n){return e.concat([n,n+"-"+un,n+"-"+qn])},[]),Hh="beforeRead",Zh="read",Gh="afterRead",Kh="beforeMain",Vh="main",Wh="afterMain",Yh="beforeWrite",Xh="write",qh="afterWrite",Jh=[Hh,Zh,Gh,Kh,Vh,Wh,Yh,Xh,qh];function Pe(e){return e?(e.nodeName||"").toLowerCase():null}function le(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Nt(e){var n=le(e).Element;return e instanceof n||e instanceof Element}function he(e){var n=le(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function La(e){if(typeof ShadowRoot>"u")return!1;var n=le(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function Qh(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var r=n.styles[t]||{},i=n.attributes[t]||{},a=n.elements[t];!he(a)||!Pe(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function e_(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(r){var i=n.elements[r],a=n.attributes[r]||{},s=Object.keys(n.styles.hasOwnProperty(r)?n.styles[r]:t[r]),o=s.reduce(function(u,l){return u[l]="",u},{});!he(i)||!Pe(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}const vl={name:"applyStyles",enabled:!0,phase:"write",fn:Qh,effect:e_,requires:["computeStyles"]};function $e(e){return e.split("-")[0]}var It=Math.max,Xr=Math.min,dn=Math.round;function la(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function bl(){return!/^((?!chrome|android).)*safari/i.test(la())}function pn(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var r=e.getBoundingClientRect(),i=1,a=1;n&&he(e)&&(i=e.offsetWidth>0&&dn(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&dn(r.height)/e.offsetHeight||1);var s=Nt(e)?le(e):window,o=s.visualViewport,u=!bl()&&t,l=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,w=r.width/i,p=r.height/a;return{width:w,height:p,top:c,right:l+w,bottom:c+p,left:l,x:l,y:c}}function Ra(e){var n=pn(e),t=e.offsetWidth,r=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:r}}function ml(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&La(t)){var r=n;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ge(e){return le(e).getComputedStyle(e)}function t_(e){return["table","td","th"].indexOf(Pe(e))>=0}function ct(e){return((Nt(e)?e.ownerDocument:e.document)||window.document).documentElement}function vi(e){return Pe(e)==="html"?e:e.assignedSlot||e.parentNode||(La(e)?e.host:null)||ct(e)}function qo(e){return!he(e)||Ge(e).position==="fixed"?null:e.offsetParent}function n_(e){var n=/firefox/i.test(la()),t=/Trident/i.test(la());if(t&&he(e)){var r=Ge(e);if(r.position==="fixed")return null}var i=vi(e);for(La(i)&&(i=i.host);he(i)&&["html","body"].indexOf(Pe(i))<0;){var a=Ge(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||n&&a.willChange==="filter"||n&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function yr(e){for(var n=le(e),t=qo(e);t&&t_(t)&&Ge(t).position==="static";)t=qo(t);return t&&(Pe(t)==="html"||Pe(t)==="body"&&Ge(t).position==="static")?n:t||n_(e)||n}function Ia(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nn(e,n,t){return It(e,Xr(n,t))}function r_(e,n,t){var r=Nn(e,n,t);return r>t?t:r}function yl(){return{top:0,right:0,bottom:0,left:0}}function wl(e){return Object.assign({},yl(),e)}function xl(e,n){return n.reduce(function(t,r){return t[r]=e,t},{})}var i_=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,wl(typeof n!="number"?n:xl(n,mr))};function a_(e){var n,t=e.state,r=e.name,i=e.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,o=$e(t.placement),u=Ia(o),l=[ie,be].indexOf(o)>=0,c=l?"height":"width";if(!(!a||!s)){var w=i_(i.padding,t),p=Ra(a),d=u==="y"?re:ie,v=u==="y"?ve:be,y=t.rects.reference[c]+t.rects.reference[u]-s[u]-t.rects.popper[c],h=s[u]-t.rects.reference[u],g=yr(a),m=g?u==="y"?g.clientHeight||0:g.clientWidth||0:0,A=y/2-h/2,f=w[d],S=m-p[c]-w[v],E=m/2-p[c]/2+A,T=Nn(f,E,S),L=u;t.modifiersData[r]=(n={},n[L]=T,n.centerOffset=T-E,n)}}function o_(e){var n=e.state,t=e.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=n.elements.popper.querySelector(i),!i)||ml(n.elements.popper,i)&&(n.elements.arrow=i))}const s_={name:"arrow",enabled:!0,phase:"main",fn:a_,effect:o_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hn(e){return e.split("-")[1]}var l_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f_(e,n){var t=e.x,r=e.y,i=n.devicePixelRatio||1;return{x:dn(t*i)/i||0,y:dn(r*i)/i||0}}function Jo(e){var n,t=e.popper,r=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,w=e.isFixed,p=s.x,d=p===void 0?0:p,v=s.y,y=v===void 0?0:v,h=typeof c=="function"?c({x:d,y}):{x:d,y};d=h.x,y=h.y;var g=s.hasOwnProperty("x"),m=s.hasOwnProperty("y"),A=ie,f=re,S=window;if(l){var E=yr(t),T="clientHeight",L="clientWidth";if(E===le(t)&&(E=ct(t),Ge(E).position!=="static"&&o==="absolute"&&(T="scrollHeight",L="scrollWidth")),E=E,i===re||(i===ie||i===be)&&a===qn){f=ve;var x=w&&E===S&&S.visualViewport?S.visualViewport.height:E[T];y-=x-r.height,y*=u?1:-1}if(i===ie||(i===re||i===ve)&&a===qn){A=be;var O=w&&E===S&&S.visualViewport?S.visualViewport.width:E[L];d-=O-r.width,d*=u?1:-1}}var k=Object.assign({position:o},l&&l_),P=c===!0?f_({x:d,y},le(t)):{x:d,y};if(d=P.x,y=P.y,u){var j;return Object.assign({},k,(j={},j[f]=m?"0":"",j[A]=g?"0":"",j.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+y+"px)":"translate3d("+d+"px, "+y+"px, 0)",j))}return Object.assign({},k,(n={},n[f]=m?y+"px":"",n[A]=g?d+"px":"",n.transform="",n))}function c_(e){var n=e.state,t=e.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,s=a===void 0?!0:a,o=t.roundOffsets,u=o===void 0?!0:o,l={placement:$e(n.placement),variation:hn(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Jo(Object.assign({},l,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:s,roundOffsets:u})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Jo(Object.assign({},l,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const u_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:c_,data:{}};var zr={passive:!0};function d_(e){var n=e.state,t=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,u=le(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",t.update,zr)}),o&&u.addEventListener("resize",t.update,zr),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",t.update,zr)}),o&&u.removeEventListener("resize",t.update,zr)}}const p_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d_,data:{}};var h_={left:"right",right:"left",bottom:"top",top:"bottom"};function Zr(e){return e.replace(/left|right|bottom|top/g,function(n){return h_[n]})}var __={start:"end",end:"start"};function Qo(e){return e.replace(/start|end/g,function(n){return __[n]})}function Ma(e){var n=le(e),t=n.pageXOffset,r=n.pageYOffset;return{scrollLeft:t,scrollTop:r}}function $a(e){return pn(ct(e)).left+Ma(e).scrollLeft}function g_(e,n){var t=le(e),r=ct(e),i=t.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,u=0;if(i){a=i.width,s=i.height;var l=bl();(l||!l&&n==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:o+$a(e),y:u}}function v_(e){var n,t=ct(e),r=Ma(e),i=(n=e.ownerDocument)==null?void 0:n.body,a=It(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=It(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+$a(e),u=-r.scrollTop;return Ge(i||t).direction==="rtl"&&(o+=It(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:u}}function Pa(e){var n=Ge(e),t=n.overflow,r=n.overflowX,i=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function El(e){return["html","body","#document"].indexOf(Pe(e))>=0?e.ownerDocument.body:he(e)&&Pa(e)?e:El(vi(e))}function Un(e,n){var t;n===void 0&&(n=[]);var r=El(e),i=r===((t=e.ownerDocument)==null?void 0:t.body),a=le(r),s=i?[a].concat(a.visualViewport||[],Pa(r)?r:[]):r,o=n.concat(s);return i?o:o.concat(Un(vi(s)))}function fa(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b_(e,n){var t=pn(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function es(e,n,t){return n===_l?fa(g_(e,t)):Nt(n)?b_(n,t):fa(v_(ct(e)))}function m_(e){var n=Un(vi(e)),t=["absolute","fixed"].indexOf(Ge(e).position)>=0,r=t&&he(e)?yr(e):e;return Nt(r)?n.filter(function(i){return Nt(i)&&ml(i,r)&&Pe(i)!=="body"}):[]}function y_(e,n,t,r){var i=n==="clippingParents"?m_(e):[].concat(n),a=[].concat(i,[t]),s=a[0],o=a.reduce(function(u,l){var c=es(e,l,r);return u.top=It(c.top,u.top),u.right=Xr(c.right,u.right),u.bottom=Xr(c.bottom,u.bottom),u.left=It(c.left,u.left),u},es(e,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Al(e){var n=e.reference,t=e.element,r=e.placement,i=r?$e(r):null,a=r?hn(r):null,s=n.x+n.width/2-t.width/2,o=n.y+n.height/2-t.height/2,u;switch(i){case re:u={x:s,y:n.y-t.height};break;case ve:u={x:s,y:n.y+n.height};break;case be:u={x:n.x+n.width,y:o};break;case ie:u={x:n.x-t.width,y:o};break;default:u={x:n.x,y:n.y}}var l=i?Ia(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case un:u[l]=u[l]-(n[c]/2-t[c]/2);break;case qn:u[l]=u[l]+(n[c]/2-t[c]/2);break}}return u}function Jn(e,n){n===void 0&&(n={});var t=n,r=t.placement,i=r===void 0?e.placement:r,a=t.strategy,s=a===void 0?e.strategy:a,o=t.boundary,u=o===void 0?jh:o,l=t.rootBoundary,c=l===void 0?_l:l,w=t.elementContext,p=w===void 0?Cn:w,d=t.altBoundary,v=d===void 0?!1:d,y=t.padding,h=y===void 0?0:y,g=wl(typeof h!="number"?h:xl(h,mr)),m=p===Cn?Fh:Cn,A=e.rects.popper,f=e.elements[v?m:p],S=y_(Nt(f)?f:f.contextElement||ct(e.elements.popper),u,c,s),E=pn(e.elements.reference),T=Al({reference:E,element:A,strategy:"absolute",placement:i}),L=fa(Object.assign({},A,T)),x=p===Cn?L:E,O={top:S.top-x.top+g.top,bottom:x.bottom-S.bottom+g.bottom,left:S.left-x.left+g.left,right:x.right-S.right+g.right},k=e.modifiersData.offset;if(p===Cn&&k){var P=k[i];Object.keys(O).forEach(function(j){var K=[be,ve].indexOf(j)>=0?1:-1,V=[re,ve].indexOf(j)>=0?"y":"x";O[j]+=P[V]*K})}return O}function w_(e,n){n===void 0&&(n={});var t=n,r=t.placement,i=t.boundary,a=t.rootBoundary,s=t.padding,o=t.flipVariations,u=t.allowedAutoPlacements,l=u===void 0?gl:u,c=hn(r),w=c?o?Xo:Xo.filter(function(v){return hn(v)===c}):mr,p=w.filter(function(v){return l.indexOf(v)>=0});p.length===0&&(p=w);var d=p.reduce(function(v,y){return v[y]=Jn(e,{placement:y,boundary:i,rootBoundary:a,padding:s})[$e(y)],v},{});return Object.keys(d).sort(function(v,y){return d[v]-d[y]})}function x_(e){if($e(e)===Da)return[];var n=Zr(e);return[Qo(e),n,Qo(n)]}function E_(e){var n=e.state,t=e.options,r=e.name;if(!n.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!0:s,u=t.fallbackPlacements,l=t.padding,c=t.boundary,w=t.rootBoundary,p=t.altBoundary,d=t.flipVariations,v=d===void 0?!0:d,y=t.allowedAutoPlacements,h=n.options.placement,g=$e(h),m=g===h,A=u||(m||!v?[Zr(h)]:x_(h)),f=[h].concat(A).reduce(function(Ne,me){return Ne.concat($e(me)===Da?w_(n,{placement:me,boundary:c,rootBoundary:w,padding:l,flipVariations:v,allowedAutoPlacements:y}):me)},[]),S=n.rects.reference,E=n.rects.popper,T=new Map,L=!0,x=f[0],O=0;O<f.length;O++){var k=f[O],P=$e(k),j=hn(k)===un,K=[re,ve].indexOf(P)>=0,V=K?"width":"height",q=Jn(n,{placement:k,boundary:c,rootBoundary:w,altBoundary:p,padding:l}),J=K?j?be:ie:j?ve:re;S[V]>E[V]&&(J=Zr(J));var Y=Zr(J),ye=[];if(a&&ye.push(q[P]<=0),o&&ye.push(q[J]<=0,q[Y]<=0),ye.every(function(Ne){return Ne})){x=k,L=!1;break}T.set(k,ye)}if(L)for(var we=v?3:1,ut=function(me){var Ue=f.find(function(jt){var ze=T.get(jt);if(ze)return ze.slice(0,me).every(function(Ft){return Ft})});if(Ue)return x=Ue,"break"},xe=we;xe>0;xe--){var dt=ut(xe);if(dt==="break")break}n.placement!==x&&(n.modifiersData[r]._skip=!0,n.placement=x,n.reset=!0)}}const A_={name:"flip",enabled:!0,phase:"main",fn:E_,requiresIfExists:["offset"],data:{_skip:!1}};function ts(e,n,t){return t===void 0&&(t={x:0,y:0}),{top:e.top-n.height-t.y,right:e.right-n.width+t.x,bottom:e.bottom-n.height+t.y,left:e.left-n.width-t.x}}function ns(e){return[re,be,ve,ie].some(function(n){return e[n]>=0})}function T_(e){var n=e.state,t=e.name,r=n.rects.reference,i=n.rects.popper,a=n.modifiersData.preventOverflow,s=Jn(n,{elementContext:"reference"}),o=Jn(n,{altBoundary:!0}),u=ts(s,r),l=ts(o,i,a),c=ns(u),w=ns(l);n.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:w},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":w})}const O_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:T_};function S_(e,n,t){var r=$e(e),i=[ie,re].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[ie,be].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function k_(e){var n=e.state,t=e.options,r=e.name,i=t.offset,a=i===void 0?[0,0]:i,s=gl.reduce(function(c,w){return c[w]=S_(w,n.rects,a),c},{}),o=s[n.placement],u=o.x,l=o.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=u,n.modifiersData.popperOffsets.y+=l),n.modifiersData[r]=s}const C_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:k_};function D_(e){var n=e.state,t=e.name;n.modifiersData[t]=Al({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const L_={name:"popperOffsets",enabled:!0,phase:"read",fn:D_,data:{}};function R_(e){return e==="x"?"y":"x"}function I_(e){var n=e.state,t=e.options,r=e.name,i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!1:s,u=t.boundary,l=t.rootBoundary,c=t.altBoundary,w=t.padding,p=t.tether,d=p===void 0?!0:p,v=t.tetherOffset,y=v===void 0?0:v,h=Jn(n,{boundary:u,rootBoundary:l,padding:w,altBoundary:c}),g=$e(n.placement),m=hn(n.placement),A=!m,f=Ia(g),S=R_(f),E=n.modifiersData.popperOffsets,T=n.rects.reference,L=n.rects.popper,x=typeof y=="function"?y(Object.assign({},n.rects,{placement:n.placement})):y,O=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),k=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,P={x:0,y:0};if(E){if(a){var j,K=f==="y"?re:ie,V=f==="y"?ve:be,q=f==="y"?"height":"width",J=E[f],Y=J+h[K],ye=J-h[V],we=d?-L[q]/2:0,ut=m===un?T[q]:L[q],xe=m===un?-L[q]:-T[q],dt=n.elements.arrow,Ne=d&&dt?Ra(dt):{width:0,height:0},me=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:yl(),Ue=me[K],jt=me[V],ze=Nn(0,T[q],Ne[q]),Ft=A?T[q]/2-we-ze-Ue-O.mainAxis:ut-ze-Ue-O.mainAxis,We=A?-T[q]/2+we+ze+jt+O.mainAxis:xe+ze+jt+O.mainAxis,Ht=n.elements.arrow&&yr(n.elements.arrow),wr=Ht?f==="y"?Ht.clientTop||0:Ht.clientLeft||0:0,wn=(j=k==null?void 0:k[f])!=null?j:0,xr=J+Ft-wn-wr,Er=J+We-wn,xn=Nn(d?Xr(Y,xr):Y,J,d?It(ye,Er):ye);E[f]=xn,P[f]=xn-J}if(o){var En,Ar=f==="x"?re:ie,Tr=f==="x"?ve:be,Be=E[S],Ye=S==="y"?"height":"width",An=Be+h[Ar],pt=Be-h[Tr],Tn=[re,ie].indexOf(g)!==-1,Or=(En=k==null?void 0:k[S])!=null?En:0,Sr=Tn?An:Be-T[Ye]-L[Ye]-Or+O.altAxis,kr=Tn?Be+T[Ye]+L[Ye]-Or-O.altAxis:pt,Cr=d&&Tn?r_(Sr,Be,kr):Nn(d?Sr:An,Be,d?kr:pt);E[S]=Cr,P[S]=Cr-Be}n.modifiersData[r]=P}}const M_={name:"preventOverflow",enabled:!0,phase:"main",fn:I_,requiresIfExists:["offset"]};function $_(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function P_(e){return e===le(e)||!he(e)?Ma(e):$_(e)}function N_(e){var n=e.getBoundingClientRect(),t=dn(n.width)/e.offsetWidth||1,r=dn(n.height)/e.offsetHeight||1;return t!==1||r!==1}function U_(e,n,t){t===void 0&&(t=!1);var r=he(n),i=he(n)&&N_(n),a=ct(n),s=pn(e,i,t),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!t)&&((Pe(n)!=="body"||Pa(a))&&(o=P_(n)),he(n)?(u=pn(n,!0),u.x+=n.clientLeft,u.y+=n.clientTop):a&&(u.x=$a(a))),{x:s.left+o.scrollLeft-u.x,y:s.top+o.scrollTop-u.y,width:s.width,height:s.height}}function z_(e){var n=new Map,t=new Set,r=[];e.forEach(function(a){n.set(a.name,a)});function i(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!t.has(o)){var u=n.get(o);u&&i(u)}}),r.push(a)}return e.forEach(function(a){t.has(a.name)||i(a)}),r}function B_(e){var n=z_(e);return Jh.reduce(function(t,r){return t.concat(n.filter(function(i){return i.phase===r}))},[])}function j_(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function F_(e){var n=e.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(n).map(function(t){return n[t]})}var rs={placement:"bottom",modifiers:[],strategy:"absolute"};function is(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function H_(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,r=t===void 0?[]:t,i=n.defaultOptions,a=i===void 0?rs:i;return function(o,u,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},rs,a),modifiersData:{},elements:{reference:o,popper:u},attributes:{},styles:{}},w=[],p=!1,d={state:c,setOptions:function(g){var m=typeof g=="function"?g(c.options):g;y(),c.options=Object.assign({},a,c.options,m),c.scrollParents={reference:Nt(o)?Un(o):o.contextElement?Un(o.contextElement):[],popper:Un(u)};var A=B_(F_([].concat(r,c.options.modifiers)));return c.orderedModifiers=A.filter(function(f){return f.enabled}),v(),d.update()},forceUpdate:function(){if(!p){var g=c.elements,m=g.reference,A=g.popper;if(is(m,A)){c.rects={reference:U_(m,yr(A),c.options.strategy==="fixed"),popper:Ra(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var f=0;f<c.orderedModifiers.length;f++){if(c.reset===!0){c.reset=!1,f=-1;continue}var S=c.orderedModifiers[f],E=S.fn,T=S.options,L=T===void 0?{}:T,x=S.name;typeof E=="function"&&(c=E({state:c,options:L,name:x,instance:d})||c)}}}},update:j_(function(){return new Promise(function(h){d.forceUpdate(),h(c)})}),destroy:function(){y(),p=!0}};if(!is(o,u))return d;d.setOptions(l).then(function(h){!p&&l.onFirstUpdate&&l.onFirstUpdate(h)});function v(){c.orderedModifiers.forEach(function(h){var g=h.name,m=h.options,A=m===void 0?{}:m,f=h.effect;if(typeof f=="function"){var S=f({state:c,name:g,instance:d,options:A}),E=function(){};w.push(S||E)}})}function y(){w.forEach(function(h){return h()}),w=[]}return d}}var Z_=[p_,L_,u_,vl,C_,A_,M_,s_,O_],G_=H_({defaultModifiers:Z_}),K_="tippy-box",Tl="tippy-content",V_="tippy-backdrop",Ol="tippy-arrow",Sl="tippy-svg-arrow",Xe={passive:!0,capture:!0},kl=function(){return document.body};function Bi(e,n,t){if(Array.isArray(e)){var r=e[n];return r??(Array.isArray(t)?t[n]:t)}return e}function Na(e,n){var t={}.toString.call(e);return t.indexOf("[object")===0&&t.indexOf(n+"]")>-1}function Cl(e,n){return typeof e=="function"?e.apply(void 0,n):e}function as(e,n){if(n===0)return e;var t;return function(r){clearTimeout(t),t=setTimeout(function(){e(r)},n)}}function W_(e,n){var t=Object.assign({},e);return n.forEach(function(r){delete t[r]}),t}function Y_(e){return e.split(/\s+/).filter(Boolean)}function gt(e){return[].concat(e)}function os(e,n){e.indexOf(n)===-1&&e.push(n)}function X_(e){return e.filter(function(n,t){return e.indexOf(n)===t})}function q_(e){return e.split("-")[0]}function qr(e){return[].slice.call(e)}function ss(e){return Object.keys(e).reduce(function(n,t){return e[t]!==void 0&&(n[t]=e[t]),n},{})}function zn(){return document.createElement("div")}function bi(e){return["Element","Fragment"].some(function(n){return Na(e,n)})}function J_(e){return Na(e,"NodeList")}function Q_(e){return Na(e,"MouseEvent")}function eg(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function tg(e){return bi(e)?[e]:J_(e)?qr(e):Array.isArray(e)?e:qr(document.querySelectorAll(e))}function ji(e,n){e.forEach(function(t){t&&(t.style.transitionDuration=n+"ms")})}function ls(e,n){e.forEach(function(t){t&&t.setAttribute("data-state",n)})}function ng(e){var n,t=gt(e),r=t[0];return r!=null&&(n=r.ownerDocument)!=null&&n.body?r.ownerDocument:document}function rg(e,n){var t=n.clientX,r=n.clientY;return e.every(function(i){var a=i.popperRect,s=i.popperState,o=i.props,u=o.interactiveBorder,l=q_(s.placement),c=s.modifiersData.offset;if(!c)return!0;var w=l==="bottom"?c.top.y:0,p=l==="top"?c.bottom.y:0,d=l==="right"?c.left.x:0,v=l==="left"?c.right.x:0,y=a.top-r+w>u,h=r-a.bottom-p>u,g=a.left-t+d>u,m=t-a.right-v>u;return y||h||g||m})}function Fi(e,n,t){var r=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,t)})}function fs(e,n){for(var t=n;t;){var r;if(e.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var De={isTouch:!1},cs=0;function ig(){De.isTouch||(De.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dl))}function Dl(){var e=performance.now();e-cs<20&&(De.isTouch=!1,document.removeEventListener("mousemove",Dl)),cs=e}function ag(){var e=document.activeElement;if(eg(e)){var n=e._tippy;e.blur&&!n.state.isVisible&&e.blur()}}function og(){document.addEventListener("touchstart",ig,Xe),window.addEventListener("blur",ag)}var sg=typeof window<"u"&&typeof document<"u",lg=sg?!!window.msCrypto:!1,fg={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},cg={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},se=Object.assign({appendTo:kl,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},fg,cg),ug=Object.keys(se),dg=function(n){var t=Object.keys(n);t.forEach(function(r){se[r]=n[r]})};function Ll(e){var n=e.plugins||[],t=n.reduce(function(r,i){var a=i.name,s=i.defaultValue;if(a){var o;r[a]=e[a]!==void 0?e[a]:(o=se[a])!=null?o:s}return r},{});return Object.assign({},e,t)}function pg(e,n){var t=n?Object.keys(Ll(Object.assign({},se,{plugins:n}))):ug,r=t.reduce(function(i,a){var s=(e.getAttribute("data-tippy-"+a)||"").trim();if(!s)return i;if(a==="content")i[a]=s;else try{i[a]=JSON.parse(s)}catch{i[a]=s}return i},{});return r}function us(e,n){var t=Object.assign({},n,{content:Cl(n.content,[e])},n.ignoreAttributes?{}:pg(e,n.plugins));return t.aria=Object.assign({},se.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?n.interactive:t.aria.expanded,content:t.aria.content==="auto"?n.interactive?null:"describedby":t.aria.content},t}var hg=function(){return"innerHTML"};function ca(e,n){e[hg()]=n}function ds(e){var n=zn();return e===!0?n.className=Ol:(n.className=Sl,bi(e)?n.appendChild(e):ca(n,e)),n}function ps(e,n){bi(n.content)?(ca(e,""),e.appendChild(n.content)):typeof n.content!="function"&&(n.allowHTML?ca(e,n.content):e.textContent=n.content)}function ua(e){var n=e.firstElementChild,t=qr(n.children);return{box:n,content:t.find(function(r){return r.classList.contains(Tl)}),arrow:t.find(function(r){return r.classList.contains(Ol)||r.classList.contains(Sl)}),backdrop:t.find(function(r){return r.classList.contains(V_)})}}function Rl(e){var n=zn(),t=zn();t.className=K_,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=zn();r.className=Tl,r.setAttribute("data-state","hidden"),ps(r,e.props),n.appendChild(t),t.appendChild(r),i(e.props,e.props);function i(a,s){var o=ua(n),u=o.box,l=o.content,c=o.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(a.content!==s.content||a.allowHTML!==s.allowHTML)&&ps(l,e.props),s.arrow?c?a.arrow!==s.arrow&&(u.removeChild(c),u.appendChild(ds(s.arrow))):u.appendChild(ds(s.arrow)):c&&u.removeChild(c)}return{popper:n,onUpdate:i}}Rl.$$tippy=!0;var _g=1,Br=[],Hi=[];function gg(e,n){var t=us(e,Object.assign({},se,Ll(ss(n)))),r,i,a,s=!1,o=!1,u=!1,l=!1,c,w,p,d=[],v=as(xr,t.interactiveDebounce),y,h=_g++,g=null,m=X_(t.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},f={id:h,reference:e,popper:zn(),popperInstance:g,props:t,state:A,plugins:m,clearDelayTimeouts:Sr,setProps:kr,setContent:Cr,show:zl,hide:Bl,hideWithInteractivity:jl,enable:Tn,disable:Or,unmount:Fl,destroy:Hl};if(!t.render)return f;var S=t.render(f),E=S.popper,T=S.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+f.id,f.popper=E,e._tippy=f,E._tippy=f;var L=m.map(function(_){return _.fn(f)}),x=e.hasAttribute("aria-expanded");return Ht(),we(),J(),Y("onCreate",[f]),t.showOnCreate&&An(),E.addEventListener("mouseenter",function(){f.props.interactive&&f.state.isVisible&&f.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){f.props.interactive&&f.props.trigger.indexOf("mouseenter")>=0&&K().addEventListener("mousemove",v)}),f;function O(){var _=f.props.touch;return Array.isArray(_)?_:[_,0]}function k(){return O()[0]==="hold"}function P(){var _;return!!((_=f.props.render)!=null&&_.$$tippy)}function j(){return y||e}function K(){var _=j().parentNode;return _?ng(_):document}function V(){return ua(E)}function q(_){return f.state.isMounted&&!f.state.isVisible||De.isTouch||c&&c.type==="focus"?0:Bi(f.props.delay,_?0:1,se.delay)}function J(_){_===void 0&&(_=!1),E.style.pointerEvents=f.props.interactive&&!_?"":"none",E.style.zIndex=""+f.props.zIndex}function Y(_,C,R){if(R===void 0&&(R=!0),L.forEach(function($){$[_]&&$[_].apply($,C)}),R){var z;(z=f.props)[_].apply(z,C)}}function ye(){var _=f.props.aria;if(_.content){var C="aria-"+_.content,R=E.id,z=gt(f.props.triggerTarget||e);z.forEach(function($){var Q=$.getAttribute(C);if(f.state.isVisible)$.setAttribute(C,Q?Q+" "+R:R);else{var fe=Q&&Q.replace(R,"").trim();fe?$.setAttribute(C,fe):$.removeAttribute(C)}})}}function we(){if(!(x||!f.props.aria.expanded)){var _=gt(f.props.triggerTarget||e);_.forEach(function(C){f.props.interactive?C.setAttribute("aria-expanded",f.state.isVisible&&C===j()?"true":"false"):C.removeAttribute("aria-expanded")})}}function ut(){K().removeEventListener("mousemove",v),Br=Br.filter(function(_){return _!==v})}function xe(_){if(!(De.isTouch&&(u||_.type==="mousedown"))){var C=_.composedPath&&_.composedPath()[0]||_.target;if(!(f.props.interactive&&fs(E,C))){if(gt(f.props.triggerTarget||e).some(function(R){return fs(R,C)})){if(De.isTouch||f.state.isVisible&&f.props.trigger.indexOf("click")>=0)return}else Y("onClickOutside",[f,_]);f.props.hideOnClick===!0&&(f.clearDelayTimeouts(),f.hide(),o=!0,setTimeout(function(){o=!1}),f.state.isMounted||Ue())}}}function dt(){u=!0}function Ne(){u=!1}function me(){var _=K();_.addEventListener("mousedown",xe,!0),_.addEventListener("touchend",xe,Xe),_.addEventListener("touchstart",Ne,Xe),_.addEventListener("touchmove",dt,Xe)}function Ue(){var _=K();_.removeEventListener("mousedown",xe,!0),_.removeEventListener("touchend",xe,Xe),_.removeEventListener("touchstart",Ne,Xe),_.removeEventListener("touchmove",dt,Xe)}function jt(_,C){Ft(_,function(){!f.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&C()})}function ze(_,C){Ft(_,C)}function Ft(_,C){var R=V().box;function z($){$.target===R&&(Fi(R,"remove",z),C())}if(_===0)return C();Fi(R,"remove",w),Fi(R,"add",z),w=z}function We(_,C,R){R===void 0&&(R=!1);var z=gt(f.props.triggerTarget||e);z.forEach(function($){$.addEventListener(_,C,R),d.push({node:$,eventType:_,handler:C,options:R})})}function Ht(){k()&&(We("touchstart",wn,{passive:!0}),We("touchend",Er,{passive:!0})),Y_(f.props.trigger).forEach(function(_){if(_!=="manual")switch(We(_,wn),_){case"mouseenter":We("mouseleave",Er);break;case"focus":We(lg?"focusout":"blur",xn);break;case"focusin":We("focusout",xn);break}})}function wr(){d.forEach(function(_){var C=_.node,R=_.eventType,z=_.handler,$=_.options;C.removeEventListener(R,z,$)}),d=[]}function wn(_){var C,R=!1;if(!(!f.state.isEnabled||En(_)||o)){var z=((C=c)==null?void 0:C.type)==="focus";c=_,y=_.currentTarget,we(),!f.state.isVisible&&Q_(_)&&Br.forEach(function($){return $(_)}),_.type==="click"&&(f.props.trigger.indexOf("mouseenter")<0||s)&&f.props.hideOnClick!==!1&&f.state.isVisible?R=!0:An(_),_.type==="click"&&(s=!R),R&&!z&&pt(_)}}function xr(_){var C=_.target,R=j().contains(C)||E.contains(C);if(!(_.type==="mousemove"&&R)){var z=Ye().concat(E).map(function($){var Q,fe=$._tippy,Zt=(Q=fe.popperInstance)==null?void 0:Q.state;return Zt?{popperRect:$.getBoundingClientRect(),popperState:Zt,props:t}:null}).filter(Boolean);rg(z,_)&&(ut(),pt(_))}}function Er(_){var C=En(_)||f.props.trigger.indexOf("click")>=0&&s;if(!C){if(f.props.interactive){f.hideWithInteractivity(_);return}pt(_)}}function xn(_){f.props.trigger.indexOf("focusin")<0&&_.target!==j()||f.props.interactive&&_.relatedTarget&&E.contains(_.relatedTarget)||pt(_)}function En(_){return De.isTouch?k()!==_.type.indexOf("touch")>=0:!1}function Ar(){Tr();var _=f.props,C=_.popperOptions,R=_.placement,z=_.offset,$=_.getReferenceClientRect,Q=_.moveTransition,fe=P()?ua(E).arrow:null,Zt=$?{getBoundingClientRect:$,contextElement:$.contextElement||j()}:e,Ua={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Dr){var Gt=Dr.state;if(P()){var Zl=V(),yi=Zl.box;["placement","reference-hidden","escaped"].forEach(function(Lr){Lr==="placement"?yi.setAttribute("data-placement",Gt.placement):Gt.attributes.popper["data-popper-"+Lr]?yi.setAttribute("data-"+Lr,""):yi.removeAttribute("data-"+Lr)}),Gt.attributes.popper={}}}},ht=[{name:"offset",options:{offset:z}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Q}},Ua];P()&&fe&&ht.push({name:"arrow",options:{element:fe,padding:3}}),ht.push.apply(ht,(C==null?void 0:C.modifiers)||[]),f.popperInstance=G_(Zt,E,Object.assign({},C,{placement:R,onFirstUpdate:p,modifiers:ht}))}function Tr(){f.popperInstance&&(f.popperInstance.destroy(),f.popperInstance=null)}function Be(){var _=f.props.appendTo,C,R=j();f.props.interactive&&_===kl||_==="parent"?C=R.parentNode:C=Cl(_,[R]),C.contains(E)||C.appendChild(E),f.state.isMounted=!0,Ar()}function Ye(){return qr(E.querySelectorAll("[data-tippy-root]"))}function An(_){f.clearDelayTimeouts(),_&&Y("onTrigger",[f,_]),me();var C=q(!0),R=O(),z=R[0],$=R[1];De.isTouch&&z==="hold"&&$&&(C=$),C?r=setTimeout(function(){f.show()},C):f.show()}function pt(_){if(f.clearDelayTimeouts(),Y("onUntrigger",[f,_]),!f.state.isVisible){Ue();return}if(!(f.props.trigger.indexOf("mouseenter")>=0&&f.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_.type)>=0&&s)){var C=q(!1);C?i=setTimeout(function(){f.state.isVisible&&f.hide()},C):a=requestAnimationFrame(function(){f.hide()})}}function Tn(){f.state.isEnabled=!0}function Or(){f.hide(),f.state.isEnabled=!1}function Sr(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(a)}function kr(_){if(!f.state.isDestroyed){Y("onBeforeUpdate",[f,_]),wr();var C=f.props,R=us(e,Object.assign({},C,ss(_),{ignoreAttributes:!0}));f.props=R,Ht(),C.interactiveDebounce!==R.interactiveDebounce&&(ut(),v=as(xr,R.interactiveDebounce)),C.triggerTarget&&!R.triggerTarget?gt(C.triggerTarget).forEach(function(z){z.removeAttribute("aria-expanded")}):R.triggerTarget&&e.removeAttribute("aria-expanded"),we(),J(),T&&T(C,R),f.popperInstance&&(Ar(),Ye().forEach(function(z){requestAnimationFrame(z._tippy.popperInstance.forceUpdate)})),Y("onAfterUpdate",[f,_])}}function Cr(_){f.setProps({content:_})}function zl(){var _=f.state.isVisible,C=f.state.isDestroyed,R=!f.state.isEnabled,z=De.isTouch&&!f.props.touch,$=Bi(f.props.duration,0,se.duration);if(!(_||C||R||z)&&!j().hasAttribute("disabled")&&(Y("onShow",[f],!1),f.props.onShow(f)!==!1)){if(f.state.isVisible=!0,P()&&(E.style.visibility="visible"),J(),me(),f.state.isMounted||(E.style.transition="none"),P()){var Q=V(),fe=Q.box,Zt=Q.content;ji([fe,Zt],0)}p=function(){var ht;if(!(!f.state.isVisible||l)){if(l=!0,E.offsetHeight,E.style.transition=f.props.moveTransition,P()&&f.props.animation){var mi=V(),Dr=mi.box,Gt=mi.content;ji([Dr,Gt],$),ls([Dr,Gt],"visible")}ye(),we(),os(Hi,f),(ht=f.popperInstance)==null||ht.forceUpdate(),Y("onMount",[f]),f.props.animation&&P()&&ze($,function(){f.state.isShown=!0,Y("onShown",[f])})}},Be()}}function Bl(){var _=!f.state.isVisible,C=f.state.isDestroyed,R=!f.state.isEnabled,z=Bi(f.props.duration,1,se.duration);if(!(_||C||R)&&(Y("onHide",[f],!1),f.props.onHide(f)!==!1)){if(f.state.isVisible=!1,f.state.isShown=!1,l=!1,s=!1,P()&&(E.style.visibility="hidden"),ut(),Ue(),J(!0),P()){var $=V(),Q=$.box,fe=$.content;f.props.animation&&(ji([Q,fe],z),ls([Q,fe],"hidden"))}ye(),we(),f.props.animation?P()&&jt(z,f.unmount):f.unmount()}}function jl(_){K().addEventListener("mousemove",v),os(Br,v),v(_)}function Fl(){f.state.isVisible&&f.hide(),f.state.isMounted&&(Tr(),Ye().forEach(function(_){_._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),Hi=Hi.filter(function(_){return _!==f}),f.state.isMounted=!1,Y("onHidden",[f]))}function Hl(){f.state.isDestroyed||(f.clearDelayTimeouts(),f.unmount(),wr(),delete e._tippy,f.state.isDestroyed=!0,Y("onDestroy",[f]))}}function _n(e,n){n===void 0&&(n={});var t=se.plugins.concat(n.plugins||[]);og();var r=Object.assign({},n,{plugins:t}),i=tg(e),a=i.reduce(function(s,o){var u=o&&gg(o,r);return u&&s.push(u),s},[]);return bi(e)?a[0]:a}_n.defaultProps=se;_n.setDefaultProps=dg;_n.currentInput=De;Object.assign({},vl,{effect:function(n){var t=n.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});var vg={mouseover:"mouseenter",focusin:"focus",click:"click"};function bg(e,n){var t=[],r=[],i=!1,a=n.target,s=W_(n,["target"]),o=Object.assign({},s,{trigger:"manual",touch:!1}),u=Object.assign({touch:se.touch},s,{showOnCreate:!0}),l=_n(e,o),c=gt(l);function w(h){if(!(!h.target||i)){var g=h.target.closest(a);if(g){var m=g.getAttribute("data-tippy-trigger")||n.trigger||se.trigger;if(!g._tippy&&!(h.type==="touchstart"&&typeof u.touch=="boolean")&&!(h.type!=="touchstart"&&m.indexOf(vg[h.type])<0)){var A=_n(g,u);A&&(r=r.concat(A))}}}}function p(h,g,m,A){A===void 0&&(A=!1),h.addEventListener(g,m,A),t.push({node:h,eventType:g,handler:m,options:A})}function d(h){var g=h.reference;p(g,"touchstart",w,Xe),p(g,"mouseover",w),p(g,"focusin",w),p(g,"click",w)}function v(){t.forEach(function(h){var g=h.node,m=h.eventType,A=h.handler,f=h.options;g.removeEventListener(m,A,f)}),t=[]}function y(h){var g=h.destroy,m=h.enable,A=h.disable;h.destroy=function(f){f===void 0&&(f=!0),f&&r.forEach(function(S){S.destroy()}),r=[],v(),g()},h.enable=function(){m(),r.forEach(function(f){return f.enable()}),i=!1},h.disable=function(){A(),r.forEach(function(f){return f.disable()}),i=!0},d(h)}return c.forEach(y),l}_n.setDefaultProps({render:Rl});var Oe;class mg{constructor(n){D(this,Oe,void 0);B(this,Oe,n)}async loadCard(n){let t=await b(this,Oe).prepareCard(n,ue.NAME);if(t!=null&&b(this,Oe).hasCard(t,ue.NAME))return b(this,Oe).getCard(t,ue.NAME);if(t=await b(this,Oe).prepareCard(n,ue.PASSCODE),t!=null&&b(this,Oe).hasCard(t,ue.PASSCODE))return b(this,Oe).getCard(t,ue.PASSCODE);throw new Error(`Could not find card '${n}'.`)}}Oe=new WeakMap;const yg=()=>navigator.maxTouchPoints>0;var nn;class wg{constructor(){D(this,nn,null)}getEnvironment(){return b(this,nn)==null&&B(this,nn,location.host.endsWith("ygoprodeck.com")),b(this,nn)?on.YGOPRODECK:on.DEFAULT}}nn=new WeakMap;const xg=e=>({data:e,meta:{current_rows:0,total_rows:0,rows_remaining:0,total_pages:0,pages_remaining:0}}),Yt=e=>{if(e.status>=200&&e.status<=299)return e;throw new Error(`Unexpected status code: ${e.status} - ${e.statusText}.`)};var ai,ar,or,sr,pa,oi,Il,lr,ha,Je,Xt,Qe,qt;const vt=class vt{constructor(n){D(this,sr);D(this,oi);D(this,lr);D(this,Je);D(this,Qe);D(this,or,void 0);B(this,or,n)}async getSingleCard(n){const t=new URL("cardinfo.php",I(this,Je,Xt).call(this));I(this,sr,pa).call(this,t.searchParams,n);const r=await I(this,Qe,qt).call(this,t,I(this,lr,ha).call(this,n)).then(i=>i.status===b(vt,ar)?null:(Yt(i),i.json()));return r==null?null:r.data[0]}async getCards(n){const t=new URL("cardinfo.php",I(this,Je,Xt).call(this));I(this,sr,pa).call(this,t.searchParams,n),t.searchParams.set("num",b(vt,ai).toString());const r=I(this,lr,ha).call(this,n);return I(this,oi,Il).call(this,async i=>{const a=new URL(t);return a.searchParams.set("offset",i.toString()),I(this,Qe,qt).call(this,a,r).then(s=>s.status===b(vt,ar)?xg([]):(Yt(s),s.json()))})}async getCardSets(){return I(this,Qe,qt).call(this,new URL("cardsets.php",I(this,Je,Xt).call(this))).then(Yt).then(n=>n.json())}getCardValues(){return I(this,Qe,qt).call(this,new URL("cardvalues.php",I(this,Je,Xt).call(this))).then(Yt).then(n=>n.json())}async getArchetypes(){return I(this,Qe,qt).call(this,new URL("archetypes.php",I(this,Je,Xt).call(this))).then(Yt).then(n=>n.json())}async updateViews(n){const t=new URL("https://ygoprodeck.com/api/card/updateViews.php");return t.searchParams.set("card",n.passcode),fetch(t,{method:"GET"}).then(r=>{Yt(r)})}};ai=new WeakMap,ar=new WeakMap,or=new WeakMap,sr=new WeakSet,pa=function(n,t){n.set("misc","yes"),t.includeAliased&&n.set("includeAliased","yes"),n.set("format","all"),t.passcode!=null&&n.set("id",t.passcode),t.fuzzyName!=null&&n.set("fname",t.fuzzyName),t.sorting!=null&&n.set("sort",t.sorting),t.auth!=null&&n.set("cachebust",String(Date.now()))},oi=new WeakSet,Il=async function(n){const t=[];let r=0,i=null;for(;i==null||i>0;){const a=await n(r);t.push(...a.data),i=a.meta.pages_remaining,a.meta.next_page_offset!=null&&(r=a.meta.next_page_offset)}return t},lr=new WeakSet,ha=function(n){return n.auth==null?{}:{"X-Authorization":`Basic ${btoa(`${n.auth.username}:${n.auth.token}`)}`}},Je=new WeakSet,Xt=function(){return b(this,or).getEnvironment()==on.YGOPRODECK?"https://db.ygoprodeck.com/api_internal/v7/":"https://db.ygoprodeck.com/api/v7/"},Qe=new WeakSet,qt=async function(n,t={}){return fetch(n,{method:"GET",headers:{Accept:"application/json",...t}})},D(vt,ai,2e3),D(vt,ar,400);let da=vt;var rn,fr,si,Ml;class Eg{constructor(n,t){D(this,si);D(this,rn,void 0);D(this,fr,void 0);B(this,rn,n),B(this,fr,t)}async increaseCardViewCount(n){return this.validateEnv(),b(this,rn).updateViews(n)}async getCollectionCardCountFunction(n){this.validateEnv();const t=await b(this,rn).getCards({includeAliased:!0,auth:n});return I(this,si,Ml).call(this,Kl(t,(r,i)=>String(i.id),(r,i)=>i.cardq))}validateEnv(){if(b(this,fr).getEnvironment()!=on.YGOPRODECK)throw new Error("Only available in YGOPRODECK environment.")}}rn=new WeakMap,fr=new WeakMap,si=new WeakSet,Ml=function(n){return t=>n.has(t.passcode)?n.get(t.passcode):0};var Se,li;const Ae=class Ae{constructor(n){D(this,li,void 0);B(this,li,n)}getPlaceholderCardImageUrl(){return"https://images.ygoprodeck.com/images/cards/4035199.jpg"}getTypeImageUrl(n){return`${b(Ae,Se)}/${encodeURIComponent(n.type.name)}.jpg`}getSubTypeImageUrl(n){return`${b(Ae,Se)}/race/${encodeURIComponent(n.subType)}.png`}getAttributeImageUrl(n){return`${b(Ae,Se)}/attributes/${encodeURIComponent(n.attribute)}.jpg`}getAtkImageUrl(){return`${b(Ae,Se)}/misc/atk.png`}getLevelImageUrl(){return`${b(Ae,Se)}/misc/level.png`}getLinkMarkerImageUrl(){return`${b(Ae,Se)}/linkarrows/Right.png`}getBanStateImageUrl(n,t){return`${b(Ae,Se)}/${encodeURIComponent(n.banlist[t].name)}.png`}};Se=new WeakMap,li=new WeakMap,D(Ae,Se,"https://images.ygoprodeck.com/images/cards/icons");let _a=Ae;const Ag=xa("mapCard"),hs=new Map([["Unlimited",pe.UNLIMITED],["Semi-Limited",pe.SEMI_LIMITED],["Limited",pe.LIMITED],["Banned",pe.BANNED]]),Zi=e=>e!=null&&hs.has(e)?hs.get(e):pe.UNLIMITED,Tg=new Map([["OCG",Z.OCG],["TCG",Z.TCG],["GOAT",Z.GOAT],["OCG GOAT",Z.OCG_GOAT],["Speed Duel",Z.SPEED_DUEL],["Rush Duel",Z.RUSH_DUEL],["Duel Links",Z.DUEL_LINKS],["Common Charity",Z.COMMON_CHARITY],["Edison",Z.EDISON]]),Og=e=>e==null||e.formats==null?[]:e.formats.map(n=>wa(Tg,n)),Sg=(e,n)=>(e.name==="Beast Fangs"&&console.log("MAPPING CAAAAAAAAAARD",e.name),e.card_sets==null?[]:e.card_sets.filter(t=>n.has(t.set_name)?!0:(Ag.warn(`Could not find set '${t.set_name}'.`),!1)).map(t=>{let r=n.get(t.set_name);return r.raririty_code=t.set_rarity_code,e.name==="Beast Fangs"&&(console.log("MAPPING"),console.log(t.set_name),console.log(t.set_rarity_code),console.log(t.set_price),console.log(r.raririty_code)),{...r}})),kg=e=>{if(e.card_images==null)return null;const n=e.card_images[0];return{url:n.image_url,urlSmall:n.image_url_small}},Cg=e=>{const n=new Map;if(e.card_prices!=null){const t=(i,a)=>{const s=Number(a);s>0&&n.set(i,s)},r=e.card_prices[0];t(Rn.CARD_MARKET,r.cardmarket_price),t(Rn.TCG_PLAYER,r.tcgplayer_price),t(Rn.COOL_STUFF_INC,r.coolstuffinc_price)}return n},_s=e=>e==null?null:new Date(e).getTime(),Dg=e=>({[Z.TCG]:_s((e==null?void 0:e.tcg_date)??null),[Z.OCG]:_s((e==null?void 0:e.ocg_date)??null)}),Lg=(e,n)=>{if(!n.has(e))throw new TypeError(`Could not find type '${e}'.`);return n.get(e)},Rg=(e,n,t)=>{var i,a,s;const r=e.misc_info!=null?e.misc_info[0]:null;return{passcode:String(e.id),name:e.name,description:e.desc,type:Lg(e.type,t),subType:e.race,attribute:e.attribute??null,atk:e.atk??null,def:e.def??null,level:e.level??null,pendulumScale:e.scale??null,linkRating:e.linkval??null,linkMarkers:e.linkmarkers??null,treatedAs:(r==null?void 0:r.treated_as)??null,archetype:e.archetype??null,betaPasscode:(r==null?void 0:r.beta_id)!=null?String(r.beta_id):null,betaName:(r==null?void 0:r.beta_name)??null,release:Dg(r),sets:Sg(e,n),formats:Og(r),banlist:{[Z.TCG]:Zi(((i=e.banlist_info)==null?void 0:i.ban_tcg)??null),[Z.OCG]:Zi(((a=e.banlist_info)==null?void 0:a.ban_ocg)??null),[Z.GOAT]:Zi(((s=e.banlist_info)==null?void 0:s.ban_goat)??null)},image:kg(e),prices:Cg(e),views:(r==null?void 0:r.views)??0}},Ig=e=>e.archetype_name,Mg=e=>({name:e.set_name,code:e.set_code}),$g=new Map([["MONSTER",G.MONSTER],["SPELL",G.SPELL],["TRAP",G.TRAP],["SKILL",G.SKILL]]),Pg=e=>wa($g,e.group),Ng=new Map([["MAIN",at.MAIN],["EXTRA",at.EXTRA],["SIDE",at.SIDE]]),Ug=e=>new Set(e.area.map(n=>wa(Ng,n))),jr=(e,n)=>e.map(t=>Wl(n.find(r=>r.name===t),()=>new TypeError(`Could not find type '${t}'.`))),zg=e=>{const n=e.types.map(t=>({name:t.name,category:Pg(t),sortGroup:t.sortGroup,deckParts:Ug(t)}));return{[G.MONSTER]:{types:jr(e.MONSTER.type,n),subTypes:e.MONSTER.race,attributes:e.MONSTER.attributes,levels:e.MONSTER.level,linkMarkers:e.MONSTER.linkmarkers},[G.SPELL]:{types:jr(e.SPELL.type,n),subTypes:e.SPELL.race},[G.TRAP]:{types:jr(e.TRAP.type,n),subTypes:e.TRAP.race},[G.SKILL]:{types:jr(e.SKILL.type,n),subTypes:e.SKILL.race}}};var et,ke,Et,At,Tt,Ot,Ce,St,tt,an,nt,kt,Ct,Dt,Lt,Rt,fi,$l,ci,Pl,ui,Nl,cr,va,ur,ba,dr,ma,pr,ya;const Fe=class Fe{constructor(n){D(this,fi);D(this,ci);D(this,ui);D(this,cr);D(this,ur);D(this,dr);D(this,pr);D(this,ke,void 0);D(this,Et,void 0);D(this,At,void 0);D(this,Tt,void 0);D(this,Ot,void 0);D(this,Ce,void 0);D(this,St,void 0);D(this,tt,void 0);D(this,an,void 0);D(this,nt,void 0);D(this,kt,void 0);D(this,Ct,void 0);D(this,Dt,void 0);D(this,Lt,void 0);D(this,Rt,void 0);B(this,ke,n),B(this,Et,null),B(this,At,null),B(this,Tt,null),B(this,Ot,null),B(this,tt,new Map),B(this,an,new Map),B(this,Ce,new Map),B(this,St,new Map),B(this,Rt,[]),B(this,nt,new Map(Object.values(G).map(t=>[t,[]]))),B(this,kt,new Map(Object.values(G).map(t=>[t,[]]))),B(this,Ct,[]),B(this,Dt,[]),B(this,Lt,[])}async prepareAll(){await Promise.all([I(this,cr,va).call(this),I(this,ur,ba).call(this),I(this,ui,Nl).call(this)]),await I(this,ci,Pl).call(this)}async prepareCard(n,t){await Promise.all([I(this,cr,va).call(this),I(this,ur,ba).call(this)]);const r=await I(this,fi,$l).call(this,n,t);return r==null?null:t==ue.NAME?r.name:r.passcode}hasCard(n,t){return I(this,pr,ya).call(this,t).has(n)}getCard(n,t){return I(this,pr,ya).call(this,t).get(n)??null}getCards(){return Array.from(b(this,Ce).values())}getSets(){return Array.from(b(this,tt).values())}getArchetypes(){return b(this,Rt)}getTypes(n){return b(this,nt).get(n)}getSubTypes(n){return b(this,kt).get(n)}getAttributes(){return b(this,Ct)}getLevels(){return b(this,Lt)}getLinkMarkers(){return b(this,Dt)}};et=new WeakMap,ke=new WeakMap,Et=new WeakMap,At=new WeakMap,Tt=new WeakMap,Ot=new WeakMap,Ce=new WeakMap,St=new WeakMap,tt=new WeakMap,an=new WeakMap,nt=new WeakMap,kt=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,fi=new WeakSet,$l=async function(n,t){if(!this.hasCard(n,t)){let r;t==ue.PASSCODE?r=await b(this,ke).getSingleCard({passcode:n,includeAliased:!0}):r=await b(this,ke).getSingleCard({fuzzyName:n,sorting:"relevance",includeAliased:!1}),r!=null&&I(this,dr,ma).call(this,r)}return this.getCard(n,t)},ci=new WeakSet,Pl=async function(){return b(this,Ot)==null&&B(this,Ot,b(this,ke).getCards({includeAliased:!0}).then(n=>{n.forEach(t=>I(this,dr,ma).call(this,t))})),b(this,Ot)},ui=new WeakSet,Nl=async function(){return b(this,At)==null&&B(this,At,b(this,ke).getArchetypes().then(n=>{const t=n.map(Ig);b(this,Rt).push(...t),b(Fe,et).debug("Registered archetypes.",b(this,Rt))})),b(this,At)},cr=new WeakSet,va=async function(){return b(this,Et)==null&&B(this,Et,b(this,ke).getCardSets().then(n=>{for(const t of n){const r=Mg(t);b(this,tt).set(r.name,r)}b(Fe,et).debug("Registered sets.",b(this,tt))})),b(this,Et)},ur=new WeakSet,ba=async function(){return b(this,Tt)==null&&B(this,Tt,b(this,ke).getCardValues().then(zg).then(n=>{for(const t of Object.values(G))b(this,nt).get(t).push(...n[t].types),b(this,kt).get(t).push(...n[t].subTypes);Array.from(b(this,nt).values()).flat().forEach(t=>b(this,an).set(t.name,t)),b(Fe,et).debug("Registered types and sub-types.",b(this,nt),b(this,kt)),b(this,Ct).push(...n[G.MONSTER].attributes),b(this,Lt).push(...n[G.MONSTER].levels),b(this,Dt).push(...n[G.MONSTER].linkMarkers),b(Fe,et).debug("Registered monster values.",b(this,Ct),b(this,Lt),b(this,Dt))})),b(this,Tt)},dr=new WeakSet,ma=function(n){const t=Rg(n,b(this,tt),b(this,an));if(b(this,Ce).has(t.passcode)||t.betaPasscode!=null&&b(this,Ce).has(t.betaPasscode)){b(Fe,et).warn("Refusing to add already registered card passcode.",t);return}b(this,Ce).set(t.passcode,t),t.betaPasscode!=null&&b(this,Ce).set(t.betaPasscode,t),b(this,St).set(t.name,t),t.betaName!=null&&b(this,St).set(t.betaName,t)},pr=new WeakSet,ya=function(n){return n==ue.PASSCODE?b(this,Ce):b(this,St)},D(Fe,et,xa(Fe));let ga=Fe;const Bg=e=>{const n=new _a(e),t=new da(e),r=new Eg(t,e),i=new ga(t);return{resourceService:n,ygoprodeckService:r,cardDatabase:i}},Ul=new wg,{cardDatabase:jg,resourceService:wt,ygoprodeckService:Fg}=Bg(Ul),gs=new rd,Hg=new mg(jg),Zg=e=>{var t;const n=(t=e.attributes.getNamedItem("href"))==null?void 0:t.value;return n==null||n===""},Gg=e=>{const n=new URL("https://ygoprodeck.com/card/");return n.searchParams.append("search",e.name),n},Kg=(e,n)=>{!yg()&&Zg(e)&&(e.href=Gg(n).toString(),e.target="_blank",e.relList.add("noopener"))},yn=(e,n,t)=>{const r=document.createElement(e);return n.length>0&&r.classList.add(...n),r.append(...t),r},ne=(e,n)=>yn("div",e,n),Vg=(e,n)=>yn("ul",e,n),Wg=(e,n)=>{const t=yn("li",e,[]);return t.textContent=n,t},_e=(e,n)=>{const t=yn("span",e,[]);return t.textContent=n,t},Yg=(e,n)=>{const t=yn("p",e,[]);return t.textContent=n,t},it=(e,n,t)=>{const r=yn("img",e,[]);return r.src=n,r.alt=t,r},Xg=()=>ne(["card-tooltip__content","card-tooltip__content--loading"],[ne(["card-tooltip__loading"],[_e(["fas","fa-spinner","fa-spin"],""),_e([],"Loading...")])]),qg=e=>{const n=[],t=it([],wt.getAtkImageUrl(),"");return n.push(t),e.atk!=null&&n.push(_e([],`ATK/ ${e.atk}`)),e.def!=null?n.push(_e([],`DEF/ ${e.def}`)):e.linkRating!=null&&n.push(_e([],`LINK-${e.linkRating}`)),ne(["card-tooltip__stats"],n)},Jg=e=>{const n=[];return e.type.category===G.MONSTER&&(n.push(it([],wt.getAttributeImageUrl(e),"")),n.push(_e([],`Attribute: ${e.attribute}`))),n.push(it([],wt.getSubTypeImageUrl(e),"")),n.push(_e([],`Type: ${e.subType}`)),ne(["card-tooltip__subtype"],n)},Qg=e=>{const n=[];for(const t of Yl){const r=gs.getPrice([e],t);if(r.missing.length>0)continue;const i=Wg(["card-tooltip__price__vendor",`card-tooltip__price__vendor--${t.id}`],`${t.name}: ${gs.formatPrice(r.price,t.currency)}`);n.push(i)}return Vg(["card-tooltip__price"],n)},e0=e=>ne(["card-tooltip__description"],e.description.split(`
`).map(n=>Yg([],n))),t0=e=>{const n=[],t=Z.TCG,r=ne(["card-tooltip__details"],[it([],wt.getTypeImageUrl(e),`Type: ${e.type.name}`),_e(["card-tooltip__name"],e.name),it([],wt.getBanStateImageUrl(e,t),`Ban State: ${e.banlist[t].name}`)]);if(n.push(r),e.type.category===G.MONSTER&&n.push(qg(e)),e.type.category!==G.SKILL&&n.push(Jg(e)),e.type.category===G.MONSTER){if(e.level!=null){const i=ne(["card-tooltip__level"],[it([],wt.getLevelImageUrl(),""),_e([],`Level/Rank: ${e.level}`)]);n.push(i)}else if(e.linkMarkers!=null){const i=ne(["card-tooltip__link-markers"],[it([],wt.getLinkMarkerImageUrl(),""),_e([],`Link Markers: ${e.linkMarkers.join(", ")}`)]);n.push(i)}}return n.push(e0(e)),n.push(Qg(e)),ne(["card-tooltip__details__col"],n)},n0=e=>{var t;const n=it(["card-tooltip__image"],((t=e.image)==null?void 0:t.url)??"#","");return ne(["card-tooltip__image__col"],[n])},r0=e=>ne(["card-tooltip"],[ne(["card-tooltip__content"],[t0(e),n0(e)])]),i0=e=>ne(["card-tooltip__content","card-tooltip__content--error"],[ne(["card-tooltip__error"],[_e(["fas","fa-times"],""),_e([],e)])]),Fr=xa("bindTooltip"),a0=(e,n,t,r)=>{Fr.trace(`Attempting to show tooltip for '${t}'.`),Hg.loadCard(t).then(i=>{Fr.trace("Loaded card.",i),i.prices.set(Rn.CUSTOM,r),e.setContent(r0(i)),n instanceof HTMLAnchorElement&&Kg(n,i),Ul.getEnvironment()==on.YGOPRODECK&&Fg.increaseCardViewCount(i).catch(a=>Fr.warn("Could not update view count.",a))}).catch(i=>{e.setContent(i0("Error while loading card.")),Fr.error("Error while loading card.",i)})},h0=e=>{const n=bg(e,{target:"[data-name]",delay:[500,0],placement:"auto",maxWidth:"none",allowHTML:!0,content:()=>Xg(),onShow:r=>{const i=r.reference,a=i.dataset.name,s=i.dataset.price;a0(r,i,a,s)}});let t=!1;return{disable(){n.disable(),t=!0},enable:()=>{t=!1,setTimeout(()=>{t||n.enable()},100)}}};export{Yo as A,oo as B,G as C,On as D,Yl as E,Z as F,l0 as G,wg as H,Gl as I,s0 as J,on as K,f0 as L,yg as M,wa as N,rd as P,sn as S,hr as a,h0 as b,Gr as c,ys as d,gn as e,Rf as f,xa as g,Df as h,Bn as i,xs as j,Cc as k,gc as l,Kr as m,Du as n,Ki as o,Ss as p,Bf as q,Ke as r,eo as s,Mf as t,kc as u,at as v,c0 as w,Rn as x,ue as y,Bg as z};
