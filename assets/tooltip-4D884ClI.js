var xi=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var b=(e,n,t)=>(xi(e,n,"read from private field"),t?t.call(e):n.get(e)),D=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},B=(e,n,t,r)=>(xi(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t);var I=(e,n,t)=>(xi(e,n,"access private method"),t);var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u0(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var bs={exports:{}};(function(e){(function(n,t){e.exports?e.exports=t():n.log=t()})(Kl,function(){var n=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(y,h){var g=y[h];if(typeof g.bind=="function")return g.bind(y);try{return Function.prototype.bind.call(g,y)}catch{return function(){return Function.prototype.apply.apply(g,[y,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(y){return y==="debug"&&(y="log"),typeof console===t?!1:y==="trace"&&r?s:console[y]!==void 0?a(console,y):console.log!==void 0?a(console,"log"):n}function u(y,h){for(var g=0;g<i.length;g++){var m=i[g];this[m]=g<y?n:this.methodFactory(m,y,h)}this.log=this.debug}function l(y,h,g){return function(){typeof console!==t&&(u.call(this,h,g),this[y].apply(this,arguments))}}function c(y,h,g){return o(y)||l.apply(this,arguments)}function w(y,h,g){var m=this,A;h=h??"WARN";var f="loglevel";typeof y=="string"?f+=":"+y:typeof y=="symbol"&&(f=void 0);function S(x){var O=(i[x]||"silent").toUpperCase();if(!(typeof window===t||!f)){try{window.localStorage[f]=O;return}catch{}try{window.document.cookie=encodeURIComponent(f)+"="+O+";"}catch{}}}function E(){var x;if(!(typeof window===t||!f)){try{x=window.localStorage[f]}catch{}if(typeof x===t)try{var O=window.document.cookie,k=O.indexOf(encodeURIComponent(f)+"=");k!==-1&&(x=/^([^;]+)/.exec(O.slice(k))[1])}catch{}return m.levels[x]===void 0&&(x=void 0),x}}function T(){if(!(typeof window===t||!f)){try{window.localStorage.removeItem(f);return}catch{}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}m.name=y,m.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},m.methodFactory=g||c,m.getLevel=function(){return A},m.setLevel=function(x,O){if(typeof x=="string"&&m.levels[x.toUpperCase()]!==void 0&&(x=m.levels[x.toUpperCase()]),typeof x=="number"&&x>=0&&x<=m.levels.SILENT){if(A=x,O!==!1&&S(x),u.call(m,x,y),typeof console===t&&x<m.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+x},m.setDefaultLevel=function(x){h=x,E()||m.setLevel(x,!1)},m.resetLevel=function(){m.setLevel(h,!1),T()},m.enableAll=function(x){m.setLevel(m.levels.TRACE,x)},m.disableAll=function(x){m.setLevel(m.levels.SILENT,x)};var L=E();L==null&&(L=h),m.setLevel(L,!1)}var p=new w,d={};p.getLogger=function(h){if(typeof h!="symbol"&&typeof h!="string"||h==="")throw new TypeError("You must supply a name when creating a logger.");var g=d[h];return g||(g=d[h]=new w(h,p.getLevel(),p.methodFactory)),g};var v=typeof window!==t?window.log:void 0;return p.noConflict=function(){return typeof window!==t&&window.log===p&&(window.log=v),p},p.getLoggers=function(){return d},p.default=p,p})})(bs);var za=bs.exports;const Vl=(e,n,t)=>new Map(Object.entries(e).map(([r,i])=>[n(r,i),t(r,i)])),Wl=e=>typeof e=="string"?e:typeof e=="symbol"?Symbol.keyFor(e)??null:typeof e=="function"?e.name:null,Yl=(e,n)=>{if(e==null)throw n();return e},xa=(e,n)=>{if(!e.has(n)){const t=JSON.stringify(Array.from(e.keys()));throw new TypeError(`Could not find key '${String(n)}' in map keys '${t}'.`)}return e.get(n)},di=e=>{const n=Wl(e);if(n==null)throw new TypeError(`Cannot find name for consumer: '${String(e)}'`);const t=za.getLogger(n);return t.setLevel(za.levels.WARN),t};var on=(e=>(e.DEFAULT="DEFAULT",e.YGOPRODECK="YGOPRODECK",e))(on||{});const pe={UNLIMITED:{name:"Unlimited",count:3},SEMI_LIMITED:{name:"Semi-Limited",count:2},LIMITED:{name:"Limited",count:1},BANNED:{name:"Banned",count:0}},d0=[pe.UNLIMITED,pe.SEMI_LIMITED,pe.LIMITED,pe.BANNED];var at=(e=>(e.MAIN="main",e.EXTRA="extra",e.SIDE="side",e))(at||{});const On=Object.values(at),p0={[at.MAIN]:{name:"Main",indicator:"#main",min:40,max:60,recommended:40},[at.EXTRA]:{name:"Extra",indicator:"#extra",min:0,max:15,recommended:15},[at.SIDE]:{name:"Side",indicator:"!side",min:0,max:15,recommended:15}};var Z=(e=>(e.OCG="OCG",e.TCG="TCG",e.GOAT="GOAT",e.OCG_GOAT="OCG GOAT",e.SPEED_DUEL="Speed Duel",e.RUSH_DUEL="Rush Duel",e.DUEL_LINKS="Duel Links",e.COMMON_CHARITY="Common Charity",e.EDISON="Edison",e))(Z||{});const Rr={USD:{id:"USD"},EUR:{id:"EUR"}};var G=(e=>(e.MONSTER="Monster",e.SPELL="Spell",e.TRAP="Trap",e.SKILL="Skill",e))(G||{});const Rn={CARD_MARKET:{name:"Cardmarket",id:"cardmarket",currency:Rr.EUR},TCG_PLAYER:{name:"TCGPlayer",id:"tcgplayer",currency:Rr.USD},COOL_STUFF_INC:{name:"CoolStuffInc",id:"coolstuffinc",currency:Rr.USD},CUSTOM:{name:"Pesos",id:"custom",currency:Rr.USD}},Xl=[Rn.CUSTOM];var ue=(e=>(e.NAME="name",e.PASSCODE="passcode",e))(ue||{}),ql=typeof global=="object"&&global&&global.Object===Object&&global;const ms=ql;var Jl=typeof self=="object"&&self&&self.Object===Object&&self,Ql=ms||Jl||Function("return this")();const Ke=Ql;var ef=Ke.Symbol;const sn=ef;var ys=Object.prototype,tf=ys.hasOwnProperty,nf=ys.toString,Sn=sn?sn.toStringTag:void 0;function rf(e){var n=tf.call(e,Sn),t=e[Sn];try{e[Sn]=void 0;var r=!0}catch{}var i=nf.call(e);return r&&(n?e[Sn]=t:delete e[Sn]),i}var af=Object.prototype,of=af.toString;function sf(e){return of.call(e)}var lf="[object Null]",ff="[object Undefined]",Ba=sn?sn.toStringTag:void 0;function hr(e){return e==null?e===void 0?ff:lf:Ba&&Ba in Object(e)?rf(e):sf(e)}function Bn(e){return e!=null&&typeof e=="object"}var cf=Array.isArray;const Gr=cf;function ws(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var uf="[object AsyncFunction]",df="[object Function]",pf="[object GeneratorFunction]",hf="[object Proxy]";function xs(e){if(!ws(e))return!1;var n=hr(e);return n==df||n==pf||n==uf||n==hf}var _f=Ke["__core-js_shared__"];const Ei=_f;var ja=function(){var e=/[^.]+$/.exec(Ei&&Ei.keys&&Ei.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gf(e){return!!ja&&ja in e}var vf=Function.prototype,bf=vf.toString;function Ut(e){if(e!=null){try{return bf.call(e)}catch{}try{return e+""}catch{}}return""}var mf=/[\\^$.*+?()[\]{}|]/g,yf=/^\[object .+?Constructor\]$/,wf=Function.prototype,xf=Object.prototype,Ef=wf.toString,Af=xf.hasOwnProperty,Tf=RegExp("^"+Ef.call(Af).replace(mf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Of(e){if(!ws(e)||gf(e))return!1;var n=xs(e)?Tf:yf;return n.test(Ut(e))}function Sf(e,n){return e==null?void 0:e[n]}function gn(e,n){var t=Sf(e,n);return Of(t)?t:void 0}var kf=gn(Ke,"WeakMap");const Ki=kf;var Cf=9007199254740991,Df=/^(?:0|[1-9]\d*)$/;function Lf(e,n){var t=typeof e;return n=n??Cf,!!n&&(t=="number"||t!="symbol"&&Df.test(e))&&e>-1&&e%1==0&&e<n}function Es(e,n){return e===n||e!==e&&n!==n}var Rf=9007199254740991;function As(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rf}function If(e){return e!=null&&As(e.length)&&!xs(e)}var Mf=Object.prototype;function $f(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Mf;return e===t}function Pf(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var Nf="[object Arguments]";function Fa(e){return Bn(e)&&hr(e)==Nf}var Ts=Object.prototype,Uf=Ts.hasOwnProperty,zf=Ts.propertyIsEnumerable,Bf=Fa(function(){return arguments}())?Fa:function(e){return Bn(e)&&Uf.call(e,"callee")&&!zf.call(e,"callee")};const jf=Bf;function Ff(){return!1}var Os=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ha=Os&&typeof module=="object"&&module&&!module.nodeType&&module,Hf=Ha&&Ha.exports===Os,Za=Hf?Ke.Buffer:void 0,Zf=Za?Za.isBuffer:void 0,Gf=Zf||Ff;const Vi=Gf;var Kf="[object Arguments]",Vf="[object Array]",Wf="[object Boolean]",Yf="[object Date]",Xf="[object Error]",qf="[object Function]",Jf="[object Map]",Qf="[object Number]",ec="[object Object]",tc="[object RegExp]",nc="[object Set]",rc="[object String]",ic="[object WeakMap]",ac="[object ArrayBuffer]",oc="[object DataView]",sc="[object Float32Array]",lc="[object Float64Array]",fc="[object Int8Array]",cc="[object Int16Array]",uc="[object Int32Array]",dc="[object Uint8Array]",pc="[object Uint8ClampedArray]",hc="[object Uint16Array]",_c="[object Uint32Array]",F={};F[sc]=F[lc]=F[fc]=F[cc]=F[uc]=F[dc]=F[pc]=F[hc]=F[_c]=!0;F[Kf]=F[Vf]=F[ac]=F[Wf]=F[oc]=F[Yf]=F[Xf]=F[qf]=F[Jf]=F[Qf]=F[ec]=F[tc]=F[nc]=F[rc]=F[ic]=!1;function gc(e){return Bn(e)&&As(e.length)&&!!F[hr(e)]}function vc(e){return function(n){return e(n)}}var Ss=typeof exports=="object"&&exports&&!exports.nodeType&&exports,In=Ss&&typeof module=="object"&&module&&!module.nodeType&&module,bc=In&&In.exports===Ss,Ai=bc&&ms.process,mc=function(){try{var e=In&&In.require&&In.require("util").types;return e||Ai&&Ai.binding&&Ai.binding("util")}catch{}}();const Ga=mc;var Ka=Ga&&Ga.isTypedArray,yc=Ka?vc(Ka):gc;const ks=yc;var wc=Object.prototype,xc=wc.hasOwnProperty;function Ec(e,n){var t=Gr(e),r=!t&&jf(e),i=!t&&!r&&Vi(e),a=!t&&!r&&!i&&ks(e),s=t||r||i||a,o=s?Pf(e.length,String):[],u=o.length;for(var l in e)(n||xc.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Lf(l,u)))&&o.push(l);return o}function Ac(e,n){return function(t){return e(n(t))}}var Tc=Ac(Object.keys,Object);const Oc=Tc;var Sc=Object.prototype,kc=Sc.hasOwnProperty;function Cc(e){if(!$f(e))return Oc(e);var n=[];for(var t in Object(e))kc.call(e,t)&&t!="constructor"&&n.push(t);return n}function Dc(e){return If(e)?Ec(e):Cc(e)}var Lc=gn(Object,"create");const jn=Lc;function Rc(){this.__data__=jn?jn(null):{},this.size=0}function Ic(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var Mc="__lodash_hash_undefined__",$c=Object.prototype,Pc=$c.hasOwnProperty;function Nc(e){var n=this.__data__;if(jn){var t=n[e];return t===Mc?void 0:t}return Pc.call(n,e)?n[e]:void 0}var Uc=Object.prototype,zc=Uc.hasOwnProperty;function Bc(e){var n=this.__data__;return jn?n[e]!==void 0:zc.call(n,e)}var jc="__lodash_hash_undefined__";function Fc(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=jn&&n===void 0?jc:n,this}function Mt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Mt.prototype.clear=Rc;Mt.prototype.delete=Ic;Mt.prototype.get=Nc;Mt.prototype.has=Bc;Mt.prototype.set=Fc;function Hc(){this.__data__=[],this.size=0}function pi(e,n){for(var t=e.length;t--;)if(Es(e[t][0],n))return t;return-1}var Zc=Array.prototype,Gc=Zc.splice;function Kc(e){var n=this.__data__,t=pi(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Gc.call(n,t,1),--this.size,!0}function Vc(e){var n=this.__data__,t=pi(n,e);return t<0?void 0:n[t][1]}function Wc(e){return pi(this.__data__,e)>-1}function Yc(e,n){var t=this.__data__,r=pi(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Ve(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Ve.prototype.clear=Hc;Ve.prototype.delete=Kc;Ve.prototype.get=Vc;Ve.prototype.has=Wc;Ve.prototype.set=Yc;var Xc=gn(Ke,"Map");const Fn=Xc;function qc(){this.size=0,this.__data__={hash:new Mt,map:new(Fn||Ve),string:new Mt}}function Jc(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function hi(e,n){var t=e.__data__;return Jc(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Qc(e){var n=hi(this,e).delete(e);return this.size-=n?1:0,n}function eu(e){return hi(this,e).get(e)}function tu(e){return hi(this,e).has(e)}function nu(e,n){var t=hi(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function zt(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}zt.prototype.clear=qc;zt.prototype.delete=Qc;zt.prototype.get=eu;zt.prototype.has=tu;zt.prototype.set=nu;function ru(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}function iu(){this.__data__=new Ve,this.size=0}function au(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function ou(e){return this.__data__.get(e)}function su(e){return this.__data__.has(e)}var lu=200;function fu(e,n){var t=this.__data__;if(t instanceof Ve){var r=t.__data__;if(!Fn||r.length<lu-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new zt(r)}return t.set(e,n),this.size=t.size,this}function ot(e){var n=this.__data__=new Ve(e);this.size=n.size}ot.prototype.clear=iu;ot.prototype.delete=au;ot.prototype.get=ou;ot.prototype.has=su;ot.prototype.set=fu;function cu(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function uu(){return[]}var du=Object.prototype,pu=du.propertyIsEnumerable,Va=Object.getOwnPropertySymbols,hu=Va?function(e){return e==null?[]:(e=Object(e),cu(Va(e),function(n){return pu.call(e,n)}))}:uu;const _u=hu;function gu(e,n,t){var r=n(e);return Gr(e)?r:ru(r,t(e))}function Wa(e){return gu(e,Dc,_u)}var vu=gn(Ke,"DataView");const Wi=vu;var bu=gn(Ke,"Promise");const Yi=bu;var mu=gn(Ke,"Set");const Xi=mu;var Ya="[object Map]",yu="[object Object]",Xa="[object Promise]",qa="[object Set]",Ja="[object WeakMap]",Qa="[object DataView]",wu=Ut(Wi),xu=Ut(Fn),Eu=Ut(Yi),Au=Ut(Xi),Tu=Ut(Ki),_t=hr;(Wi&&_t(new Wi(new ArrayBuffer(1)))!=Qa||Fn&&_t(new Fn)!=Ya||Yi&&_t(Yi.resolve())!=Xa||Xi&&_t(new Xi)!=qa||Ki&&_t(new Ki)!=Ja)&&(_t=function(e){var n=hr(e),t=n==yu?e.constructor:void 0,r=t?Ut(t):"";if(r)switch(r){case wu:return Qa;case xu:return Ya;case Eu:return Xa;case Au:return qa;case Tu:return Ja}return n});const eo=_t;var Ou=Ke.Uint8Array;const to=Ou;var Su="__lodash_hash_undefined__";function ku(e){return this.__data__.set(e,Su),this}function Cu(e){return this.__data__.has(e)}function Kr(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new zt;++n<t;)this.add(e[n])}Kr.prototype.add=Kr.prototype.push=ku;Kr.prototype.has=Cu;function Du(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function Lu(e,n){return e.has(n)}var Ru=1,Iu=2;function Cs(e,n,t,r,i,a){var s=t&Ru,o=e.length,u=n.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(e),c=a.get(n);if(l&&c)return l==n&&c==e;var w=-1,p=!0,d=t&Iu?new Kr:void 0;for(a.set(e,n),a.set(n,e);++w<o;){var v=e[w],y=n[w];if(r)var h=s?r(y,v,w,n,e,a):r(v,y,w,e,n,a);if(h!==void 0){if(h)continue;p=!1;break}if(d){if(!Du(n,function(g,m){if(!Lu(d,m)&&(v===g||i(v,g,t,r,a)))return d.push(m)})){p=!1;break}}else if(!(v===y||i(v,y,t,r,a))){p=!1;break}}return a.delete(e),a.delete(n),p}function Mu(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function $u(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var Pu=1,Nu=2,Uu="[object Boolean]",zu="[object Date]",Bu="[object Error]",ju="[object Map]",Fu="[object Number]",Hu="[object RegExp]",Zu="[object Set]",Gu="[object String]",Ku="[object Symbol]",Vu="[object ArrayBuffer]",Wu="[object DataView]",no=sn?sn.prototype:void 0,Ti=no?no.valueOf:void 0;function Yu(e,n,t,r,i,a,s){switch(t){case Wu:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Vu:return!(e.byteLength!=n.byteLength||!a(new to(e),new to(n)));case Uu:case zu:case Fu:return Es(+e,+n);case Bu:return e.name==n.name&&e.message==n.message;case Hu:case Gu:return e==n+"";case ju:var o=Mu;case Zu:var u=r&Pu;if(o||(o=$u),e.size!=n.size&&!u)return!1;var l=s.get(e);if(l)return l==n;r|=Nu,s.set(e,n);var c=Cs(o(e),o(n),r,i,a,s);return s.delete(e),c;case Ku:if(Ti)return Ti.call(e)==Ti.call(n)}return!1}var Xu=1,qu=Object.prototype,Ju=qu.hasOwnProperty;function Qu(e,n,t,r,i,a){var s=t&Xu,o=Wa(e),u=o.length,l=Wa(n),c=l.length;if(u!=c&&!s)return!1;for(var w=u;w--;){var p=o[w];if(!(s?p in n:Ju.call(n,p)))return!1}var d=a.get(e),v=a.get(n);if(d&&v)return d==n&&v==e;var y=!0;a.set(e,n),a.set(n,e);for(var h=s;++w<u;){p=o[w];var g=e[p],m=n[p];if(r)var A=s?r(m,g,p,n,e,a):r(g,m,p,e,n,a);if(!(A===void 0?g===m||i(g,m,t,r,a):A)){y=!1;break}h||(h=p=="constructor")}if(y&&!h){var f=e.constructor,S=n.constructor;f!=S&&"constructor"in e&&"constructor"in n&&!(typeof f=="function"&&f instanceof f&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(e),a.delete(n),y}var ed=1,ro="[object Arguments]",io="[object Array]",Ir="[object Object]",td=Object.prototype,ao=td.hasOwnProperty;function nd(e,n,t,r,i,a){var s=Gr(e),o=Gr(n),u=s?io:eo(e),l=o?io:eo(n);u=u==ro?Ir:u,l=l==ro?Ir:l;var c=u==Ir,w=l==Ir,p=u==l;if(p&&Vi(e)){if(!Vi(n))return!1;s=!0,c=!1}if(p&&!c)return a||(a=new ot),s||ks(e)?Cs(e,n,t,r,i,a):Yu(e,n,u,t,r,i,a);if(!(t&ed)){var d=c&&ao.call(e,"__wrapped__"),v=w&&ao.call(n,"__wrapped__");if(d||v){var y=d?e.value():e,h=v?n.value():n;return a||(a=new ot),i(y,h,t,r,a)}}return p?(a||(a=new ot),Qu(e,n,t,r,i,a)):!1}function Ds(e,n,t,r,i){return e===n?!0:e==null||n==null||!Bn(e)&&!Bn(n)?e!==e&&n!==n:nd(e,n,t,r,Ds,i)}function rd(e,n){return Ds(e,n)}class id{formatPrice(n,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.id}).format(n)}getPrice(n,t){let r=0;const i=[];for(const a of n)if(a.prices.has(t)){const s=a.prices.get(t);r+=s}else i.push(a);return{price:r,missing:i}}}var Jr;const Qr=class Qr{hasBanlist(n){return b(Qr,Jr).has(n)}getBanStateByFormat(n,t){return t==null?pe.UNLIMITED:n.formats.includes(t)?this.hasBanlist(t)?n.banlist[t]:pe.UNLIMITED:pe.BANNED}};Jr=new WeakMap,D(Qr,Jr,new Set([Z.OCG,Z.TCG,Z.GOAT]));let oo=Qr;/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const ad=4,so=0,lo=1,od=2;function vn(e){let n=e.length;for(;--n>=0;)e[n]=0}const sd=0,Ls=1,ld=2,fd=3,cd=258,Ea=29,_r=256,Hn=_r+1+Ea,Jt=30,Aa=19,Rs=2*Hn+1,bt=15,Oi=16,ud=7,Ta=256,Is=16,Ms=17,$s=18,qi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Hr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ps=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pd=512,He=new Array((Hn+2)*2);vn(He);const Mn=new Array(Jt*2);vn(Mn);const Zn=new Array(pd);vn(Zn);const Gn=new Array(cd-fd+1);vn(Gn);const Oa=new Array(Ea);vn(Oa);const Vr=new Array(Jt);vn(Vr);function Si(e,n,t,r,i){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let Ns,Us,zs;function ki(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const Bs=e=>e<256?Zn[e]:Zn[256+(e>>>7)],Kn=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},te=(e,n,t)=>{e.bi_valid>Oi-t?(e.bi_buf|=n<<e.bi_valid&65535,Kn(e,e.bi_buf),e.bi_buf=n>>Oi-e.bi_valid,e.bi_valid+=t-Oi):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Le=(e,n,t)=>{te(e,t[n*2],t[n*2+1])},js=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},hd=e=>{e.bi_valid===16?(Kn(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},_d=(e,n)=>{const t=n.dyn_tree,r=n.max_code,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,u=n.stat_desc.max_length;let l,c,w,p,d,v,y=0;for(p=0;p<=bt;p++)e.bl_count[p]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Rs;l++)c=e.heap[l],p=t[t[c*2+1]*2+1]+1,p>u&&(p=u,y++),t[c*2+1]=p,!(c>r)&&(e.bl_count[p]++,d=0,c>=o&&(d=s[c-o]),v=t[c*2],e.opt_len+=v*(p+d),a&&(e.static_len+=v*(i[c*2+1]+d)));if(y!==0){do{for(p=u-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[u]--,y-=2}while(y>0);for(p=u;p!==0;p--)for(c=e.bl_count[p];c!==0;)w=e.heap[--l],!(w>r)&&(t[w*2+1]!==p&&(e.opt_len+=(p-t[w*2+1])*t[w*2],t[w*2+1]=p),c--)}},Fs=(e,n,t)=>{const r=new Array(bt+1);let i=0,a,s;for(a=1;a<=bt;a++)i=i+t[a-1]<<1,r[a]=i;for(s=0;s<=n;s++){let o=e[s*2+1];o!==0&&(e[s*2]=js(r[o]++,o))}},gd=()=>{let e,n,t,r,i;const a=new Array(bt+1);for(t=0,r=0;r<Ea-1;r++)for(Oa[r]=t,e=0;e<1<<qi[r];e++)Gn[t++]=r;for(Gn[t-1]=r,i=0,r=0;r<16;r++)for(Vr[r]=i,e=0;e<1<<Hr[r];e++)Zn[i++]=r;for(i>>=7;r<Jt;r++)for(Vr[r]=i<<7,e=0;e<1<<Hr[r]-7;e++)Zn[256+i++]=r;for(n=0;n<=bt;n++)a[n]=0;for(e=0;e<=143;)He[e*2+1]=8,e++,a[8]++;for(;e<=255;)He[e*2+1]=9,e++,a[9]++;for(;e<=279;)He[e*2+1]=7,e++,a[7]++;for(;e<=287;)He[e*2+1]=8,e++,a[8]++;for(Fs(He,Hn+1,a),e=0;e<Jt;e++)Mn[e*2+1]=5,Mn[e*2]=js(e,5);Ns=new Si(He,qi,_r+1,Hn,bt),Us=new Si(Mn,Hr,0,Jt,bt),zs=new Si(new Array(0),dd,0,Aa,ud)},Hs=e=>{let n;for(n=0;n<Hn;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Jt;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Aa;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Ta*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Zs=e=>{e.bi_valid>8?Kn(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},fo=(e,n,t,r)=>{const i=n*2,a=t*2;return e[i]<e[a]||e[i]===e[a]&&r[n]<=r[t]},Ci=(e,n,t)=>{const r=e.heap[t];let i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&fo(n,e.heap[i+1],e.heap[i],e.depth)&&i++,!fo(n,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r},co=(e,n,t)=>{let r,i,a=0,s,o;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?Le(e,i,n):(s=Gn[i],Le(e,s+_r+1,n),o=qi[s],o!==0&&(i-=Oa[s],te(e,i,o)),r--,s=Bs(r),Le(e,s,t),o=Hr[s],o!==0&&(r-=Vr[s],te(e,r,o)));while(a<e.sym_next);Le(e,Ta,n)},Ji=(e,n)=>{const t=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,a=n.stat_desc.elems;let s,o,u=-1,l;for(e.heap_len=0,e.heap_max=Rs,s=0;s<a;s++)t[s*2]!==0?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(n.max_code=u,s=e.heap_len>>1;s>=1;s--)Ci(e,t,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ci(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,Ci(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],_d(e,n),Fs(t,u,e.bl_count)},uo=(e,n,t)=>{let r,i=-1,a,s=n[0*2+1],o=0,u=7,l=4;for(s===0&&(u=138,l=3),n[(t+1)*2+1]=65535,r=0;r<=t;r++)a=s,s=n[(r+1)*2+1],!(++o<u&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[Is*2]++):o<=10?e.bl_tree[Ms*2]++:e.bl_tree[$s*2]++,o=0,i=a,s===0?(u=138,l=3):a===s?(u=6,l=3):(u=7,l=4))},po=(e,n,t)=>{let r,i=-1,a,s=n[0*2+1],o=0,u=7,l=4;for(s===0&&(u=138,l=3),r=0;r<=t;r++)if(a=s,s=n[(r+1)*2+1],!(++o<u&&a===s)){if(o<l)do Le(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Le(e,a,e.bl_tree),o--),Le(e,Is,e.bl_tree),te(e,o-3,2)):o<=10?(Le(e,Ms,e.bl_tree),te(e,o-3,3)):(Le(e,$s,e.bl_tree),te(e,o-11,7));o=0,i=a,s===0?(u=138,l=3):a===s?(u=6,l=3):(u=7,l=4)}},vd=e=>{let n;for(uo(e,e.dyn_ltree,e.l_desc.max_code),uo(e,e.dyn_dtree,e.d_desc.max_code),Ji(e,e.bl_desc),n=Aa-1;n>=3&&e.bl_tree[Ps[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},bd=(e,n,t,r)=>{let i;for(te(e,n-257,5),te(e,t-1,5),te(e,r-4,4),i=0;i<r;i++)te(e,e.bl_tree[Ps[i]*2+1],3);po(e,e.dyn_ltree,n-1),po(e,e.dyn_dtree,t-1)},md=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return so;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return lo;for(t=32;t<_r;t++)if(e.dyn_ltree[t*2]!==0)return lo;return so};let ho=!1;const yd=e=>{ho||(gd(),ho=!0),e.l_desc=new ki(e.dyn_ltree,Ns),e.d_desc=new ki(e.dyn_dtree,Us),e.bl_desc=new ki(e.bl_tree,zs),e.bi_buf=0,e.bi_valid=0,Hs(e)},Gs=(e,n,t,r)=>{te(e,(sd<<1)+(r?1:0),3),Zs(e),Kn(e,t),Kn(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},wd=e=>{te(e,Ls<<1,3),Le(e,Ta,He),hd(e)},xd=(e,n,t,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===od&&(e.strm.data_type=md(e)),Ji(e,e.l_desc),Ji(e,e.d_desc),s=vd(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=t+5,t+4<=i&&n!==-1?Gs(e,n,t,r):e.strategy===ad||a===i?(te(e,(Ls<<1)+(r?1:0),3),co(e,He,Mn)):(te(e,(ld<<1)+(r?1:0),3),bd(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),co(e,e.dyn_ltree,e.dyn_dtree)),Hs(e),r&&Zs(e)},Ed=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Gn[t]+_r+1)*2]++,e.dyn_dtree[Bs(n)*2]++),e.sym_next===e.sym_end);var Ad=yd,Td=Gs,Od=xd,Sd=Ed,kd=wd,Cd={_tr_init:Ad,_tr_stored_block:Td,_tr_flush_block:Od,_tr_tally:Sd,_tr_align:kd};const Dd=(e,n,t,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+n[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Vn=Dd;const Ld=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Rd=new Uint32Array(Ld()),Id=(e,n,t,r)=>{const i=Rd,a=r+t;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^n[s])&255];return e^-1};var W=Id,ln={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Md,_tr_stored_block:Qi,_tr_flush_block:$d,_tr_tally:st,_tr_align:Pd}=Cd,{Z_NO_FLUSH:lt,Z_PARTIAL_FLUSH:Nd,Z_FULL_FLUSH:Ud,Z_FINISH:de,Z_BLOCK:_o,Z_OK:X,Z_STREAM_END:go,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:zd,Z_BUF_ERROR:Di,Z_DEFAULT_COMPRESSION:Bd,Z_FILTERED:jd,Z_HUFFMAN_ONLY:Mr,Z_RLE:Fd,Z_FIXED:Hd,Z_DEFAULT_STRATEGY:Zd,Z_UNKNOWN:Gd,Z_DEFLATED:_i}=gr,Kd=9,Vd=15,Wd=8,Yd=29,Xd=256,ea=Xd+1+Yd,qd=30,Jd=19,Qd=2*ea+1,ep=15,M=3,rt=258,Me=rt+M+1,tp=32,fn=42,Sa=57,ta=69,na=73,ra=91,ia=103,mt=113,Dn=666,ee=1,bn=2,$t=3,mn=4,np=3,yt=(e,n)=>(e.msg=ln[n],n),vo=e=>e*2-(e>4?9:0),qe=e=>{let n=e.length;for(;--n>=0;)e[n]=0},rp=e=>{let n,t,r,i=e.w_size;n=e.hash_size,r=n;do t=e.head[--r],e.head[r]=t>=i?t-i:0;while(--n);n=i,r=n;do t=e.prev[--r],e.prev[r]=t>=i?t-i:0;while(--n)};let ip=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,ft=ip;const ae=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},oe=(e,n)=>{$d(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,ae(e.strm)},N=(e,n)=>{e.pending_buf[e.pending++]=n},kn=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},aa=(e,n,t,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,n.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=Vn(e.adler,n,i,t):e.state.wrap===2&&(e.adler=W(e.adler,n,i,t)),e.next_in+=i,e.total_in+=i,i)},Ks=(e,n)=>{let t=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-Me?e.strstart-(e.w_size-Me):0,l=e.window,c=e.w_mask,w=e.prev,p=e.strstart+rt;let d=l[r+s-1],v=l[r+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=n,!(l[i+s]!==v||l[i+s-1]!==d||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<p);if(a=rt-(p-r),r=p-rt,a>s){if(e.match_start=n,s=a,a>=o)break;d=l[r+s-1],v=l[r+s]}}while((n=w[n&c])>u&&--t!==0);return s<=e.lookahead?s:e.lookahead},cn=e=>{const n=e.w_size;let t,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-Me)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),rp(e),r+=n),e.strm.avail_in===0)break;if(t=aa(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=M)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ft(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ft(e,e.ins_h,e.window[i+M-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<M)););}while(e.lookahead<Me&&e.strm.avail_in!==0)},Vs=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,s=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<t&&(r===0&&n!==de||n===lt||r!==i+e.strm.avail_in)))break;s=n===de&&r===i+e.strm.avail_in?1:0,Qi(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ae(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(aa(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?mn:n!==lt&&n!==de&&e.strm.avail_in===0&&e.strstart===e.block_start?bn:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(aa(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=t||(i||n===de)&&n!==lt&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,s=n===de&&e.strm.avail_in===0&&r===i?1:0,Qi(e,e.block_start,r,s),e.block_start+=r,ae(e.strm)),s?$t:ee)},Li=(e,n)=>{let t,r;for(;;){if(e.lookahead<Me){if(cn(e),e.lookahead<Me&&n===lt)return ee;if(e.lookahead===0)break}if(t=0,e.lookahead>=M&&(e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Me&&(e.match_length=Ks(e,t)),e.match_length>=M)if(r=st(e,e.strstart-e.match_start,e.match_length-M),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=M){e.match_length--;do e.strstart++,e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ft(e,e.ins_h,e.window[e.strstart+1]);else r=st(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(oe(e,!1),e.strm.avail_out===0))return ee}return e.insert=e.strstart<M-1?e.strstart:M-1,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn},Kt=(e,n)=>{let t,r,i;for(;;){if(e.lookahead<Me){if(cn(e),e.lookahead<Me&&n===lt)return ee;if(e.lookahead===0)break}if(t=0,e.lookahead>=M&&(e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=M-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Me&&(e.match_length=Ks(e,t),e.match_length<=5&&(e.strategy===jd||e.match_length===M&&e.strstart-e.match_start>4096)&&(e.match_length=M-1)),e.prev_length>=M&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-M,r=st(e,e.strstart-1-e.prev_match,e.prev_length-M),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ft(e,e.ins_h,e.window[e.strstart+M-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=M-1,e.strstart++,r&&(oe(e,!1),e.strm.avail_out===0))return ee}else if(e.match_available){if(r=st(e,0,e.window[e.strstart-1]),r&&oe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ee}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=st(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<M-1?e.strstart:M-1,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn},ap=(e,n)=>{let t,r,i,a;const s=e.window;for(;;){if(e.lookahead<=rt){if(cn(e),e.lookahead<=rt&&n===lt)return ee;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=M&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+rt;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=rt-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=M?(t=st(e,1,e.match_length-M),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=st(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(oe(e,!1),e.strm.avail_out===0))return ee}return e.insert=0,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn},op=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(cn(e),e.lookahead===0)){if(n===lt)return ee;break}if(e.match_length=0,t=st(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(oe(e,!1),e.strm.avail_out===0))return ee}return e.insert=0,n===de?(oe(e,!0),e.strm.avail_out===0?$t:mn):e.sym_next&&(oe(e,!1),e.strm.avail_out===0)?ee:bn};function Ee(e,n,t,r,i){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=i}const Ln=[new Ee(0,0,0,0,Vs),new Ee(4,4,8,4,Li),new Ee(4,5,16,8,Li),new Ee(4,6,32,32,Li),new Ee(4,4,16,16,Kt),new Ee(8,16,32,32,Kt),new Ee(8,16,128,128,Kt),new Ee(8,32,128,256,Kt),new Ee(32,128,258,1024,Kt),new Ee(32,258,258,4096,Kt)],sp=e=>{e.window_size=2*e.w_size,qe(e.head),e.max_lazy_match=Ln[e.level].max_lazy,e.good_match=Ln[e.level].good_length,e.nice_match=Ln[e.level].nice_length,e.max_chain_length=Ln[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=M-1,e.match_available=0,e.ins_h=0};function lp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_i,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Qd*2),this.dyn_dtree=new Uint16Array((2*qd+1)*2),this.bl_tree=new Uint16Array((2*Jd+1)*2),qe(this.dyn_ltree),qe(this.dyn_dtree),qe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ep+1),this.heap=new Uint16Array(2*ea+1),qe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ea+1),qe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vr=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==fn&&n.status!==Sa&&n.status!==ta&&n.status!==na&&n.status!==ra&&n.status!==ia&&n.status!==mt&&n.status!==Dn?1:0},Ws=e=>{if(vr(e))return yt(e,Ie);e.total_in=e.total_out=0,e.data_type=Gd;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?Sa:n.wrap?fn:mt,e.adler=n.wrap===2?0:1,n.last_flush=-2,Md(n),X},Ys=e=>{const n=Ws(e);return n===X&&sp(e.state),n},fp=(e,n)=>vr(e)||e.state.wrap!==2?Ie:(e.state.gzhead=n,X),Xs=(e,n,t,r,i,a)=>{if(!e)return Ie;let s=1;if(n===Bd&&(n=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>Kd||t!==_i||r<8||r>15||n<0||n>9||a<0||a>Hd||r===8&&s!==1)return yt(e,Ie);r===8&&(r=9);const o=new lp;return e.state=o,o.strm=e,o.status=fn,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+M-1)/M),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=n,o.strategy=a,o.method=t,Ys(e)},cp=(e,n)=>Xs(e,n,_i,Vd,Wd,Zd),up=(e,n)=>{if(vr(e)||n>_o||n<0)return e?yt(e,Ie):Ie;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Dn&&n!==de)return yt(e,e.avail_out===0?Di:Ie);const r=t.last_flush;if(t.last_flush=n,t.pending!==0){if(ae(e),e.avail_out===0)return t.last_flush=-1,X}else if(e.avail_in===0&&vo(n)<=vo(r)&&n!==de)return yt(e,Di);if(t.status===Dn&&e.avail_in!==0)return yt(e,Di);if(t.status===fn&&t.wrap===0&&(t.status=mt),t.status===fn){let i=_i+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Mr||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,i|=a<<6,t.strstart!==0&&(i|=tp),i+=31-i%31,kn(t,i),t.strstart!==0&&(kn(t,e.adler>>>16),kn(t,e.adler&65535)),e.adler=1,t.status=mt,ae(e),t.pending!==0)return t.last_flush=-1,X}if(t.status===Sa){if(e.adler=0,N(t,31),N(t,139),N(t,8),t.gzhead)N(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),N(t,t.gzhead.time&255),N(t,t.gzhead.time>>8&255),N(t,t.gzhead.time>>16&255),N(t,t.gzhead.time>>24&255),N(t,t.level===9?2:t.strategy>=Mr||t.level<2?4:0),N(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(N(t,t.gzhead.extra.length&255),N(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=W(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=ta;else if(N(t,0),N(t,0),N(t,0),N(t,0),N(t,0),N(t,t.level===9?2:t.strategy>=Mr||t.level<2?4:0),N(t,np),t.status=mt,ae(e),t.pending!==0)return t.last_flush=-1,X}if(t.status===ta){if(t.gzhead.extra){let i=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=o,ae(e),t.pending!==0)return t.last_flush=-1,X;i=0,a-=o}let s=new Uint8Array(t.gzhead.extra);t.pending_buf.set(s.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=na}if(t.status===na){if(t.gzhead.name){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),ae(e),t.pending!==0)return t.last_flush=-1,X;i=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,N(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=ra}if(t.status===ra){if(t.gzhead.comment){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i)),ae(e),t.pending!==0)return t.last_flush=-1,X;i=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,N(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=W(e.adler,t.pending_buf,t.pending-i,i))}t.status=ia}if(t.status===ia){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(ae(e),t.pending!==0))return t.last_flush=-1,X;N(t,e.adler&255),N(t,e.adler>>8&255),e.adler=0}if(t.status=mt,ae(e),t.pending!==0)return t.last_flush=-1,X}if(e.avail_in!==0||t.lookahead!==0||n!==lt&&t.status!==Dn){let i=t.level===0?Vs(t,n):t.strategy===Mr?op(t,n):t.strategy===Fd?ap(t,n):Ln[t.level].func(t,n);if((i===$t||i===mn)&&(t.status=Dn),i===ee||i===$t)return e.avail_out===0&&(t.last_flush=-1),X;if(i===bn&&(n===Nd?Pd(t):n!==_o&&(Qi(t,0,0,!1),n===Ud&&(qe(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),ae(e),e.avail_out===0))return t.last_flush=-1,X}return n!==de?X:t.wrap<=0?go:(t.wrap===2?(N(t,e.adler&255),N(t,e.adler>>8&255),N(t,e.adler>>16&255),N(t,e.adler>>24&255),N(t,e.total_in&255),N(t,e.total_in>>8&255),N(t,e.total_in>>16&255),N(t,e.total_in>>24&255)):(kn(t,e.adler>>>16),kn(t,e.adler&65535)),ae(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?X:go)},dp=e=>{if(vr(e))return Ie;const n=e.state.status;return e.state=null,n===mt?yt(e,zd):X},pp=(e,n)=>{let t=n.length;if(vr(e))return Ie;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==fn||r.lookahead)return Ie;if(i===1&&(e.adler=Vn(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){i===0&&(qe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(n.subarray(t-r.w_size,t),0),n=u,t=r.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,cn(r);r.lookahead>=M;){let u=r.strstart,l=r.lookahead-(M-1);do r.ins_h=ft(r,r.ins_h,r.window[u+M-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--l);r.strstart=u,r.lookahead=M-1,cn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=M-1,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,r.wrap=i,X};var hp=cp,_p=Xs,gp=Ys,vp=Ws,bp=fp,mp=up,yp=dp,wp=pp,xp="pako deflate (from Nodeca project)",$n={deflateInit:hp,deflateInit2:_p,deflateReset:gp,deflateResetKeep:vp,deflateSetHeader:bp,deflate:mp,deflateEnd:yp,deflateSetDictionary:wp,deflateInfo:xp};const Ep=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Ap=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)Ep(t,r)&&(e[r]=t[r])}}return e},Tp=e=>{let n=0;for(let r=0,i=e.length;r<i;r++)n+=e[r].length;const t=new Uint8Array(n);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];t.set(s,i),i+=s.length}return t},gi={assign:Ap,flattenChunks:Tp};let qs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qs=!1}const Wn=new Uint8Array(256);for(let e=0;e<256;e++)Wn[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Wn[254]=Wn[254]=1;var Op=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,r,i,a,s=e.length,o=0;for(i=0;i<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),a=0,i=0;a<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const Sp=(e,n)=>{if(n<65534&&e.subarray&&qs)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t};var kp=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let r,i;const a=new Array(t*2);for(i=0,r=0;r<t;){let s=e[r++];if(s<128){a[i++]=s;continue}let o=Wn[s];if(o>4){a[i++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<t;)s=s<<6|e[r++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Sp(a,i)},Cp=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Wn[e[t]]>n?t:n},Yn={string2buf:Op,buf2string:kp,utf8border:Cp};function Dp(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Js=Dp;const Qs=Object.prototype.toString,{Z_NO_FLUSH:Lp,Z_SYNC_FLUSH:Rp,Z_FULL_FLUSH:Ip,Z_FINISH:Mp,Z_OK:Wr,Z_STREAM_END:$p,Z_DEFAULT_COMPRESSION:Pp,Z_DEFAULT_STRATEGY:Np,Z_DEFLATED:Up}=gr;function ka(e){this.options=gi.assign({level:Pp,method:Up,chunkSize:16384,windowBits:15,memLevel:8,strategy:Np},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Js,this.strm.avail_out=0;let t=$n.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Wr)throw new Error(ln[t]);if(n.header&&$n.deflateSetHeader(this.strm,n.header),n.dictionary){let r;if(typeof n.dictionary=="string"?r=Yn.string2buf(n.dictionary):Qs.call(n.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(n.dictionary):r=n.dictionary,t=$n.deflateSetDictionary(this.strm,r),t!==Wr)throw new Error(ln[t]);this._dict_set=!0}}ka.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?Mp:Lp,typeof e=="string"?t.input=Yn.string2buf(e):Qs.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(a===Rp||a===Ip)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=$n.deflate(t,a),i===$p)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=$n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Wr;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};ka.prototype.onData=function(e){this.chunks.push(e)};ka.prototype.onEnd=function(e){e===Wr&&(this.result=gi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const $r=16209,zp=16191;var Bp=function(n,t){let r,i,a,s,o,u,l,c,w,p,d,v,y,h,g,m,A,f,S,E,T,L,x,O;const k=n.state;r=n.next_in,x=n.input,i=r+(n.avail_in-5),a=n.next_out,O=n.output,s=a-(t-n.avail_out),o=a+(n.avail_out-257),u=k.dmax,l=k.wsize,c=k.whave,w=k.wnext,p=k.window,d=k.hold,v=k.bits,y=k.lencode,h=k.distcode,g=(1<<k.lenbits)-1,m=(1<<k.distbits)-1;e:do{v<15&&(d+=x[r++]<<v,v+=8,d+=x[r++]<<v,v+=8),A=y[d&g];t:for(;;){if(f=A>>>24,d>>>=f,v-=f,f=A>>>16&255,f===0)O[a++]=A&65535;else if(f&16){S=A&65535,f&=15,f&&(v<f&&(d+=x[r++]<<v,v+=8),S+=d&(1<<f)-1,d>>>=f,v-=f),v<15&&(d+=x[r++]<<v,v+=8,d+=x[r++]<<v,v+=8),A=h[d&m];n:for(;;){if(f=A>>>24,d>>>=f,v-=f,f=A>>>16&255,f&16){if(E=A&65535,f&=15,v<f&&(d+=x[r++]<<v,v+=8,v<f&&(d+=x[r++]<<v,v+=8)),E+=d&(1<<f)-1,E>u){n.msg="invalid distance too far back",k.mode=$r;break e}if(d>>>=f,v-=f,f=a-s,E>f){if(f=E-f,f>c&&k.sane){n.msg="invalid distance too far back",k.mode=$r;break e}if(T=0,L=p,w===0){if(T+=l-f,f<S){S-=f;do O[a++]=p[T++];while(--f);T=a-E,L=O}}else if(w<f){if(T+=l+w-f,f-=w,f<S){S-=f;do O[a++]=p[T++];while(--f);if(T=0,w<S){f=w,S-=f;do O[a++]=p[T++];while(--f);T=a-E,L=O}}}else if(T+=w-f,f<S){S-=f;do O[a++]=p[T++];while(--f);T=a-E,L=O}for(;S>2;)O[a++]=L[T++],O[a++]=L[T++],O[a++]=L[T++],S-=3;S&&(O[a++]=L[T++],S>1&&(O[a++]=L[T++]))}else{T=a-E;do O[a++]=O[T++],O[a++]=O[T++],O[a++]=O[T++],S-=3;while(S>2);S&&(O[a++]=O[T++],S>1&&(O[a++]=O[T++]))}}else if(f&64){n.msg="invalid distance code",k.mode=$r;break e}else{A=h[(A&65535)+(d&(1<<f)-1)];continue n}break}}else if(f&64)if(f&32){k.mode=zp;break e}else{n.msg="invalid literal/length code",k.mode=$r;break e}else{A=y[(A&65535)+(d&(1<<f)-1)];continue t}break}}while(r<i&&a<o);S=v>>3,r-=S,v-=S<<3,d&=(1<<v)-1,n.next_in=r,n.next_out=a,n.avail_in=r<i?5+(i-r):5-(r-i),n.avail_out=a<o?257+(o-a):257-(a-o),k.hold=d,k.bits=v};const Vt=15,bo=852,mo=592,yo=0,Ri=1,wo=2,jp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Fp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Hp=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zp=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Gp=(e,n,t,r,i,a,s,o)=>{const u=o.bits;let l=0,c=0,w=0,p=0,d=0,v=0,y=0,h=0,g=0,m=0,A,f,S,E,T,L=null,x;const O=new Uint16Array(Vt+1),k=new Uint16Array(Vt+1);let P=null,j,K,V;for(l=0;l<=Vt;l++)O[l]=0;for(c=0;c<r;c++)O[n[t+c]]++;for(d=u,p=Vt;p>=1&&O[p]===0;p--);if(d>p&&(d=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(w=1;w<p&&O[w]===0;w++);for(d<w&&(d=w),h=1,l=1;l<=Vt;l++)if(h<<=1,h-=O[l],h<0)return-1;if(h>0&&(e===yo||p!==1))return-1;for(k[1]=0,l=1;l<Vt;l++)k[l+1]=k[l]+O[l];for(c=0;c<r;c++)n[t+c]!==0&&(s[k[n[t+c]]++]=c);if(e===yo?(L=P=s,x=20):e===Ri?(L=jp,P=Fp,x=257):(L=Hp,P=Zp,x=0),m=0,c=0,l=w,T=a,v=d,y=0,S=-1,g=1<<d,E=g-1,e===Ri&&g>bo||e===wo&&g>mo)return 1;for(;;){j=l-y,s[c]+1<x?(K=0,V=s[c]):s[c]>=x?(K=P[s[c]-x],V=L[s[c]-x]):(K=96,V=0),A=1<<l-y,f=1<<v,w=f;do f-=A,i[T+(m>>y)+f]=j<<24|K<<16|V|0;while(f!==0);for(A=1<<l-1;m&A;)A>>=1;if(A!==0?(m&=A-1,m+=A):m=0,c++,--O[l]===0){if(l===p)break;l=n[t+s[c]]}if(l>d&&(m&E)!==S){for(y===0&&(y=d),T+=w,v=l-y,h=1<<v;v+y<p&&(h-=O[v+y],!(h<=0));)v++,h<<=1;if(g+=1<<v,e===Ri&&g>bo||e===wo&&g>mo)return 1;S=m&E,i[S]=d<<24|v<<16|T-a|0}}return m!==0&&(i[T+m]=l-y<<24|64<<16|0),o.bits=d,0};var Pn=Gp;const Kp=0,el=1,tl=2,{Z_FINISH:xo,Z_BLOCK:Vp,Z_TREES:Pr,Z_OK:Pt,Z_STREAM_END:Wp,Z_NEED_DICT:Yp,Z_STREAM_ERROR:ge,Z_DATA_ERROR:nl,Z_MEM_ERROR:rl,Z_BUF_ERROR:Xp,Z_DEFLATED:Eo}=gr,vi=16180,Ao=16181,To=16182,Oo=16183,So=16184,ko=16185,Co=16186,Do=16187,Lo=16188,Ro=16189,Yr=16190,je=16191,Ii=16192,Io=16193,Mi=16194,Mo=16195,$o=16196,Po=16197,No=16198,Nr=16199,Ur=16200,Uo=16201,zo=16202,Bo=16203,jo=16204,Fo=16205,$i=16206,Ho=16207,Zo=16208,H=16209,il=16210,al=16211,qp=852,Jp=592,Qp=15,eh=Qp,Go=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function th(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bt=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<vi||n.mode>al?1:0},ol=e=>{if(Bt(e))return ge;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=vi,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(qp),n.distcode=n.distdyn=new Int32Array(Jp),n.sane=1,n.back=-1,Pt},sl=e=>{if(Bt(e))return ge;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,ol(e)},ll=(e,n)=>{let t;if(Bt(e))return ge;const r=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?ge:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,sl(e))},fl=(e,n)=>{if(!e)return ge;const t=new th;e.state=t,t.strm=e,t.window=null,t.mode=vi;const r=ll(e,n);return r!==Pt&&(e.state=null),r},nh=e=>fl(e,eh);let Ko=!0,Pi,Ni;const rh=e=>{if(Ko){Pi=new Int32Array(512),Ni=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Pn(el,e.lens,0,288,Pi,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Pn(tl,e.lens,0,32,Ni,0,e.work,{bits:5}),Ko=!1}e.lencode=Pi,e.lenbits=9,e.distcode=Ni,e.distbits=5},cl=(e,n,t,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(n.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(n.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ih=(e,n)=>{let t,r,i,a,s,o,u,l,c,w,p,d,v,y,h=0,g,m,A,f,S,E,T,L;const x=new Uint8Array(4);let O,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bt(e)||!e.output||!e.input&&e.avail_in!==0)return ge;t=e.state,t.mode===je&&(t.mode=Ii),s=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=t.hold,c=t.bits,w=o,p=u,L=Pt;e:for(;;)switch(t.mode){case vi:if(t.wrap===0){t.mode=Ii;break}for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0),l=0,c=0,t.mode=Ao;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=H;break}if((l&15)!==Eo){e.msg="unknown compression method",t.mode=H;break}if(l>>>=4,c-=4,T=(l&15)+8,t.wbits===0&&(t.wbits=T),T>15||T>t.wbits){e.msg="invalid window size",t.mode=H;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?Ro:je,l=0,c=0;break;case Ao:for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.flags=l,(t.flags&255)!==Eo){e.msg="unknown compression method",t.mode=H;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=H;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0)),l=0,c=0,t.mode=To;case To:for(;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,x[2]=l>>>16&255,x[3]=l>>>24&255,t.check=W(t.check,x,4,0)),l=0,c=0,t.mode=Oo;case Oo:for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0)),l=0,c=0,t.mode=So;case So:if(t.flags&1024){for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(x[0]=l&255,x[1]=l>>>8&255,t.check=W(t.check,x,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=ko;case ko:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(T=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+d),T)),t.flags&512&&t.wrap&4&&(t.check=W(t.check,r,d,a)),o-=d,a+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Co;case Co:if(t.flags&2048){if(o===0)break e;d=0;do T=r[a+d++],t.head&&T&&t.length<65536&&(t.head.name+=String.fromCharCode(T));while(T&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=W(t.check,r,d,a)),o-=d,a+=d,T)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Do;case Do:if(t.flags&4096){if(o===0)break e;d=0;do T=r[a+d++],t.head&&T&&t.length<65536&&(t.head.comment+=String.fromCharCode(T));while(T&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=W(t.check,r,d,a)),o-=d,a+=d,T)break e}else t.head&&(t.head.comment=null);t.mode=Lo;case Lo:if(t.flags&512){for(;c<16;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=H;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=je;break;case Ro:for(;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}e.adler=t.check=Go(l),l=0,c=0,t.mode=Yr;case Yr:if(t.havedict===0)return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,Yp;e.adler=t.check=1,t.mode=je;case je:if(n===Vp||n===Pr)break e;case Ii:if(t.last){l>>>=c&7,c-=c&7,t.mode=$i;break}for(;c<3;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}switch(t.last=l&1,l>>>=1,c-=1,l&3){case 0:t.mode=Io;break;case 1:if(rh(t),t.mode=Nr,n===Pr){l>>>=2,c-=2;break e}break;case 2:t.mode=$o;break;case 3:e.msg="invalid block type",t.mode=H}l>>>=2,c-=2;break;case Io:for(l>>>=c&7,c-=c&7;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=H;break}if(t.length=l&65535,l=0,c=0,t.mode=Mi,n===Pr)break e;case Mi:t.mode=Mo;case Mo:if(d=t.length,d){if(d>o&&(d=o),d>u&&(d=u),d===0)break e;i.set(r.subarray(a,a+d),s),o-=d,a+=d,u-=d,s+=d,t.length-=d;break}t.mode=je;break;case $o:for(;c<14;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.nlen=(l&31)+257,l>>>=5,c-=5,t.ndist=(l&31)+1,l>>>=5,c-=5,t.ncode=(l&15)+4,l>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=H;break}t.have=0,t.mode=Po;case Po:for(;t.have<t.ncode;){for(;c<3;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.lens[P[t.have++]]=l&7,l>>>=3,c-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,O={bits:t.lenbits},L=Pn(Kp,t.lens,0,19,t.lencode,0,t.work,O),t.lenbits=O.bits,L){e.msg="invalid code lengths set",t.mode=H;break}t.have=0,t.mode=No;case No:for(;t.have<t.nlen+t.ndist;){for(;h=t.lencode[l&(1<<t.lenbits)-1],g=h>>>24,m=h>>>16&255,A=h&65535,!(g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(A<16)l>>>=g,c-=g,t.lens[t.have++]=A;else{if(A===16){for(k=g+2;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(l>>>=g,c-=g,t.have===0){e.msg="invalid bit length repeat",t.mode=H;break}T=t.lens[t.have-1],d=3+(l&3),l>>>=2,c-=2}else if(A===17){for(k=g+3;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=g,c-=g,T=0,d=3+(l&7),l>>>=3,c-=3}else{for(k=g+7;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=g,c-=g,T=0,d=11+(l&127),l>>>=7,c-=7}if(t.have+d>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=H;break}for(;d--;)t.lens[t.have++]=T}}if(t.mode===H)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=H;break}if(t.lenbits=9,O={bits:t.lenbits},L=Pn(el,t.lens,0,t.nlen,t.lencode,0,t.work,O),t.lenbits=O.bits,L){e.msg="invalid literal/lengths set",t.mode=H;break}if(t.distbits=6,t.distcode=t.distdyn,O={bits:t.distbits},L=Pn(tl,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,O),t.distbits=O.bits,L){e.msg="invalid distances set",t.mode=H;break}if(t.mode=Nr,n===Pr)break e;case Nr:t.mode=Ur;case Ur:if(o>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,Bp(e,p),s=e.next_out,i=e.output,u=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,l=t.hold,c=t.bits,t.mode===je&&(t.back=-1);break}for(t.back=0;h=t.lencode[l&(1<<t.lenbits)-1],g=h>>>24,m=h>>>16&255,A=h&65535,!(g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(m&&!(m&240)){for(f=g,S=m,E=A;h=t.lencode[E+((l&(1<<f+S)-1)>>f)],g=h>>>24,m=h>>>16&255,A=h&65535,!(f+g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=f,c-=f,t.back+=f}if(l>>>=g,c-=g,t.back+=g,t.length=A,m===0){t.mode=Fo;break}if(m&32){t.back=-1,t.mode=je;break}if(m&64){e.msg="invalid literal/length code",t.mode=H;break}t.extra=m&15,t.mode=Uo;case Uo:if(t.extra){for(k=t.extra;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=zo;case zo:for(;h=t.distcode[l&(1<<t.distbits)-1],g=h>>>24,m=h>>>16&255,A=h&65535,!(g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(!(m&240)){for(f=g,S=m,E=A;h=t.distcode[E+((l&(1<<f+S)-1)>>f)],g=h>>>24,m=h>>>16&255,A=h&65535,!(f+g<=c);){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}l>>>=f,c-=f,t.back+=f}if(l>>>=g,c-=g,t.back+=g,m&64){e.msg="invalid distance code",t.mode=H;break}t.offset=A,t.extra=m&15,t.mode=Bo;case Bo:if(t.extra){for(k=t.extra;c<k;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=H;break}t.mode=jo;case jo:if(u===0)break e;if(d=p-u,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=H;break}d>t.wnext?(d-=t.wnext,v=t.wsize-d):v=t.wnext-d,d>t.length&&(d=t.length),y=t.window}else y=i,v=s-t.offset,d=t.length;d>u&&(d=u),u-=d,t.length-=d;do i[s++]=y[v++];while(--d);t.length===0&&(t.mode=Ur);break;case Fo:if(u===0)break e;i[s++]=t.length,u--,t.mode=Ur;break;case $i:if(t.wrap){for(;c<32;){if(o===0)break e;o--,l|=r[a++]<<c,c+=8}if(p-=u,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?W(t.check,i,p,s-p):Vn(t.check,i,p,s-p)),p=u,t.wrap&4&&(t.flags?l:Go(l))!==t.check){e.msg="incorrect data check",t.mode=H;break}l=0,c=0}t.mode=Ho;case Ho:if(t.wrap&&t.flags){for(;c<32;){if(o===0)break e;o--,l+=r[a++]<<c,c+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=H;break}l=0,c=0}t.mode=Zo;case Zo:L=Wp;break e;case H:L=nl;break e;case il:return rl;case al:default:return ge}return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=c,(t.wsize||p!==e.avail_out&&t.mode<H&&(t.mode<$i||n!==xo))&&cl(e,e.output,e.next_out,p-e.avail_out),w-=e.avail_in,p-=e.avail_out,e.total_in+=w,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?W(t.check,i,p,e.next_out-p):Vn(t.check,i,p,e.next_out-p)),e.data_type=t.bits+(t.last?64:0)+(t.mode===je?128:0)+(t.mode===Nr||t.mode===Mi?256:0),(w===0&&p===0||n===xo)&&L===Pt&&(L=Xp),L},ah=e=>{if(Bt(e))return ge;let n=e.state;return n.window&&(n.window=null),e.state=null,Pt},oh=(e,n)=>{if(Bt(e))return ge;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,Pt):ge},sh=(e,n)=>{const t=n.length;let r,i,a;return Bt(e)||(r=e.state,r.wrap!==0&&r.mode!==Yr)?ge:r.mode===Yr&&(i=1,i=Vn(i,n,t,0),i!==r.check)?nl:(a=cl(e,n,t,t),a?(r.mode=il,rl):(r.havedict=1,Pt))};var lh=sl,fh=ll,ch=ol,uh=nh,dh=fl,ph=ih,hh=ah,_h=oh,gh=sh,vh="pako inflate (from Nodeca project)",Ze={inflateReset:lh,inflateReset2:fh,inflateResetKeep:ch,inflateInit:uh,inflateInit2:dh,inflate:ph,inflateEnd:hh,inflateGetHeader:_h,inflateSetDictionary:gh,inflateInfo:vh};function bh(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mh=bh;const ul=Object.prototype.toString,{Z_NO_FLUSH:yh,Z_FINISH:wh,Z_OK:Xn,Z_STREAM_END:Ui,Z_NEED_DICT:zi,Z_STREAM_ERROR:xh,Z_DATA_ERROR:Vo,Z_MEM_ERROR:Eh}=gr;function br(e){this.options=gi.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Js,this.strm.avail_out=0;let t=Ze.inflateInit2(this.strm,n.windowBits);if(t!==Xn)throw new Error(ln[t]);if(this.header=new mh,Ze.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Yn.string2buf(n.dictionary):ul.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Ze.inflateSetDictionary(this.strm,n.dictionary),t!==Xn)))throw new Error(ln[t])}br.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?wh:yh,ul.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=Ze.inflate(t,s),a===zi&&i&&(a=Ze.inflateSetDictionary(t,i),a===Xn?a=Ze.inflate(t,s):a===Vo&&(a=zi));t.avail_in>0&&a===Ui&&t.state.wrap>0&&e[t.next_in]!==0;)Ze.inflateReset(t),a=Ze.inflate(t,s);switch(a){case xh:case Vo:case zi:case Eh:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===Ui))if(this.options.to==="string"){let u=Yn.utf8border(t.output,t.next_out),l=t.next_out-u,c=Yn.buf2string(t.output,u);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(u,u+l),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Xn&&o===0)){if(a===Ui)return a=Ze.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};br.prototype.onData=function(e){this.chunks.push(e)};br.prototype.onEnd=function(e){e===Xn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Ca(e,n){const t=new br(n);if(t.push(e),t.err)throw t.msg||ln[t.err];return t.result}function Ah(e,n){return n=n||{},n.raw=!0,Ca(e,n)}var Th=br,Oh=Ca,Sh=Ah,kh=Ca,Ch=gr,Dh={Inflate:Th,inflate:Oh,inflateRaw:Sh,ungzip:kh,constants:Ch};const{Inflate:h0,inflate:_0,inflateRaw:Lh,ungzip:g0}=Dh;var Rh=Lh,Wo=Uh,Ih=jh,Re=[],ce=[],Mh=typeof Uint8Array<"u"?Uint8Array:Array,Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wt=0,$h=Bi.length;Wt<$h;++Wt)Re[Wt]=Bi[Wt],ce[Bi.charCodeAt(Wt)]=Wt;ce[45]=62;ce[95]=63;function Ph(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var r=t===n?0:4-t%4;return[t,r]}function Nh(e,n,t){return(n+t)*3/4-t}function Uh(e){var n,t=Ph(e),r=t[0],i=t[1],a=new Mh(Nh(e,r,i)),s=0,o=i>0?r-4:r,u;for(u=0;u<o;u+=4)n=ce[e.charCodeAt(u)]<<18|ce[e.charCodeAt(u+1)]<<12|ce[e.charCodeAt(u+2)]<<6|ce[e.charCodeAt(u+3)],a[s++]=n>>16&255,a[s++]=n>>8&255,a[s++]=n&255;return i===2&&(n=ce[e.charCodeAt(u)]<<2|ce[e.charCodeAt(u+1)]>>4,a[s++]=n&255),i===1&&(n=ce[e.charCodeAt(u)]<<10|ce[e.charCodeAt(u+1)]<<4|ce[e.charCodeAt(u+2)]>>2,a[s++]=n>>8&255,a[s++]=n&255),a}function zh(e){return Re[e>>18&63]+Re[e>>12&63]+Re[e>>6&63]+Re[e&63]}function Bh(e,n,t){for(var r,i=[],a=n;a<t;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(zh(r));return i.join("")}function jh(e){for(var n,t=e.length,r=t%3,i=[],a=16383,s=0,o=t-r;s<o;s+=a)i.push(Bh(e,s,s+a>o?o:s+a));return r===1?(n=e[t-1],i.push(Re[n>>2]+Re[n<<4&63]+"==")):r===2&&(n=(e[t-2]<<8)+e[t-1],i.push(Re[n>>10]+Re[n>>4&63]+Re[n<<2&63]+"=")),i.join("")}var Te,Qn,ei,er,tr,xt,Qt,en,tn,nr,oa,rr,sa,ti,dl,ni,pl,ir,la,ri,hl,ii,_l;const U=class U{constructor(n,t){D(this,nr);D(this,rr);D(this,ti);D(this,ni);D(this,ir);D(this,ri);D(this,ii);D(this,en,void 0);D(this,tn,void 0);B(this,tn,t),B(this,en,n)}toUri(n){return new URL(b(U,tr)+I(this,nr,oa).call(this,n))}toUrlQueryParamValue(n){return`${I(this,nr,oa).call(this,n)}${n.name??""}`}fromUri(n){return I(this,rr,sa).call(this,n.slice(b(U,tr).length))}fromUrlQueryParamValue(n){const t=I(this,ti,dl).call(this,n,b(U,xt),b(U,Qt))+1,r=n.substring(0,t),i=n.substring(t),a=I(this,rr,sa).call(this,r);return i.length>0&&(a.name=i),a}fromLegacyUrlQueryParamValue(n){const t=b(this,tn).createEmptyDeck(),r=Wo(n),i=Rh(r);let a=0,s=null;for(let o=0;o<i.length;o+=b(U,Te)){const u=o+b(U,Te),l=i.slice(o,u);if(rd(l,b(U,ei))){if(a===On.length-1){s=u;break}a++}else t.parts[On[a]].push(I(this,ir,la).call(this,l))}return s!=null&&s<i.length&&(t.name=new TextDecoder().decode(i.subarray(s))),t}};Te=new WeakMap,Qn=new WeakMap,ei=new WeakMap,er=new WeakMap,tr=new WeakMap,xt=new WeakMap,Qt=new WeakMap,en=new WeakMap,tn=new WeakMap,nr=new WeakSet,oa=function(n){const t=[];for(const r of On){const i=[];for(const a of n.parts[r])i.push(...I(this,ni,pl).call(this,a));t.push(Ih(Uint8Array.from(i)))}return t.join(b(U,xt))+b(U,xt)},rr=new WeakSet,sa=function(n){const t=n.split(b(U,xt));if(t.pop(),t.length!==b(U,Qt))throw new Error(`Expected URI to have ${b(U,Qt)} delimiters but found ${t.length}.`);const r=b(this,tn).createEmptyDeck();for(let i=0;i<t.length;i++){const a=r.parts[On[i]],s=Wo(t[i]);for(let o=0;o<s.length;o+=b(U,Te)){const u=s.slice(o,o+b(U,Te));a.push(I(this,ir,la).call(this,u))}}return r},ti=new WeakSet,dl=function(n,t,r){let i=0;for(let a=0;a<n.length;a++)if(n[a]==t&&i++,i==r)return a;return-1},ni=new WeakSet,pl=function(n){return I(this,ri,hl).call(this,Number(n.passcode))},ir=new WeakSet,la=function(n){const t=String(I(this,ii,_l).call(this,n));if(!b(this,en).hasCard(t,ue.PASSCODE))throw new TypeError(`Could not find card for passcode '${t}'.`);return b(this,en).getCard(t,ue.PASSCODE)},ri=new WeakSet,hl=function(n){if(n<=0||n>=b(U,Qn))throw new TypeError(`Number '${n} is of range (has to be > 0 and < ${b(U,Qn)})'.`);const t=new ArrayBuffer(b(U,Te));return new DataView(t).setUint32(0,n,b(U,er)),new Uint8Array(t)},ii=new WeakSet,_l=function(n){return new DataView(n.buffer).getUint32(0,b(U,er))},D(U,Te,Uint32Array.BYTES_PER_ELEMENT),D(U,Qn,2**(b(U,Te)*8)),D(U,ei,new Uint8Array(b(U,Te)).fill(0)),D(U,er,!0),D(U,tr,"ydke://"),D(U,xt,"!"),D(U,Qt,On.length);let Yo=U;var re="top",ve="bottom",be="right",ie="left",Da="auto",mr=[re,ve,be,ie],un="start",qn="end",Fh="clippingParents",gl="viewport",Cn="popper",Hh="reference",Xo=mr.reduce(function(e,n){return e.concat([n+"-"+un,n+"-"+qn])},[]),vl=[].concat(mr,[Da]).reduce(function(e,n){return e.concat([n,n+"-"+un,n+"-"+qn])},[]),Zh="beforeRead",Gh="read",Kh="afterRead",Vh="beforeMain",Wh="main",Yh="afterMain",Xh="beforeWrite",qh="write",Jh="afterWrite",Qh=[Zh,Gh,Kh,Vh,Wh,Yh,Xh,qh,Jh];function Pe(e){return e?(e.nodeName||"").toLowerCase():null}function le(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Nt(e){var n=le(e).Element;return e instanceof n||e instanceof Element}function he(e){var n=le(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function La(e){if(typeof ShadowRoot>"u")return!1;var n=le(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function e_(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var r=n.styles[t]||{},i=n.attributes[t]||{},a=n.elements[t];!he(a)||!Pe(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function t_(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(r){var i=n.elements[r],a=n.attributes[r]||{},s=Object.keys(n.styles.hasOwnProperty(r)?n.styles[r]:t[r]),o=s.reduce(function(u,l){return u[l]="",u},{});!he(i)||!Pe(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}const bl={name:"applyStyles",enabled:!0,phase:"write",fn:e_,effect:t_,requires:["computeStyles"]};function $e(e){return e.split("-")[0]}var It=Math.max,Xr=Math.min,dn=Math.round;function fa(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function ml(){return!/^((?!chrome|android).)*safari/i.test(fa())}function pn(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var r=e.getBoundingClientRect(),i=1,a=1;n&&he(e)&&(i=e.offsetWidth>0&&dn(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&dn(r.height)/e.offsetHeight||1);var s=Nt(e)?le(e):window,o=s.visualViewport,u=!ml()&&t,l=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,w=r.width/i,p=r.height/a;return{width:w,height:p,top:c,right:l+w,bottom:c+p,left:l,x:l,y:c}}function Ra(e){var n=pn(e),t=e.offsetWidth,r=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:r}}function yl(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&La(t)){var r=n;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ge(e){return le(e).getComputedStyle(e)}function n_(e){return["table","td","th"].indexOf(Pe(e))>=0}function ct(e){return((Nt(e)?e.ownerDocument:e.document)||window.document).documentElement}function bi(e){return Pe(e)==="html"?e:e.assignedSlot||e.parentNode||(La(e)?e.host:null)||ct(e)}function qo(e){return!he(e)||Ge(e).position==="fixed"?null:e.offsetParent}function r_(e){var n=/firefox/i.test(fa()),t=/Trident/i.test(fa());if(t&&he(e)){var r=Ge(e);if(r.position==="fixed")return null}var i=bi(e);for(La(i)&&(i=i.host);he(i)&&["html","body"].indexOf(Pe(i))<0;){var a=Ge(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||n&&a.willChange==="filter"||n&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function yr(e){for(var n=le(e),t=qo(e);t&&n_(t)&&Ge(t).position==="static";)t=qo(t);return t&&(Pe(t)==="html"||Pe(t)==="body"&&Ge(t).position==="static")?n:t||r_(e)||n}function Ia(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nn(e,n,t){return It(e,Xr(n,t))}function i_(e,n,t){var r=Nn(e,n,t);return r>t?t:r}function wl(){return{top:0,right:0,bottom:0,left:0}}function xl(e){return Object.assign({},wl(),e)}function El(e,n){return n.reduce(function(t,r){return t[r]=e,t},{})}var a_=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,xl(typeof n!="number"?n:El(n,mr))};function o_(e){var n,t=e.state,r=e.name,i=e.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,o=$e(t.placement),u=Ia(o),l=[ie,be].indexOf(o)>=0,c=l?"height":"width";if(!(!a||!s)){var w=a_(i.padding,t),p=Ra(a),d=u==="y"?re:ie,v=u==="y"?ve:be,y=t.rects.reference[c]+t.rects.reference[u]-s[u]-t.rects.popper[c],h=s[u]-t.rects.reference[u],g=yr(a),m=g?u==="y"?g.clientHeight||0:g.clientWidth||0:0,A=y/2-h/2,f=w[d],S=m-p[c]-w[v],E=m/2-p[c]/2+A,T=Nn(f,E,S),L=u;t.modifiersData[r]=(n={},n[L]=T,n.centerOffset=T-E,n)}}function s_(e){var n=e.state,t=e.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=n.elements.popper.querySelector(i),!i)||yl(n.elements.popper,i)&&(n.elements.arrow=i))}const l_={name:"arrow",enabled:!0,phase:"main",fn:o_,effect:s_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hn(e){return e.split("-")[1]}var f_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c_(e,n){var t=e.x,r=e.y,i=n.devicePixelRatio||1;return{x:dn(t*i)/i||0,y:dn(r*i)/i||0}}function Jo(e){var n,t=e.popper,r=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,w=e.isFixed,p=s.x,d=p===void 0?0:p,v=s.y,y=v===void 0?0:v,h=typeof c=="function"?c({x:d,y}):{x:d,y};d=h.x,y=h.y;var g=s.hasOwnProperty("x"),m=s.hasOwnProperty("y"),A=ie,f=re,S=window;if(l){var E=yr(t),T="clientHeight",L="clientWidth";if(E===le(t)&&(E=ct(t),Ge(E).position!=="static"&&o==="absolute"&&(T="scrollHeight",L="scrollWidth")),E=E,i===re||(i===ie||i===be)&&a===qn){f=ve;var x=w&&E===S&&S.visualViewport?S.visualViewport.height:E[T];y-=x-r.height,y*=u?1:-1}if(i===ie||(i===re||i===ve)&&a===qn){A=be;var O=w&&E===S&&S.visualViewport?S.visualViewport.width:E[L];d-=O-r.width,d*=u?1:-1}}var k=Object.assign({position:o},l&&f_),P=c===!0?c_({x:d,y},le(t)):{x:d,y};if(d=P.x,y=P.y,u){var j;return Object.assign({},k,(j={},j[f]=m?"0":"",j[A]=g?"0":"",j.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+y+"px)":"translate3d("+d+"px, "+y+"px, 0)",j))}return Object.assign({},k,(n={},n[f]=m?y+"px":"",n[A]=g?d+"px":"",n.transform="",n))}function u_(e){var n=e.state,t=e.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,s=a===void 0?!0:a,o=t.roundOffsets,u=o===void 0?!0:o,l={placement:$e(n.placement),variation:hn(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Jo(Object.assign({},l,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:s,roundOffsets:u})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Jo(Object.assign({},l,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const d_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u_,data:{}};var zr={passive:!0};function p_(e){var n=e.state,t=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,u=le(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",t.update,zr)}),o&&u.addEventListener("resize",t.update,zr),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",t.update,zr)}),o&&u.removeEventListener("resize",t.update,zr)}}const h_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:p_,data:{}};var __={left:"right",right:"left",bottom:"top",top:"bottom"};function Zr(e){return e.replace(/left|right|bottom|top/g,function(n){return __[n]})}var g_={start:"end",end:"start"};function Qo(e){return e.replace(/start|end/g,function(n){return g_[n]})}function Ma(e){var n=le(e),t=n.pageXOffset,r=n.pageYOffset;return{scrollLeft:t,scrollTop:r}}function $a(e){return pn(ct(e)).left+Ma(e).scrollLeft}function v_(e,n){var t=le(e),r=ct(e),i=t.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,u=0;if(i){a=i.width,s=i.height;var l=ml();(l||!l&&n==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:o+$a(e),y:u}}function b_(e){var n,t=ct(e),r=Ma(e),i=(n=e.ownerDocument)==null?void 0:n.body,a=It(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=It(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+$a(e),u=-r.scrollTop;return Ge(i||t).direction==="rtl"&&(o+=It(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:u}}function Pa(e){var n=Ge(e),t=n.overflow,r=n.overflowX,i=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Al(e){return["html","body","#document"].indexOf(Pe(e))>=0?e.ownerDocument.body:he(e)&&Pa(e)?e:Al(bi(e))}function Un(e,n){var t;n===void 0&&(n=[]);var r=Al(e),i=r===((t=e.ownerDocument)==null?void 0:t.body),a=le(r),s=i?[a].concat(a.visualViewport||[],Pa(r)?r:[]):r,o=n.concat(s);return i?o:o.concat(Un(bi(s)))}function ca(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function m_(e,n){var t=pn(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function es(e,n,t){return n===gl?ca(v_(e,t)):Nt(n)?m_(n,t):ca(b_(ct(e)))}function y_(e){var n=Un(bi(e)),t=["absolute","fixed"].indexOf(Ge(e).position)>=0,r=t&&he(e)?yr(e):e;return Nt(r)?n.filter(function(i){return Nt(i)&&yl(i,r)&&Pe(i)!=="body"}):[]}function w_(e,n,t,r){var i=n==="clippingParents"?y_(e):[].concat(n),a=[].concat(i,[t]),s=a[0],o=a.reduce(function(u,l){var c=es(e,l,r);return u.top=It(c.top,u.top),u.right=Xr(c.right,u.right),u.bottom=Xr(c.bottom,u.bottom),u.left=It(c.left,u.left),u},es(e,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Tl(e){var n=e.reference,t=e.element,r=e.placement,i=r?$e(r):null,a=r?hn(r):null,s=n.x+n.width/2-t.width/2,o=n.y+n.height/2-t.height/2,u;switch(i){case re:u={x:s,y:n.y-t.height};break;case ve:u={x:s,y:n.y+n.height};break;case be:u={x:n.x+n.width,y:o};break;case ie:u={x:n.x-t.width,y:o};break;default:u={x:n.x,y:n.y}}var l=i?Ia(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case un:u[l]=u[l]-(n[c]/2-t[c]/2);break;case qn:u[l]=u[l]+(n[c]/2-t[c]/2);break}}return u}function Jn(e,n){n===void 0&&(n={});var t=n,r=t.placement,i=r===void 0?e.placement:r,a=t.strategy,s=a===void 0?e.strategy:a,o=t.boundary,u=o===void 0?Fh:o,l=t.rootBoundary,c=l===void 0?gl:l,w=t.elementContext,p=w===void 0?Cn:w,d=t.altBoundary,v=d===void 0?!1:d,y=t.padding,h=y===void 0?0:y,g=xl(typeof h!="number"?h:El(h,mr)),m=p===Cn?Hh:Cn,A=e.rects.popper,f=e.elements[v?m:p],S=w_(Nt(f)?f:f.contextElement||ct(e.elements.popper),u,c,s),E=pn(e.elements.reference),T=Tl({reference:E,element:A,strategy:"absolute",placement:i}),L=ca(Object.assign({},A,T)),x=p===Cn?L:E,O={top:S.top-x.top+g.top,bottom:x.bottom-S.bottom+g.bottom,left:S.left-x.left+g.left,right:x.right-S.right+g.right},k=e.modifiersData.offset;if(p===Cn&&k){var P=k[i];Object.keys(O).forEach(function(j){var K=[be,ve].indexOf(j)>=0?1:-1,V=[re,ve].indexOf(j)>=0?"y":"x";O[j]+=P[V]*K})}return O}function x_(e,n){n===void 0&&(n={});var t=n,r=t.placement,i=t.boundary,a=t.rootBoundary,s=t.padding,o=t.flipVariations,u=t.allowedAutoPlacements,l=u===void 0?vl:u,c=hn(r),w=c?o?Xo:Xo.filter(function(v){return hn(v)===c}):mr,p=w.filter(function(v){return l.indexOf(v)>=0});p.length===0&&(p=w);var d=p.reduce(function(v,y){return v[y]=Jn(e,{placement:y,boundary:i,rootBoundary:a,padding:s})[$e(y)],v},{});return Object.keys(d).sort(function(v,y){return d[v]-d[y]})}function E_(e){if($e(e)===Da)return[];var n=Zr(e);return[Qo(e),n,Qo(n)]}function A_(e){var n=e.state,t=e.options,r=e.name;if(!n.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!0:s,u=t.fallbackPlacements,l=t.padding,c=t.boundary,w=t.rootBoundary,p=t.altBoundary,d=t.flipVariations,v=d===void 0?!0:d,y=t.allowedAutoPlacements,h=n.options.placement,g=$e(h),m=g===h,A=u||(m||!v?[Zr(h)]:E_(h)),f=[h].concat(A).reduce(function(Ne,me){return Ne.concat($e(me)===Da?x_(n,{placement:me,boundary:c,rootBoundary:w,padding:l,flipVariations:v,allowedAutoPlacements:y}):me)},[]),S=n.rects.reference,E=n.rects.popper,T=new Map,L=!0,x=f[0],O=0;O<f.length;O++){var k=f[O],P=$e(k),j=hn(k)===un,K=[re,ve].indexOf(P)>=0,V=K?"width":"height",q=Jn(n,{placement:k,boundary:c,rootBoundary:w,altBoundary:p,padding:l}),J=K?j?be:ie:j?ve:re;S[V]>E[V]&&(J=Zr(J));var Y=Zr(J),ye=[];if(a&&ye.push(q[P]<=0),o&&ye.push(q[J]<=0,q[Y]<=0),ye.every(function(Ne){return Ne})){x=k,L=!1;break}T.set(k,ye)}if(L)for(var we=v?3:1,ut=function(me){var Ue=f.find(function(jt){var ze=T.get(jt);if(ze)return ze.slice(0,me).every(function(Ft){return Ft})});if(Ue)return x=Ue,"break"},xe=we;xe>0;xe--){var dt=ut(xe);if(dt==="break")break}n.placement!==x&&(n.modifiersData[r]._skip=!0,n.placement=x,n.reset=!0)}}const T_={name:"flip",enabled:!0,phase:"main",fn:A_,requiresIfExists:["offset"],data:{_skip:!1}};function ts(e,n,t){return t===void 0&&(t={x:0,y:0}),{top:e.top-n.height-t.y,right:e.right-n.width+t.x,bottom:e.bottom-n.height+t.y,left:e.left-n.width-t.x}}function ns(e){return[re,be,ve,ie].some(function(n){return e[n]>=0})}function O_(e){var n=e.state,t=e.name,r=n.rects.reference,i=n.rects.popper,a=n.modifiersData.preventOverflow,s=Jn(n,{elementContext:"reference"}),o=Jn(n,{altBoundary:!0}),u=ts(s,r),l=ts(o,i,a),c=ns(u),w=ns(l);n.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:w},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":w})}const S_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:O_};function k_(e,n,t){var r=$e(e),i=[ie,re].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[ie,be].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function C_(e){var n=e.state,t=e.options,r=e.name,i=t.offset,a=i===void 0?[0,0]:i,s=vl.reduce(function(c,w){return c[w]=k_(w,n.rects,a),c},{}),o=s[n.placement],u=o.x,l=o.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=u,n.modifiersData.popperOffsets.y+=l),n.modifiersData[r]=s}const D_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:C_};function L_(e){var n=e.state,t=e.name;n.modifiersData[t]=Tl({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const R_={name:"popperOffsets",enabled:!0,phase:"read",fn:L_,data:{}};function I_(e){return e==="x"?"y":"x"}function M_(e){var n=e.state,t=e.options,r=e.name,i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!1:s,u=t.boundary,l=t.rootBoundary,c=t.altBoundary,w=t.padding,p=t.tether,d=p===void 0?!0:p,v=t.tetherOffset,y=v===void 0?0:v,h=Jn(n,{boundary:u,rootBoundary:l,padding:w,altBoundary:c}),g=$e(n.placement),m=hn(n.placement),A=!m,f=Ia(g),S=I_(f),E=n.modifiersData.popperOffsets,T=n.rects.reference,L=n.rects.popper,x=typeof y=="function"?y(Object.assign({},n.rects,{placement:n.placement})):y,O=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),k=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,P={x:0,y:0};if(E){if(a){var j,K=f==="y"?re:ie,V=f==="y"?ve:be,q=f==="y"?"height":"width",J=E[f],Y=J+h[K],ye=J-h[V],we=d?-L[q]/2:0,ut=m===un?T[q]:L[q],xe=m===un?-L[q]:-T[q],dt=n.elements.arrow,Ne=d&&dt?Ra(dt):{width:0,height:0},me=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:wl(),Ue=me[K],jt=me[V],ze=Nn(0,T[q],Ne[q]),Ft=A?T[q]/2-we-ze-Ue-O.mainAxis:ut-ze-Ue-O.mainAxis,We=A?-T[q]/2+we+ze+jt+O.mainAxis:xe+ze+jt+O.mainAxis,Ht=n.elements.arrow&&yr(n.elements.arrow),wr=Ht?f==="y"?Ht.clientTop||0:Ht.clientLeft||0:0,wn=(j=k==null?void 0:k[f])!=null?j:0,xr=J+Ft-wn-wr,Er=J+We-wn,xn=Nn(d?Xr(Y,xr):Y,J,d?It(ye,Er):ye);E[f]=xn,P[f]=xn-J}if(o){var En,Ar=f==="x"?re:ie,Tr=f==="x"?ve:be,Be=E[S],Ye=S==="y"?"height":"width",An=Be+h[Ar],pt=Be-h[Tr],Tn=[re,ie].indexOf(g)!==-1,Or=(En=k==null?void 0:k[S])!=null?En:0,Sr=Tn?An:Be-T[Ye]-L[Ye]-Or+O.altAxis,kr=Tn?Be+T[Ye]+L[Ye]-Or-O.altAxis:pt,Cr=d&&Tn?i_(Sr,Be,kr):Nn(d?Sr:An,Be,d?kr:pt);E[S]=Cr,P[S]=Cr-Be}n.modifiersData[r]=P}}const $_={name:"preventOverflow",enabled:!0,phase:"main",fn:M_,requiresIfExists:["offset"]};function P_(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function N_(e){return e===le(e)||!he(e)?Ma(e):P_(e)}function U_(e){var n=e.getBoundingClientRect(),t=dn(n.width)/e.offsetWidth||1,r=dn(n.height)/e.offsetHeight||1;return t!==1||r!==1}function z_(e,n,t){t===void 0&&(t=!1);var r=he(n),i=he(n)&&U_(n),a=ct(n),s=pn(e,i,t),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!t)&&((Pe(n)!=="body"||Pa(a))&&(o=N_(n)),he(n)?(u=pn(n,!0),u.x+=n.clientLeft,u.y+=n.clientTop):a&&(u.x=$a(a))),{x:s.left+o.scrollLeft-u.x,y:s.top+o.scrollTop-u.y,width:s.width,height:s.height}}function B_(e){var n=new Map,t=new Set,r=[];e.forEach(function(a){n.set(a.name,a)});function i(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!t.has(o)){var u=n.get(o);u&&i(u)}}),r.push(a)}return e.forEach(function(a){t.has(a.name)||i(a)}),r}function j_(e){var n=B_(e);return Qh.reduce(function(t,r){return t.concat(n.filter(function(i){return i.phase===r}))},[])}function F_(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function H_(e){var n=e.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(n).map(function(t){return n[t]})}var rs={placement:"bottom",modifiers:[],strategy:"absolute"};function is(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Z_(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,r=t===void 0?[]:t,i=n.defaultOptions,a=i===void 0?rs:i;return function(o,u,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},rs,a),modifiersData:{},elements:{reference:o,popper:u},attributes:{},styles:{}},w=[],p=!1,d={state:c,setOptions:function(g){var m=typeof g=="function"?g(c.options):g;y(),c.options=Object.assign({},a,c.options,m),c.scrollParents={reference:Nt(o)?Un(o):o.contextElement?Un(o.contextElement):[],popper:Un(u)};var A=j_(H_([].concat(r,c.options.modifiers)));return c.orderedModifiers=A.filter(function(f){return f.enabled}),v(),d.update()},forceUpdate:function(){if(!p){var g=c.elements,m=g.reference,A=g.popper;if(is(m,A)){c.rects={reference:z_(m,yr(A),c.options.strategy==="fixed"),popper:Ra(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(O){return c.modifiersData[O.name]=Object.assign({},O.data)});for(var f=0;f<c.orderedModifiers.length;f++){if(c.reset===!0){c.reset=!1,f=-1;continue}var S=c.orderedModifiers[f],E=S.fn,T=S.options,L=T===void 0?{}:T,x=S.name;typeof E=="function"&&(c=E({state:c,options:L,name:x,instance:d})||c)}}}},update:F_(function(){return new Promise(function(h){d.forceUpdate(),h(c)})}),destroy:function(){y(),p=!0}};if(!is(o,u))return d;d.setOptions(l).then(function(h){!p&&l.onFirstUpdate&&l.onFirstUpdate(h)});function v(){c.orderedModifiers.forEach(function(h){var g=h.name,m=h.options,A=m===void 0?{}:m,f=h.effect;if(typeof f=="function"){var S=f({state:c,name:g,instance:d,options:A}),E=function(){};w.push(S||E)}})}function y(){w.forEach(function(h){return h()}),w=[]}return d}}var G_=[h_,R_,d_,bl,D_,T_,$_,l_,S_],K_=Z_({defaultModifiers:G_}),V_="tippy-box",Ol="tippy-content",W_="tippy-backdrop",Sl="tippy-arrow",kl="tippy-svg-arrow",Xe={passive:!0,capture:!0},Cl=function(){return document.body};function ji(e,n,t){if(Array.isArray(e)){var r=e[n];return r??(Array.isArray(t)?t[n]:t)}return e}function Na(e,n){var t={}.toString.call(e);return t.indexOf("[object")===0&&t.indexOf(n+"]")>-1}function Dl(e,n){return typeof e=="function"?e.apply(void 0,n):e}function as(e,n){if(n===0)return e;var t;return function(r){clearTimeout(t),t=setTimeout(function(){e(r)},n)}}function Y_(e,n){var t=Object.assign({},e);return n.forEach(function(r){delete t[r]}),t}function X_(e){return e.split(/\s+/).filter(Boolean)}function gt(e){return[].concat(e)}function os(e,n){e.indexOf(n)===-1&&e.push(n)}function q_(e){return e.filter(function(n,t){return e.indexOf(n)===t})}function J_(e){return e.split("-")[0]}function qr(e){return[].slice.call(e)}function ss(e){return Object.keys(e).reduce(function(n,t){return e[t]!==void 0&&(n[t]=e[t]),n},{})}function zn(){return document.createElement("div")}function mi(e){return["Element","Fragment"].some(function(n){return Na(e,n)})}function Q_(e){return Na(e,"NodeList")}function eg(e){return Na(e,"MouseEvent")}function tg(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function ng(e){return mi(e)?[e]:Q_(e)?qr(e):Array.isArray(e)?e:qr(document.querySelectorAll(e))}function Fi(e,n){e.forEach(function(t){t&&(t.style.transitionDuration=n+"ms")})}function ls(e,n){e.forEach(function(t){t&&t.setAttribute("data-state",n)})}function rg(e){var n,t=gt(e),r=t[0];return r!=null&&(n=r.ownerDocument)!=null&&n.body?r.ownerDocument:document}function ig(e,n){var t=n.clientX,r=n.clientY;return e.every(function(i){var a=i.popperRect,s=i.popperState,o=i.props,u=o.interactiveBorder,l=J_(s.placement),c=s.modifiersData.offset;if(!c)return!0;var w=l==="bottom"?c.top.y:0,p=l==="top"?c.bottom.y:0,d=l==="right"?c.left.x:0,v=l==="left"?c.right.x:0,y=a.top-r+w>u,h=r-a.bottom-p>u,g=a.left-t+d>u,m=t-a.right-v>u;return y||h||g||m})}function Hi(e,n,t){var r=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,t)})}function fs(e,n){for(var t=n;t;){var r;if(e.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var De={isTouch:!1},cs=0;function ag(){De.isTouch||(De.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ll))}function Ll(){var e=performance.now();e-cs<20&&(De.isTouch=!1,document.removeEventListener("mousemove",Ll)),cs=e}function og(){var e=document.activeElement;if(tg(e)){var n=e._tippy;e.blur&&!n.state.isVisible&&e.blur()}}function sg(){document.addEventListener("touchstart",ag,Xe),window.addEventListener("blur",og)}var lg=typeof window<"u"&&typeof document<"u",fg=lg?!!window.msCrypto:!1,cg={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ug={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},se=Object.assign({appendTo:Cl,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},cg,ug),dg=Object.keys(se),pg=function(n){var t=Object.keys(n);t.forEach(function(r){se[r]=n[r]})};function Rl(e){var n=e.plugins||[],t=n.reduce(function(r,i){var a=i.name,s=i.defaultValue;if(a){var o;r[a]=e[a]!==void 0?e[a]:(o=se[a])!=null?o:s}return r},{});return Object.assign({},e,t)}function hg(e,n){var t=n?Object.keys(Rl(Object.assign({},se,{plugins:n}))):dg,r=t.reduce(function(i,a){var s=(e.getAttribute("data-tippy-"+a)||"").trim();if(!s)return i;if(a==="content")i[a]=s;else try{i[a]=JSON.parse(s)}catch{i[a]=s}return i},{});return r}function us(e,n){var t=Object.assign({},n,{content:Dl(n.content,[e])},n.ignoreAttributes?{}:hg(e,n.plugins));return t.aria=Object.assign({},se.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?n.interactive:t.aria.expanded,content:t.aria.content==="auto"?n.interactive?null:"describedby":t.aria.content},t}var _g=function(){return"innerHTML"};function ua(e,n){e[_g()]=n}function ds(e){var n=zn();return e===!0?n.className=Sl:(n.className=kl,mi(e)?n.appendChild(e):ua(n,e)),n}function ps(e,n){mi(n.content)?(ua(e,""),e.appendChild(n.content)):typeof n.content!="function"&&(n.allowHTML?ua(e,n.content):e.textContent=n.content)}function da(e){var n=e.firstElementChild,t=qr(n.children);return{box:n,content:t.find(function(r){return r.classList.contains(Ol)}),arrow:t.find(function(r){return r.classList.contains(Sl)||r.classList.contains(kl)}),backdrop:t.find(function(r){return r.classList.contains(W_)})}}function Il(e){var n=zn(),t=zn();t.className=V_,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=zn();r.className=Ol,r.setAttribute("data-state","hidden"),ps(r,e.props),n.appendChild(t),t.appendChild(r),i(e.props,e.props);function i(a,s){var o=da(n),u=o.box,l=o.content,c=o.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(a.content!==s.content||a.allowHTML!==s.allowHTML)&&ps(l,e.props),s.arrow?c?a.arrow!==s.arrow&&(u.removeChild(c),u.appendChild(ds(s.arrow))):u.appendChild(ds(s.arrow)):c&&u.removeChild(c)}return{popper:n,onUpdate:i}}Il.$$tippy=!0;var gg=1,Br=[],Zi=[];function vg(e,n){var t=us(e,Object.assign({},se,Rl(ss(n)))),r,i,a,s=!1,o=!1,u=!1,l=!1,c,w,p,d=[],v=as(xr,t.interactiveDebounce),y,h=gg++,g=null,m=q_(t.plugins),A={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},f={id:h,reference:e,popper:zn(),popperInstance:g,props:t,state:A,plugins:m,clearDelayTimeouts:Sr,setProps:kr,setContent:Cr,show:Bl,hide:jl,hideWithInteractivity:Fl,enable:Tn,disable:Or,unmount:Hl,destroy:Zl};if(!t.render)return f;var S=t.render(f),E=S.popper,T=S.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+f.id,f.popper=E,e._tippy=f,E._tippy=f;var L=m.map(function(_){return _.fn(f)}),x=e.hasAttribute("aria-expanded");return Ht(),we(),J(),Y("onCreate",[f]),t.showOnCreate&&An(),E.addEventListener("mouseenter",function(){f.props.interactive&&f.state.isVisible&&f.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){f.props.interactive&&f.props.trigger.indexOf("mouseenter")>=0&&K().addEventListener("mousemove",v)}),f;function O(){var _=f.props.touch;return Array.isArray(_)?_:[_,0]}function k(){return O()[0]==="hold"}function P(){var _;return!!((_=f.props.render)!=null&&_.$$tippy)}function j(){return y||e}function K(){var _=j().parentNode;return _?rg(_):document}function V(){return da(E)}function q(_){return f.state.isMounted&&!f.state.isVisible||De.isTouch||c&&c.type==="focus"?0:ji(f.props.delay,_?0:1,se.delay)}function J(_){_===void 0&&(_=!1),E.style.pointerEvents=f.props.interactive&&!_?"":"none",E.style.zIndex=""+f.props.zIndex}function Y(_,C,R){if(R===void 0&&(R=!0),L.forEach(function($){$[_]&&$[_].apply($,C)}),R){var z;(z=f.props)[_].apply(z,C)}}function ye(){var _=f.props.aria;if(_.content){var C="aria-"+_.content,R=E.id,z=gt(f.props.triggerTarget||e);z.forEach(function($){var Q=$.getAttribute(C);if(f.state.isVisible)$.setAttribute(C,Q?Q+" "+R:R);else{var fe=Q&&Q.replace(R,"").trim();fe?$.setAttribute(C,fe):$.removeAttribute(C)}})}}function we(){if(!(x||!f.props.aria.expanded)){var _=gt(f.props.triggerTarget||e);_.forEach(function(C){f.props.interactive?C.setAttribute("aria-expanded",f.state.isVisible&&C===j()?"true":"false"):C.removeAttribute("aria-expanded")})}}function ut(){K().removeEventListener("mousemove",v),Br=Br.filter(function(_){return _!==v})}function xe(_){if(!(De.isTouch&&(u||_.type==="mousedown"))){var C=_.composedPath&&_.composedPath()[0]||_.target;if(!(f.props.interactive&&fs(E,C))){if(gt(f.props.triggerTarget||e).some(function(R){return fs(R,C)})){if(De.isTouch||f.state.isVisible&&f.props.trigger.indexOf("click")>=0)return}else Y("onClickOutside",[f,_]);f.props.hideOnClick===!0&&(f.clearDelayTimeouts(),f.hide(),o=!0,setTimeout(function(){o=!1}),f.state.isMounted||Ue())}}}function dt(){u=!0}function Ne(){u=!1}function me(){var _=K();_.addEventListener("mousedown",xe,!0),_.addEventListener("touchend",xe,Xe),_.addEventListener("touchstart",Ne,Xe),_.addEventListener("touchmove",dt,Xe)}function Ue(){var _=K();_.removeEventListener("mousedown",xe,!0),_.removeEventListener("touchend",xe,Xe),_.removeEventListener("touchstart",Ne,Xe),_.removeEventListener("touchmove",dt,Xe)}function jt(_,C){Ft(_,function(){!f.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&C()})}function ze(_,C){Ft(_,C)}function Ft(_,C){var R=V().box;function z($){$.target===R&&(Hi(R,"remove",z),C())}if(_===0)return C();Hi(R,"remove",w),Hi(R,"add",z),w=z}function We(_,C,R){R===void 0&&(R=!1);var z=gt(f.props.triggerTarget||e);z.forEach(function($){$.addEventListener(_,C,R),d.push({node:$,eventType:_,handler:C,options:R})})}function Ht(){k()&&(We("touchstart",wn,{passive:!0}),We("touchend",Er,{passive:!0})),X_(f.props.trigger).forEach(function(_){if(_!=="manual")switch(We(_,wn),_){case"mouseenter":We("mouseleave",Er);break;case"focus":We(fg?"focusout":"blur",xn);break;case"focusin":We("focusout",xn);break}})}function wr(){d.forEach(function(_){var C=_.node,R=_.eventType,z=_.handler,$=_.options;C.removeEventListener(R,z,$)}),d=[]}function wn(_){var C,R=!1;if(!(!f.state.isEnabled||En(_)||o)){var z=((C=c)==null?void 0:C.type)==="focus";c=_,y=_.currentTarget,we(),!f.state.isVisible&&eg(_)&&Br.forEach(function($){return $(_)}),_.type==="click"&&(f.props.trigger.indexOf("mouseenter")<0||s)&&f.props.hideOnClick!==!1&&f.state.isVisible?R=!0:An(_),_.type==="click"&&(s=!R),R&&!z&&pt(_)}}function xr(_){var C=_.target,R=j().contains(C)||E.contains(C);if(!(_.type==="mousemove"&&R)){var z=Ye().concat(E).map(function($){var Q,fe=$._tippy,Zt=(Q=fe.popperInstance)==null?void 0:Q.state;return Zt?{popperRect:$.getBoundingClientRect(),popperState:Zt,props:t}:null}).filter(Boolean);ig(z,_)&&(ut(),pt(_))}}function Er(_){var C=En(_)||f.props.trigger.indexOf("click")>=0&&s;if(!C){if(f.props.interactive){f.hideWithInteractivity(_);return}pt(_)}}function xn(_){f.props.trigger.indexOf("focusin")<0&&_.target!==j()||f.props.interactive&&_.relatedTarget&&E.contains(_.relatedTarget)||pt(_)}function En(_){return De.isTouch?k()!==_.type.indexOf("touch")>=0:!1}function Ar(){Tr();var _=f.props,C=_.popperOptions,R=_.placement,z=_.offset,$=_.getReferenceClientRect,Q=_.moveTransition,fe=P()?da(E).arrow:null,Zt=$?{getBoundingClientRect:$,contextElement:$.contextElement||j()}:e,Ua={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Dr){var Gt=Dr.state;if(P()){var Gl=V(),wi=Gl.box;["placement","reference-hidden","escaped"].forEach(function(Lr){Lr==="placement"?wi.setAttribute("data-placement",Gt.placement):Gt.attributes.popper["data-popper-"+Lr]?wi.setAttribute("data-"+Lr,""):wi.removeAttribute("data-"+Lr)}),Gt.attributes.popper={}}}},ht=[{name:"offset",options:{offset:z}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Q}},Ua];P()&&fe&&ht.push({name:"arrow",options:{element:fe,padding:3}}),ht.push.apply(ht,(C==null?void 0:C.modifiers)||[]),f.popperInstance=K_(Zt,E,Object.assign({},C,{placement:R,onFirstUpdate:p,modifiers:ht}))}function Tr(){f.popperInstance&&(f.popperInstance.destroy(),f.popperInstance=null)}function Be(){var _=f.props.appendTo,C,R=j();f.props.interactive&&_===Cl||_==="parent"?C=R.parentNode:C=Dl(_,[R]),C.contains(E)||C.appendChild(E),f.state.isMounted=!0,Ar()}function Ye(){return qr(E.querySelectorAll("[data-tippy-root]"))}function An(_){f.clearDelayTimeouts(),_&&Y("onTrigger",[f,_]),me();var C=q(!0),R=O(),z=R[0],$=R[1];De.isTouch&&z==="hold"&&$&&(C=$),C?r=setTimeout(function(){f.show()},C):f.show()}function pt(_){if(f.clearDelayTimeouts(),Y("onUntrigger",[f,_]),!f.state.isVisible){Ue();return}if(!(f.props.trigger.indexOf("mouseenter")>=0&&f.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_.type)>=0&&s)){var C=q(!1);C?i=setTimeout(function(){f.state.isVisible&&f.hide()},C):a=requestAnimationFrame(function(){f.hide()})}}function Tn(){f.state.isEnabled=!0}function Or(){f.hide(),f.state.isEnabled=!1}function Sr(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(a)}function kr(_){if(!f.state.isDestroyed){Y("onBeforeUpdate",[f,_]),wr();var C=f.props,R=us(e,Object.assign({},C,ss(_),{ignoreAttributes:!0}));f.props=R,Ht(),C.interactiveDebounce!==R.interactiveDebounce&&(ut(),v=as(xr,R.interactiveDebounce)),C.triggerTarget&&!R.triggerTarget?gt(C.triggerTarget).forEach(function(z){z.removeAttribute("aria-expanded")}):R.triggerTarget&&e.removeAttribute("aria-expanded"),we(),J(),T&&T(C,R),f.popperInstance&&(Ar(),Ye().forEach(function(z){requestAnimationFrame(z._tippy.popperInstance.forceUpdate)})),Y("onAfterUpdate",[f,_])}}function Cr(_){f.setProps({content:_})}function Bl(){var _=f.state.isVisible,C=f.state.isDestroyed,R=!f.state.isEnabled,z=De.isTouch&&!f.props.touch,$=ji(f.props.duration,0,se.duration);if(!(_||C||R||z)&&!j().hasAttribute("disabled")&&(Y("onShow",[f],!1),f.props.onShow(f)!==!1)){if(f.state.isVisible=!0,P()&&(E.style.visibility="visible"),J(),me(),f.state.isMounted||(E.style.transition="none"),P()){var Q=V(),fe=Q.box,Zt=Q.content;Fi([fe,Zt],0)}p=function(){var ht;if(!(!f.state.isVisible||l)){if(l=!0,E.offsetHeight,E.style.transition=f.props.moveTransition,P()&&f.props.animation){var yi=V(),Dr=yi.box,Gt=yi.content;Fi([Dr,Gt],$),ls([Dr,Gt],"visible")}ye(),we(),os(Zi,f),(ht=f.popperInstance)==null||ht.forceUpdate(),Y("onMount",[f]),f.props.animation&&P()&&ze($,function(){f.state.isShown=!0,Y("onShown",[f])})}},Be()}}function jl(){var _=!f.state.isVisible,C=f.state.isDestroyed,R=!f.state.isEnabled,z=ji(f.props.duration,1,se.duration);if(!(_||C||R)&&(Y("onHide",[f],!1),f.props.onHide(f)!==!1)){if(f.state.isVisible=!1,f.state.isShown=!1,l=!1,s=!1,P()&&(E.style.visibility="hidden"),ut(),Ue(),J(!0),P()){var $=V(),Q=$.box,fe=$.content;f.props.animation&&(Fi([Q,fe],z),ls([Q,fe],"hidden"))}ye(),we(),f.props.animation?P()&&jt(z,f.unmount):f.unmount()}}function Fl(_){K().addEventListener("mousemove",v),os(Br,v),v(_)}function Hl(){f.state.isVisible&&f.hide(),f.state.isMounted&&(Tr(),Ye().forEach(function(_){_._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),Zi=Zi.filter(function(_){return _!==f}),f.state.isMounted=!1,Y("onHidden",[f]))}function Zl(){f.state.isDestroyed||(f.clearDelayTimeouts(),f.unmount(),wr(),delete e._tippy,f.state.isDestroyed=!0,Y("onDestroy",[f]))}}function _n(e,n){n===void 0&&(n={});var t=se.plugins.concat(n.plugins||[]);sg();var r=Object.assign({},n,{plugins:t}),i=ng(e),a=i.reduce(function(s,o){var u=o&&vg(o,r);return u&&s.push(u),s},[]);return mi(e)?a[0]:a}_n.defaultProps=se;_n.setDefaultProps=pg;_n.currentInput=De;Object.assign({},bl,{effect:function(n){var t=n.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});var bg={mouseover:"mouseenter",focusin:"focus",click:"click"};function mg(e,n){var t=[],r=[],i=!1,a=n.target,s=Y_(n,["target"]),o=Object.assign({},s,{trigger:"manual",touch:!1}),u=Object.assign({touch:se.touch},s,{showOnCreate:!0}),l=_n(e,o),c=gt(l);function w(h){if(!(!h.target||i)){var g=h.target.closest(a);if(g){var m=g.getAttribute("data-tippy-trigger")||n.trigger||se.trigger;if(!g._tippy&&!(h.type==="touchstart"&&typeof u.touch=="boolean")&&!(h.type!=="touchstart"&&m.indexOf(bg[h.type])<0)){var A=_n(g,u);A&&(r=r.concat(A))}}}}function p(h,g,m,A){A===void 0&&(A=!1),h.addEventListener(g,m,A),t.push({node:h,eventType:g,handler:m,options:A})}function d(h){var g=h.reference;p(g,"touchstart",w,Xe),p(g,"mouseover",w),p(g,"focusin",w),p(g,"click",w)}function v(){t.forEach(function(h){var g=h.node,m=h.eventType,A=h.handler,f=h.options;g.removeEventListener(m,A,f)}),t=[]}function y(h){var g=h.destroy,m=h.enable,A=h.disable;h.destroy=function(f){f===void 0&&(f=!0),f&&r.forEach(function(S){S.destroy()}),r=[],v(),g()},h.enable=function(){m(),r.forEach(function(f){return f.enable()}),i=!1},h.disable=function(){A(),r.forEach(function(f){return f.disable()}),i=!0},d(h)}return c.forEach(y),l}_n.setDefaultProps({render:Il});var Oe;class yg{constructor(n){D(this,Oe,void 0);B(this,Oe,n)}async loadCard(n){let t=await b(this,Oe).prepareCard(n,ue.NAME);if(t!=null&&b(this,Oe).hasCard(t,ue.NAME))return b(this,Oe).getCard(t,ue.NAME);if(t=await b(this,Oe).prepareCard(n,ue.PASSCODE),t!=null&&b(this,Oe).hasCard(t,ue.PASSCODE))return b(this,Oe).getCard(t,ue.PASSCODE);throw new Error(`Could not find card '${n}'.`)}}Oe=new WeakMap;const wg=()=>navigator.maxTouchPoints>0;var nn;class xg{constructor(){D(this,nn,null)}getEnvironment(){return b(this,nn)==null&&B(this,nn,location.host.endsWith("ygoprodeck.com")),b(this,nn)?on.YGOPRODECK:on.DEFAULT}}nn=new WeakMap;const Eg=e=>({data:e,meta:{current_rows:0,total_rows:0,rows_remaining:0,total_pages:0,pages_remaining:0}}),Yt=e=>{if(e.status>=200&&e.status<=299)return e;throw new Error(`Unexpected status code: ${e.status} - ${e.statusText}.`)};var ai,ar,or,sr,ha,oi,Ml,lr,_a,Je,Xt,Qe,qt;const vt=class vt{constructor(n){D(this,sr);D(this,oi);D(this,lr);D(this,Je);D(this,Qe);D(this,or,void 0);B(this,or,n)}async getSingleCard(n){const t=new URL("cardinfo.php",I(this,Je,Xt).call(this));I(this,sr,ha).call(this,t.searchParams,n);const r=await I(this,Qe,qt).call(this,t,I(this,lr,_a).call(this,n)).then(i=>i.status===b(vt,ar)?null:(Yt(i),i.json()));return r==null?null:r.data[0]}async getCards(n){const t=new URL("cardinfo.php",I(this,Je,Xt).call(this));I(this,sr,ha).call(this,t.searchParams,n),t.searchParams.set("num",b(vt,ai).toString());const r=I(this,lr,_a).call(this,n);return I(this,oi,Ml).call(this,async i=>{const a=new URL(t);return a.searchParams.set("offset",i.toString()),I(this,Qe,qt).call(this,a,r).then(s=>s.status===b(vt,ar)?Eg([]):(Yt(s),s.json()))})}async getCardSets(){return I(this,Qe,qt).call(this,new URL("cardsets.php",I(this,Je,Xt).call(this))).then(Yt).then(n=>n.json())}getCardValues(){return I(this,Qe,qt).call(this,new URL("cardvalues.php",I(this,Je,Xt).call(this))).then(Yt).then(n=>n.json())}async getArchetypes(){return I(this,Qe,qt).call(this,new URL("archetypes.php",I(this,Je,Xt).call(this))).then(Yt).then(n=>n.json())}async updateViews(n){const t=new URL("https://ygoprodeck.com/api/card/updateViews.php");return t.searchParams.set("card",n.passcode),fetch(t,{method:"GET"}).then(r=>{Yt(r)})}};ai=new WeakMap,ar=new WeakMap,or=new WeakMap,sr=new WeakSet,ha=function(n,t){n.set("misc","yes"),t.includeAliased&&n.set("includeAliased","yes"),n.set("format","all"),t.passcode!=null&&n.set("id",t.passcode),t.fuzzyName!=null&&n.set("fname",t.fuzzyName),t.sorting!=null&&n.set("sort",t.sorting),t.auth!=null&&n.set("cachebust",String(Date.now()))},oi=new WeakSet,Ml=async function(n){const t=[];let r=0,i=null;for(;i==null||i>0;){const a=await n(r);t.push(...a.data),i=a.meta.pages_remaining,a.meta.next_page_offset!=null&&(r=a.meta.next_page_offset)}return t},lr=new WeakSet,_a=function(n){return n.auth==null?{}:{"X-Authorization":`Basic ${btoa(`${n.auth.username}:${n.auth.token}`)}`}},Je=new WeakSet,Xt=function(){return b(this,or).getEnvironment()==on.YGOPRODECK?"https://db.ygoprodeck.com/api_internal/v7/":"https://db.ygoprodeck.com/api/v7/"},Qe=new WeakSet,qt=async function(n,t={}){return fetch(n,{method:"GET",headers:{Accept:"application/json",...t}})},D(vt,ai,2e3),D(vt,ar,400);let pa=vt;var rn,fr,si,$l;class Ag{constructor(n,t){D(this,si);D(this,rn,void 0);D(this,fr,void 0);B(this,rn,n),B(this,fr,t)}async increaseCardViewCount(n){return this.validateEnv(),b(this,rn).updateViews(n)}async getCollectionCardCountFunction(n){this.validateEnv();const t=await b(this,rn).getCards({includeAliased:!0,auth:n});return I(this,si,$l).call(this,Vl(t,(r,i)=>String(i.id),(r,i)=>i.cardq))}validateEnv(){if(b(this,fr).getEnvironment()!=on.YGOPRODECK)throw new Error("Only available in YGOPRODECK environment.")}}rn=new WeakMap,fr=new WeakMap,si=new WeakSet,$l=function(n){return t=>n.has(t.passcode)?n.get(t.passcode):0};var Se,li;const Ae=class Ae{constructor(n){D(this,li,void 0);B(this,li,n)}getPlaceholderCardImageUrl(){return"https://images.ygoprodeck.com/images/cards/4035199.jpg"}getTypeImageUrl(n){return`${b(Ae,Se)}/${encodeURIComponent(n.type.name)}.jpg`}getSubTypeImageUrl(n){return`${b(Ae,Se)}/race/${encodeURIComponent(n.subType)}.png`}getAttributeImageUrl(n){return`${b(Ae,Se)}/attributes/${encodeURIComponent(n.attribute)}.jpg`}getAtkImageUrl(){return`${b(Ae,Se)}/misc/atk.png`}getLevelImageUrl(){return`${b(Ae,Se)}/misc/level.png`}getLinkMarkerImageUrl(){return`${b(Ae,Se)}/linkarrows/Right.png`}getBanStateImageUrl(n,t){return`${b(Ae,Se)}/${encodeURIComponent(n.banlist[t].name)}.png`}};Se=new WeakMap,li=new WeakMap,D(Ae,Se,"https://images.ygoprodeck.com/images/cards/icons");let ga=Ae;const Tg=di("mapCard"),hs=new Map([["Unlimited",pe.UNLIMITED],["Semi-Limited",pe.SEMI_LIMITED],["Limited",pe.LIMITED],["Banned",pe.BANNED]]),Gi=e=>e!=null&&hs.has(e)?hs.get(e):pe.UNLIMITED,Og=new Map([["OCG",Z.OCG],["TCG",Z.TCG],["GOAT",Z.GOAT],["OCG GOAT",Z.OCG_GOAT],["Speed Duel",Z.SPEED_DUEL],["Rush Duel",Z.RUSH_DUEL],["Duel Links",Z.DUEL_LINKS],["Common Charity",Z.COMMON_CHARITY],["Edison",Z.EDISON]]),Sg=e=>e==null||e.formats==null?[]:e.formats.map(n=>xa(Og,n)),kg=(e,n)=>(e.name==="Beast Fangs"&&console.log("MAPPING CAAAAAAAAAARD",e.name),e.card_sets==null?[]:e.card_sets.filter(t=>n.has(t.set_name)?!0:(Tg.warn(`Could not find set '${t.set_name}'.`),!1)).map(t=>{let r=n.get(t.set_name);return r.raririty_code=t.set_rarity_code,e.name==="Beast Fangs"&&(console.log("MAPPING"),console.log(t.set_name),console.log(t.set_rarity_code),console.log(t.set_price),console.log(r.raririty_code)),{...r}})),Cg=e=>{if(e.card_images==null)return null;const n=e.card_images[0];return{url:n.image_url,urlSmall:n.image_url_small}},Dg=e=>{const n=new Map;if(e.card_prices!=null){const t=(i,a)=>{const s=Number(a);s>0&&n.set(i,s)},r=e.card_prices[0];t(Rn.CARD_MARKET,r.cardmarket_price),t(Rn.TCG_PLAYER,r.tcgplayer_price),t(Rn.COOL_STUFF_INC,r.coolstuffinc_price)}return n},_s=e=>e==null?null:new Date(e).getTime(),Lg=e=>({[Z.TCG]:_s((e==null?void 0:e.tcg_date)??null),[Z.OCG]:_s((e==null?void 0:e.ocg_date)??null)}),Rg=(e,n)=>{if(!n.has(e))throw new TypeError(`Could not find type '${e}'.`);return n.get(e)},Ig=(e,n,t)=>{var i,a,s;const r=e.misc_info!=null?e.misc_info[0]:null;return{passcode:String(e.id),name:e.name,description:e.desc,type:Rg(e.type,t),subType:e.race,attribute:e.attribute??null,atk:e.atk??null,def:e.def??null,level:e.level??null,pendulumScale:e.scale??null,linkRating:e.linkval??null,linkMarkers:e.linkmarkers??null,treatedAs:(r==null?void 0:r.treated_as)??null,archetype:e.archetype??null,betaPasscode:(r==null?void 0:r.beta_id)!=null?String(r.beta_id):null,betaName:(r==null?void 0:r.beta_name)??null,release:Lg(r),sets:kg(e,n),formats:Sg(r),banlist:{[Z.TCG]:Gi(((i=e.banlist_info)==null?void 0:i.ban_tcg)??null),[Z.OCG]:Gi(((a=e.banlist_info)==null?void 0:a.ban_ocg)??null),[Z.GOAT]:Gi(((s=e.banlist_info)==null?void 0:s.ban_goat)??null)},image:Cg(e),prices:Dg(e),views:(r==null?void 0:r.views)??0}},Mg=e=>e.archetype_name,$g=e=>({name:e.set_name,code:e.set_code}),Pg=new Map([["MONSTER",G.MONSTER],["SPELL",G.SPELL],["TRAP",G.TRAP],["SKILL",G.SKILL]]),Ng=e=>xa(Pg,e.group),Ug=new Map([["MAIN",at.MAIN],["EXTRA",at.EXTRA],["SIDE",at.SIDE]]),zg=e=>new Set(e.area.map(n=>xa(Ug,n))),jr=(e,n)=>e.map(t=>Yl(n.find(r=>r.name===t),()=>new TypeError(`Could not find type '${t}'.`))),Bg=e=>{const n=e.types.map(t=>({name:t.name,category:Ng(t),sortGroup:t.sortGroup,deckParts:zg(t)}));return{[G.MONSTER]:{types:jr(e.MONSTER.type,n),subTypes:e.MONSTER.race,attributes:e.MONSTER.attributes,levels:e.MONSTER.level,linkMarkers:e.MONSTER.linkmarkers},[G.SPELL]:{types:jr(e.SPELL.type,n),subTypes:e.SPELL.race},[G.TRAP]:{types:jr(e.TRAP.type,n),subTypes:e.TRAP.race},[G.SKILL]:{types:jr(e.SKILL.type,n),subTypes:e.SKILL.race}}};var et,ke,Et,At,Tt,Ot,Ce,St,tt,an,nt,kt,Ct,Dt,Lt,Rt,fi,Pl,ci,Nl,ui,Ul,cr,ba,ur,ma,dr,ya,pr,wa;const Fe=class Fe{constructor(n){D(this,fi);D(this,ci);D(this,ui);D(this,cr);D(this,ur);D(this,dr);D(this,pr);D(this,ke,void 0);D(this,Et,void 0);D(this,At,void 0);D(this,Tt,void 0);D(this,Ot,void 0);D(this,Ce,void 0);D(this,St,void 0);D(this,tt,void 0);D(this,an,void 0);D(this,nt,void 0);D(this,kt,void 0);D(this,Ct,void 0);D(this,Dt,void 0);D(this,Lt,void 0);D(this,Rt,void 0);B(this,ke,n),B(this,Et,null),B(this,At,null),B(this,Tt,null),B(this,Ot,null),B(this,tt,new Map),B(this,an,new Map),B(this,Ce,new Map),B(this,St,new Map),B(this,Rt,[]),B(this,nt,new Map(Object.values(G).map(t=>[t,[]]))),B(this,kt,new Map(Object.values(G).map(t=>[t,[]]))),B(this,Ct,[]),B(this,Dt,[]),B(this,Lt,[])}async prepareAll(){await Promise.all([I(this,cr,ba).call(this),I(this,ur,ma).call(this),I(this,ui,Ul).call(this)]),await I(this,ci,Nl).call(this)}async prepareCard(n,t){await Promise.all([I(this,cr,ba).call(this),I(this,ur,ma).call(this)]);const r=await I(this,fi,Pl).call(this,n,t);return r==null?null:t==ue.NAME?r.name:r.passcode}hasCard(n,t){return I(this,pr,wa).call(this,t).has(n)}getCard(n,t){return I(this,pr,wa).call(this,t).get(n)??null}getCards(){return Array.from(b(this,Ce).values())}getSets(){return Array.from(b(this,tt).values())}getArchetypes(){return b(this,Rt)}getTypes(n){return b(this,nt).get(n)}getSubTypes(n){return b(this,kt).get(n)}getAttributes(){return b(this,Ct)}getLevels(){return b(this,Lt)}getLinkMarkers(){return b(this,Dt)}};et=new WeakMap,ke=new WeakMap,Et=new WeakMap,At=new WeakMap,Tt=new WeakMap,Ot=new WeakMap,Ce=new WeakMap,St=new WeakMap,tt=new WeakMap,an=new WeakMap,nt=new WeakMap,kt=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,fi=new WeakSet,Pl=async function(n,t){if(!this.hasCard(n,t)){let r;t==ue.PASSCODE?r=await b(this,ke).getSingleCard({passcode:n,includeAliased:!0}):r=await b(this,ke).getSingleCard({fuzzyName:n,sorting:"relevance",includeAliased:!1}),r!=null&&I(this,dr,ya).call(this,r)}return this.getCard(n,t)},ci=new WeakSet,Nl=async function(){return b(this,Ot)==null&&B(this,Ot,b(this,ke).getCards({includeAliased:!0}).then(n=>{n.forEach(t=>I(this,dr,ya).call(this,t))})),b(this,Ot)},ui=new WeakSet,Ul=async function(){return b(this,At)==null&&B(this,At,b(this,ke).getArchetypes().then(n=>{const t=n.map(Mg);b(this,Rt).push(...t),b(Fe,et).debug("Registered archetypes.",b(this,Rt))})),b(this,At)},cr=new WeakSet,ba=async function(){return b(this,Et)==null&&B(this,Et,b(this,ke).getCardSets().then(n=>{for(const t of n){const r=$g(t);b(this,tt).set(r.name,r)}b(Fe,et).debug("Registered sets.",b(this,tt))})),b(this,Et)},ur=new WeakSet,ma=async function(){return b(this,Tt)==null&&B(this,Tt,b(this,ke).getCardValues().then(Bg).then(n=>{for(const t of Object.values(G))b(this,nt).get(t).push(...n[t].types),b(this,kt).get(t).push(...n[t].subTypes);Array.from(b(this,nt).values()).flat().forEach(t=>b(this,an).set(t.name,t)),b(Fe,et).debug("Registered types and sub-types.",b(this,nt),b(this,kt)),b(this,Ct).push(...n[G.MONSTER].attributes),b(this,Lt).push(...n[G.MONSTER].levels),b(this,Dt).push(...n[G.MONSTER].linkMarkers),b(Fe,et).debug("Registered monster values.",b(this,Ct),b(this,Lt),b(this,Dt))})),b(this,Tt)},dr=new WeakSet,ya=function(n){const t=Ig(n,b(this,tt),b(this,an));if(b(this,Ce).has(t.passcode)||t.betaPasscode!=null&&b(this,Ce).has(t.betaPasscode)){b(Fe,et).warn("Refusing to add already registered card passcode.",t);return}b(this,Ce).set(t.passcode,t),t.betaPasscode!=null&&b(this,Ce).set(t.betaPasscode,t),b(this,St).set(t.name,t),t.betaName!=null&&b(this,St).set(t.betaName,t)},pr=new WeakSet,wa=function(n){return n==ue.PASSCODE?b(this,Ce):b(this,St)},D(Fe,et,di(Fe));let va=Fe;const jg=e=>{const n=new ga(e),t=new pa(e),r=new Ag(t,e),i=new va(t);return{resourceService:n,ygoprodeckService:r,cardDatabase:i}},zl=new xg,{cardDatabase:Fg,resourceService:wt,ygoprodeckService:Hg}=jg(zl),gs=new id,Zg=new yg(Fg),Gg=e=>{var t;const n=(t=e.attributes.getNamedItem("href"))==null?void 0:t.value;return n==null||n===""},Kg=e=>{const n=new URL("https://ygoprodeck.com/card/");return n.searchParams.append("search",e.name),n},Vg=(e,n)=>{!wg()&&Gg(e)&&(e.href=Kg(n).toString(),e.target="_blank",e.relList.add("noopener"))},yn=(e,n,t)=>{const r=document.createElement(e);return n.length>0&&r.classList.add(...n),r.append(...t),r},ne=(e,n)=>yn("div",e,n),Wg=(e,n)=>yn("ul",e,n),Yg=(e,n)=>{const t=yn("li",e,[]);return t.textContent=n,t},_e=(e,n)=>{const t=yn("span",e,[]);return t.textContent=n,t},Xg=(e,n)=>{const t=yn("p",e,[]);return t.textContent=n,t},it=(e,n,t)=>{const r=yn("img",e,[]);return r.src=n,r.alt=t,r},qg=()=>ne(["card-tooltip__content","card-tooltip__content--loading"],[ne(["card-tooltip__loading"],[_e(["fas","fa-spinner","fa-spin"],""),_e([],"Loading...")])]),Jg=e=>{const n=[],t=it([],wt.getAtkImageUrl(),"");return n.push(t),e.atk!=null&&n.push(_e([],`ATK/ ${e.atk}`)),e.def!=null?n.push(_e([],`DEF/ ${e.def}`)):e.linkRating!=null&&n.push(_e([],`LINK-${e.linkRating}`)),ne(["card-tooltip__stats"],n)},Qg=e=>{const n=[];return e.type.category===G.MONSTER&&(n.push(it([],wt.getAttributeImageUrl(e),"")),n.push(_e([],`Attribute: ${e.attribute}`))),n.push(it([],wt.getSubTypeImageUrl(e),"")),n.push(_e([],`Type: ${e.subType}`)),ne(["card-tooltip__subtype"],n)},e0=e=>{const n=[];for(const t of Xl){const r=gs.getPrice([e],t);if(r.missing.length>0)continue;const i=Yg(["card-tooltip__price__vendor",`card-tooltip__price__vendor--${t.id}`],`${t.name}: ${gs.formatPrice(r.price,t.currency)}`);n.push(i)}return Wg(["card-tooltip__price"],n)},t0=e=>ne(["card-tooltip__description"],e.description.split(`
`).map(n=>Xg([],n))),n0=e=>{const n=[],t=Z.TCG,r=ne(["card-tooltip__details"],[it([],wt.getTypeImageUrl(e),`Type: ${e.type.name}`),_e(["card-tooltip__name"],e.name),it([],wt.getBanStateImageUrl(e,t),`Ban State: ${e.banlist[t].name}`)]);if(n.push(r),e.type.category===G.MONSTER&&n.push(Jg(e)),e.type.category!==G.SKILL&&n.push(Qg(e)),e.type.category===G.MONSTER){if(e.level!=null){const i=ne(["card-tooltip__level"],[it([],wt.getLevelImageUrl(),""),_e([],`Level/Rank: ${e.level}`)]);n.push(i)}else if(e.linkMarkers!=null){const i=ne(["card-tooltip__link-markers"],[it([],wt.getLinkMarkerImageUrl(),""),_e([],`Link Markers: ${e.linkMarkers.join(", ")}`)]);n.push(i)}}return n.push(t0(e)),n.push(e0(e)),ne(["card-tooltip__details__col"],n)},r0=e=>{var t;const n=it(["card-tooltip__image"],((t=e.image)==null?void 0:t.url)??"#","");return ne(["card-tooltip__image__col"],[n])},i0=e=>ne(["card-tooltip"],[ne(["card-tooltip__content"],[n0(e),r0(e)])]),a0=e=>ne(["card-tooltip__content","card-tooltip__content--error"],[ne(["card-tooltip__error"],[_e(["fas","fa-times"],""),_e([],e)])]),Fr=di("bindTooltip"),o0=(e,n,t,r)=>{Fr.trace(`Attempting to show tooltip for '${t}'.`),Zg.loadCard(t).then(i=>{Fr.trace("Loaded card.",i),i.prices.set(Rn.CUSTOM,r),e.setContent(i0(i)),n instanceof HTMLAnchorElement&&Vg(n,i),zl.getEnvironment()==on.YGOPRODECK&&Hg.increaseCardViewCount(i).catch(a=>Fr.warn("Could not update view count.",a))}).catch(i=>{e.setContent(a0("Error while loading card.")),Fr.error("Error while loading card.",i)})},s0=e=>{const n=mg(e,{target:"[data-name]",delay:[500,0],placement:"auto",maxWidth:"none",allowHTML:!0,content:()=>qg(),onShow:r=>{const i=r.reference,a=i.dataset.name,s=i.dataset.price;o0(r,i,a,s)}});let t=!1;return{disable(){n.disable(),t=!0},enable:()=>{t=!1,setTimeout(()=>{t||n.enable()},100)}}},vs=di("tooltip"),l0=()=>{window.yugiohDeckToolTooltip==null?(vs.debug("Setting up card tooltip."),window.yugiohDeckToolTooltip=s0(document.body)):vs.debug("Tooltip instance exists, skipping setup.")};document.addEventListener("DOMContentLoaded",()=>l0());export{Xl as A,oo as B,G as C,On as D,u0 as E,Z as F,Kl as G,xg as H,c0 as I,on as J,d0 as K,wg as L,xa as M,id as P,sn as S,Gr as a,hr as b,ws as c,If as d,Lf as e,Es as f,gn as g,vc as h,Bn as i,Kr as j,Dc as k,Lu as l,Vi as m,ks as n,jf as o,eo as p,$f as q,Ke as r,Cc as s,at as t,p0 as u,Rn as v,ue as w,di as x,jg as y,Yo as z};
